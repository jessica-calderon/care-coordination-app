(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function oA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var em={exports:{}},Yl={};var z0;function lA(){if(z0)return Yl;z0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(i,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:i,key:f,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=t,Yl.jsx=a,Yl.jsxs=a,Yl}var U0;function uA(){return U0||(U0=1,em.exports=lA()),em.exports}var T=uA(),nm={exports:{}},Ot={};var P0;function cA(){if(P0)return Ot;P0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),w=Symbol.iterator;function D(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,q={};function lt(R,K,ot){this.props=R,this.context=K,this.refs=q,this.updater=ot||P}lt.prototype.isReactComponent={},lt.prototype.setState=function(R,K){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,K,"setState")},lt.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function at(){}at.prototype=lt.prototype;function rt(R,K,ot){this.props=R,this.context=K,this.refs=q,this.updater=ot||P}var yt=rt.prototype=new at;yt.constructor=rt,Y(yt,lt.prototype),yt.isPureReactComponent=!0;var st=Array.isArray;function It(){}var N={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(R,K,ot){var ht=ot.ref;return{$$typeof:r,type:R,key:K,ref:ht!==void 0?ht:null,props:ot}}function V(R,K){return I(R.type,K,R.props)}function O(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function L(R){var K={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ot){return K[ot]})}var x=/\/+/g;function ie(R,K){return typeof R=="object"&&R!==null&&R.key!=null?L(""+R.key):K.toString(36)}function ye(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(It,It):(R.status="pending",R.then(function(K){R.status==="pending"&&(R.status="fulfilled",R.value=K)},function(K){R.status==="pending"&&(R.status="rejected",R.reason=K)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Q(R,K,ot,ht,xt){var Dt=typeof R;(Dt==="undefined"||Dt==="boolean")&&(R=null);var Ut=!1;if(R===null)Ut=!0;else switch(Dt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(R.$$typeof){case r:case t:Ut=!0;break;case _:return Ut=R._init,Q(Ut(R._payload),K,ot,ht,xt)}}if(Ut)return xt=xt(R),Ut=ht===""?"."+ie(R,0):ht,st(xt)?(ot="",Ut!=null&&(ot=Ut.replace(x,"$&/")+"/"),Q(xt,K,ot,"",function(La){return La})):xt!=null&&(O(xt)&&(xt=V(xt,ot+(xt.key==null||R&&R.key===xt.key?"":(""+xt.key).replace(x,"$&/")+"/")+Ut)),K.push(xt)),1;Ut=0;var Se=ht===""?".":ht+":";if(st(R))for(var fe=0;fe<R.length;fe++)ht=R[fe],Dt=Se+ie(ht,fe),Ut+=Q(ht,K,ot,Dt,xt);else if(fe=D(R),typeof fe=="function")for(R=fe.call(R),fe=0;!(ht=R.next()).done;)ht=ht.value,Dt=Se+ie(ht,fe++),Ut+=Q(ht,K,ot,Dt,xt);else if(Dt==="object"){if(typeof R.then=="function")return Q(ye(R),K,ot,ht,xt);throw K=String(R),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function ct(R,K,ot){if(R==null)return R;var ht=[],xt=0;return Q(R,ht,"","",function(Dt){return K.call(ot,Dt,xt++)}),ht}function Et(R){if(R._status===-1){var K=R._result;K=K(),K.then(function(ot){(R._status===0||R._status===-1)&&(R._status=1,R._result=ot)},function(ot){(R._status===0||R._status===-1)&&(R._status=2,R._result=ot)}),R._status===-1&&(R._status=0,R._result=K)}if(R._status===1)return R._result.default;throw R._result}var tt=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},gt={map:ct,forEach:function(R,K,ot){ct(R,function(){K.apply(this,arguments)},ot)},count:function(R){var K=0;return ct(R,function(){K++}),K},toArray:function(R){return ct(R,function(K){return K})||[]},only:function(R){if(!O(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ot.Activity=E,Ot.Children=gt,Ot.Component=lt,Ot.Fragment=a,Ot.Profiler=o,Ot.PureComponent=rt,Ot.StrictMode=i,Ot.Suspense=g,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(R){return N.H.useMemoCache(R)}},Ot.cache=function(R){return function(){return R.apply(null,arguments)}},Ot.cacheSignal=function(){return null},Ot.cloneElement=function(R,K,ot){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ht=Y({},R.props),xt=R.key;if(K!=null)for(Dt in K.key!==void 0&&(xt=""+K.key),K)!C.call(K,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&K.ref===void 0||(ht[Dt]=K[Dt]);var Dt=arguments.length-2;if(Dt===1)ht.children=ot;else if(1<Dt){for(var Ut=Array(Dt),Se=0;Se<Dt;Se++)Ut[Se]=arguments[Se+2];ht.children=Ut}return I(R.type,xt,ht)},Ot.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Ot.createElement=function(R,K,ot){var ht,xt={},Dt=null;if(K!=null)for(ht in K.key!==void 0&&(Dt=""+K.key),K)C.call(K,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(xt[ht]=K[ht]);var Ut=arguments.length-2;if(Ut===1)xt.children=ot;else if(1<Ut){for(var Se=Array(Ut),fe=0;fe<Ut;fe++)Se[fe]=arguments[fe+2];xt.children=Se}if(R&&R.defaultProps)for(ht in Ut=R.defaultProps,Ut)xt[ht]===void 0&&(xt[ht]=Ut[ht]);return I(R,Dt,xt)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(R){return{$$typeof:m,render:R}},Ot.isValidElement=O,Ot.lazy=function(R){return{$$typeof:_,_payload:{_status:-1,_result:R},_init:Et}},Ot.memo=function(R,K){return{$$typeof:p,type:R,compare:K===void 0?null:K}},Ot.startTransition=function(R){var K=N.T,ot={};N.T=ot;try{var ht=R(),xt=N.S;xt!==null&&xt(ot,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(It,tt)}catch(Dt){tt(Dt)}finally{K!==null&&ot.types!==null&&(K.types=ot.types),N.T=K}},Ot.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ot.use=function(R){return N.H.use(R)},Ot.useActionState=function(R,K,ot){return N.H.useActionState(R,K,ot)},Ot.useCallback=function(R,K){return N.H.useCallback(R,K)},Ot.useContext=function(R){return N.H.useContext(R)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(R,K){return N.H.useDeferredValue(R,K)},Ot.useEffect=function(R,K){return N.H.useEffect(R,K)},Ot.useEffectEvent=function(R){return N.H.useEffectEvent(R)},Ot.useId=function(){return N.H.useId()},Ot.useImperativeHandle=function(R,K,ot){return N.H.useImperativeHandle(R,K,ot)},Ot.useInsertionEffect=function(R,K){return N.H.useInsertionEffect(R,K)},Ot.useLayoutEffect=function(R,K){return N.H.useLayoutEffect(R,K)},Ot.useMemo=function(R,K){return N.H.useMemo(R,K)},Ot.useOptimistic=function(R,K){return N.H.useOptimistic(R,K)},Ot.useReducer=function(R,K,ot){return N.H.useReducer(R,K,ot)},Ot.useRef=function(R){return N.H.useRef(R)},Ot.useState=function(R){return N.H.useState(R)},Ot.useSyncExternalStore=function(R,K,ot){return N.H.useSyncExternalStore(R,K,ot)},Ot.useTransition=function(){return N.H.useTransition()},Ot.version="19.2.3",Ot}var B0;function fg(){return B0||(B0=1,nm.exports=cA()),nm.exports}var mt=fg();const Xb=oA(mt);var am={exports:{}},Kl={},rm={exports:{}},im={};var F0;function fA(){return F0||(F0=1,(function(r){function t(Q,ct){var Et=Q.length;Q.push(ct);t:for(;0<Et;){var tt=Et-1>>>1,gt=Q[tt];if(0<o(gt,ct))Q[tt]=ct,Q[Et]=gt,Et=tt;else break t}}function a(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ct=Q[0],Et=Q.pop();if(Et!==ct){Q[0]=Et;t:for(var tt=0,gt=Q.length,R=gt>>>1;tt<R;){var K=2*(tt+1)-1,ot=Q[K],ht=K+1,xt=Q[ht];if(0>o(ot,Et))ht<gt&&0>o(xt,ot)?(Q[tt]=xt,Q[ht]=Et,tt=ht):(Q[tt]=ot,Q[K]=Et,tt=K);else if(ht<gt&&0>o(xt,Et))Q[tt]=xt,Q[ht]=Et,tt=ht;else break t}}return ct}function o(Q,ct){var Et=Q.sortIndex-ct.sortIndex;return Et!==0?Et:Q.id-ct.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],_=1,E=null,w=3,D=!1,P=!1,Y=!1,q=!1,lt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function yt(Q){for(var ct=a(p);ct!==null;){if(ct.callback===null)i(p);else if(ct.startTime<=Q)i(p),ct.sortIndex=ct.expirationTime,t(g,ct);else break;ct=a(p)}}function st(Q){if(Y=!1,yt(Q),!P)if(a(g)!==null)P=!0,It||(It=!0,L());else{var ct=a(p);ct!==null&&ye(st,ct.startTime-Q)}}var It=!1,N=-1,C=5,I=-1;function V(){return q?!0:!(r.unstable_now()-I<C)}function O(){if(q=!1,It){var Q=r.unstable_now();I=Q;var ct=!0;try{t:{P=!1,Y&&(Y=!1,at(N),N=-1),D=!0;var Et=w;try{e:{for(yt(Q),E=a(g);E!==null&&!(E.expirationTime>Q&&V());){var tt=E.callback;if(typeof tt=="function"){E.callback=null,w=E.priorityLevel;var gt=tt(E.expirationTime<=Q);if(Q=r.unstable_now(),typeof gt=="function"){E.callback=gt,yt(Q),ct=!0;break e}E===a(g)&&i(g),yt(Q)}else i(g);E=a(g)}if(E!==null)ct=!0;else{var R=a(p);R!==null&&ye(st,R.startTime-Q),ct=!1}}break t}finally{E=null,w=Et,D=!1}ct=void 0}}finally{ct?L():It=!1}}}var L;if(typeof rt=="function")L=function(){rt(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ie=x.port2;x.port1.onmessage=O,L=function(){ie.postMessage(null)}}else L=function(){lt(O,0)};function ye(Q,ct){N=lt(function(){Q(r.unstable_now())},ct)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var ct=3;break;default:ct=w}var Et=w;w=ct;try{return Q()}finally{w=Et}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(Q,ct){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Et=w;w=Q;try{return ct()}finally{w=Et}},r.unstable_scheduleCallback=function(Q,ct,Et){var tt=r.unstable_now();switch(typeof Et=="object"&&Et!==null?(Et=Et.delay,Et=typeof Et=="number"&&0<Et?tt+Et:tt):Et=tt,Q){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=Et+gt,Q={id:_++,callback:ct,priorityLevel:Q,startTime:Et,expirationTime:gt,sortIndex:-1},Et>tt?(Q.sortIndex=Et,t(p,Q),a(g)===null&&Q===a(p)&&(Y?(at(N),N=-1):Y=!0,ye(st,Et-tt))):(Q.sortIndex=gt,t(g,Q),P||D||(P=!0,It||(It=!0,L()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var ct=w;return function(){var Et=w;w=ct;try{return Q.apply(this,arguments)}finally{w=Et}}}})(im)),im}var q0;function hA(){return q0||(q0=1,rm.exports=fA()),rm.exports}var sm={exports:{}},pn={};var H0;function dA(){if(H0)return pn;H0=1;var r=fg();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:p,implementation:_}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,_)},pn.flushSync=function(g){var p=f.T,_=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=p,i.p=_,i.d.f()}},pn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},pn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},pn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,E=m(_,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:D}):_==="script"&&i.d.X(g,{crossOrigin:E,integrity:w,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=m(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},pn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,E=m(_,p.crossOrigin);i.d.L(g,_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pn.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=m(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},pn.requestFormReset=function(g){i.d.r(g)},pn.unstable_batchedUpdates=function(g,p){return g(p)},pn.useFormState=function(g,p,_){return f.H.useFormState(g,p,_)},pn.useFormStatus=function(){return f.H.useHostTransitionStatus()},pn.version="19.2.3",pn}var G0;function mA(){if(G0)return sm.exports;G0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sm.exports=dA(),sm.exports}var Y0;function gA(){if(Y0)return Kl;Y0=1;var r=hA(),t=fg(),a=mA();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(i(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(i(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return g(h),e;if(d===l)return g(h),n;d=d.sibling}throw Error(i(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===s){v=!0,s=h,l=d;break}if(S===l){v=!0,l=h,s=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===s){v=!0,s=d,l=h;break}if(S===l){v=!0,l=d,s=h;break}S=S.sibling}if(!v)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case lt:return"Profiler";case q:return"StrictMode";case st:return"Suspense";case It:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case rt:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case yt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case C:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var ye=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},tt=[],gt=-1;function R(e){return{current:e}}function K(e){0>gt||(e.current=tt[gt],tt[gt]=null,gt--)}function ot(e,n){gt++,tt[gt]=e.current,e.current=n}var ht=R(null),xt=R(null),Dt=R(null),Ut=R(null);function Se(e,n){switch(ot(Dt,n),ot(xt,e),ot(ht,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?o0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=o0(n),e=l0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(ht),ot(ht,e)}function fe(){K(ht),K(xt),K(Dt)}function La(e){e.memoizedState!==null&&ot(Ut,e);var n=ht.current,s=l0(n,e.type);n!==s&&(ot(xt,e),ot(ht,s))}function ya(e){xt.current===e&&(K(ht),K(xt)),Ut.current===e&&(K(Ut),Fl._currentValue=Et)}var va,ta;function Ln(e){if(va===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);va=n&&n[1]||"",ta=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+e+ta}var Gi=!1;function ba(e,n){if(!e||Gi)return"";Gi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var F=G}Reflect.construct(e,[],W)}else{try{W.call()}catch(G){F=G}e.call(W.prototype)}}else{try{throw Error()}catch(G){F=G}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var k=v.split(`
`),B=S.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===B.length)for(l=k.length-1,h=B.length-1;1<=l&&0<=h&&k[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==B[h]){var $=`
`+k[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=h);break}}}finally{Gi=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ln(s):""}function Yr(e,n){switch(e.tag){case 26:case 27:case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return e.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return ba(e.type,!1);case 11:return ba(e.type.render,!1);case 1:return ba(e.type,!0);case 31:return Ln("Activity");default:return""}}function Kr(e){try{var n="",s=null;do n+=Yr(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,ke=r.unstable_scheduleCallback,ea=r.unstable_cancelCallback,za=r.unstable_shouldYield,Yi=r.unstable_requestPaint,nn=r.unstable_now,Ua=r.unstable_getCurrentPriorityLevel,Qr=r.unstable_ImmediatePriority,Ki=r.unstable_UserBlockingPriority,_a=r.unstable_NormalPriority,Qo=r.unstable_LowPriority,Os=r.unstable_IdlePriority,Ms=r.log,Vs=r.unstable_setDisableYieldValue,zn=null,Qe=null;function wn(e){if(typeof Ms=="function"&&Vs(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(zn,e)}catch{}}var xe=Math.clz32?Math.clz32:Z,js=Math.log,X=Math.LN2;function Z(e){return e>>>=0,e===0?32:31-(js(e)/X|0)|0}var ut=256,dt=262144,Tt=4194304;function St(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jt(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=St(l):(v&=S,v!==0?h=St(v):s||(s=S&~e,s!==0&&(h=St(s))))):(S=l&~d,S!==0?h=St(S):v!==0?h=St(v):s||(s=l&~e,s!==0&&(h=St(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Re(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function _n(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cn(){var e=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),e}function an(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ve(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ea(e,n,s,l,h,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var S=e.entanglements,k=e.expirationTimes,B=e.hiddenUpdates;for(s=v&~s;0<s;){var $=31-xe(s),W=1<<$;S[$]=0,k[$]=-1;var F=B[$];if(F!==null)for(B[$]=null,$=0;$<F.length;$++){var G=F[$];G!==null&&(G.lane&=-536870913)}s&=~W}l!==0&&gn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function gn(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-xe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function rn(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-xe(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function na(e,n){var s=n&-n;return s=(s&42)!==0?1:Ta(s),(s&(e.suspendedLanes|n))!==0?0:s}function Ta(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function En(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qi(){var e=ct.p;return e!==0?e:(e=window.event,e===void 0?32:D0(e.type))}function Sa(e,n){var s=ct.p;try{return ct.p=e,n()}finally{ct.p=s}}var Aa=Math.random().toString(36).slice(2),Le="__reactFiber$"+Aa,Je="__reactProps$"+Aa,Pa="__reactContainer$"+Aa,Ls="__reactEvents$"+Aa,oh="__reactListeners$"+Aa,Du="__reactHandles$"+Aa,ku="__reactResources$"+Aa,Ba="__reactMarker$"+Aa;function zs(e){delete e[Le],delete e[Je],delete e[Ls],delete e[oh],delete e[Du]}function Fa(e){var n=e[Le];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Pa]||s[Le]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=g0(e);e!==null;){if(s=e[Le])return s;e=g0(e)}return n}e=s,s=e.parentNode}return null}function aa(e){if(e=e[Le]||e[Pa]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Un(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function qa(e){var n=e[ku];return n||(n=e[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ze(e){e[Ba]=!0}var $o=new Set,Xo={};function Ha(e,n){Ga(e,n),Ga(e+"Capture",n)}function Ga(e,n){for(Xo[e]=n,e=0;e<n.length;e++)$o.add(n[e])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Wo={};function Ou(e){return Ae.call(Wo,e)?!0:Ae.call(Jo,e)?!1:Zo.test(e)?Wo[e]=!0:(Jo[e]=!0,!1)}function Us(e,n,s){if(Ou(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Pn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ue(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $r(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){s=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function se(e){if(!e._valueTracker){var n=$r(e)?"checked":"value";e._valueTracker=tl(e,n,""+e[n])}}function $i(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=$r(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Ya(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xi=/[\n"\\]/g;function xn(e){return e.replace(Xi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ps(e,n,s,l,h,d,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+We(n)):e.value!==""+We(n)&&(e.value=""+We(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?el(e,v,We(n)):s!=null?el(e,v,We(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+We(S):e.removeAttribute("name")}function Mu(e,n,s,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){se(e);return}s=s!=null?""+We(s):"",n=n!=null?""+We(n):s,S||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),se(e)}function el(e,n,s){n==="number"&&Ya(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Xr(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+We(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Vu(e,n,s){if(n!=null&&(n=""+We(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+We(s):""}function Zr(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(i(92));if(ye(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=We(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),se(e)}function Nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||ju.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function al(e,n,s){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&nl(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&nl(e,d,n[d])}function Bs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(e){return Jr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wa(){}var rl=null;function ra(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wr=null,Ka=null;function Zi(e){var n=aa(e);if(n&&(e=n.stateNode)){var s=e[Je]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ps(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Je]||null;if(!h)throw Error(i(90));Ps(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&$i(l)}break t;case"textarea":Vu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Xr(e,!!s.multiple,n,!1)}}}var qs=!1;function ti(e,n,s){if(qs)return e(n,s);qs=!0;try{var l=e(n);return l}finally{if(qs=!1,(Wr!==null||Ka!==null)&&(Ic(),Wr&&(n=Wr,e=Ka,Ka=Wr=null,Zi(n),e)))for(n=0;n<e.length;n++)Zi(e[n])}}function Ca(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Je]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=!1;if(ia)try{var he={};Object.defineProperty(he,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",he,he),window.removeEventListener("test",he,he)}catch{Ji=!1}var Qa=null,il=null,Wi=null;function sl(){if(Wi)return Wi;var e,n=il,s=n.length,l,h="value"in Qa?Qa.value:Qa.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var v=s-e;for(l=1;l<=v&&n[s-l]===h[d-l];l++);return Wi=h.slice(e,1<l?1-l:void 0)}function ts(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gr(){return!0}function xa(){return!1}function sn(e){function n(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(s=e[S],this[S]=s?s(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gr:xa,this.isPropagationStopped=xa,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),n}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=sn(pr),ei=E({},pr,{view:0,detail:0}),ol=sn(ei),ni,Hs,Xa,Gs=E({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ai,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xa&&(Xa&&e.type==="mousemove"?(ni=e.screenX-Xa.screenX,Hs=e.screenY-Xa.screenY):Hs=ni=0,Xa=e),ni)},movementY:function(e){return"movementY"in e?e.movementY:Hs}}),ll=sn(Gs),es=E({},Gs,{dataTransfer:0}),zu=sn(es),Uu=E({},ei,{relatedTarget:0}),ns=sn(Uu),ul=E({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=sn(ul),Ys=E({},pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bu=sn(Ys),Fu=E({},pr,{data:0}),Za=sn(Fu),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Gu[e])?!!n[e]:!1}function ai(){return Yu}var Tn=E({},ei,{key:function(e){if(e.key){var n=qu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ai,charCode:function(e){return e.type==="keypress"?ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ku=sn(Tn),Qu=E({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=sn(Qu),c=E({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ai}),y=sn(c),b=E({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=sn(b),z=E({},Gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=sn(z),ft=E({},pr,{newState:0,oldState:0}),Vt=sn(ft),Oe=[9,13,27,32],ne=ia&&"CompositionEvent"in window,we=null;ia&&"documentMode"in document&&(we=document.documentMode);var sa=ia&&"TextEvent"in window&&!we,Ja=ia&&(!ne||we&&8<we&&11>=we),Na=" ",Ra=!1;function as(e,n){switch(e){case"keyup":return Oe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ks(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qs=!1;function DT(e,n){switch(e){case"compositionend":return Ks(n);case"keypress":return n.which!==32?null:(Ra=!0,Na);case"textInput":return e=n.data,e===Na&&Ra?null:e;default:return null}}function kT(e,n){if(Qs)return e==="compositionend"||!ne&&as(e,n)?(e=sl(),Wi=il=Qa=null,Qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ja&&n.locale!=="ko"?null:n.data;default:return null}}var OT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!OT[e.type]:n==="textarea"}function bp(e,n,s,l){Wr?Ka?Ka.push(l):Ka=[l]:Wr=l,n=Lc(n,"onChange"),0<n.length&&(s=new $a("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var cl=null,fl=null;function MT(e){e0(e,0)}function $u(e){var n=Un(e);if($i(n))return e}function _p(e,n){if(e==="change")return n}var Ep=!1;if(ia){var lh;if(ia){var uh="oninput"in document;if(!uh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),uh=typeof Tp.oninput=="function"}lh=uh}else lh=!1;Ep=lh&&(!document.documentMode||9<document.documentMode)}function Sp(){cl&&(cl.detachEvent("onpropertychange",Ap),fl=cl=null)}function Ap(e){if(e.propertyName==="value"&&$u(fl)){var n=[];bp(n,fl,e,ra(e)),ti(MT,n)}}function VT(e,n,s){e==="focusin"?(Sp(),cl=n,fl=s,cl.attachEvent("onpropertychange",Ap)):e==="focusout"&&Sp()}function jT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(fl)}function LT(e,n){if(e==="click")return $u(n)}function zT(e,n){if(e==="input"||e==="change")return $u(n)}function UT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Bn=typeof Object.is=="function"?Object.is:UT;function hl(e,n){if(Bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ae.call(n,h)||!Bn(e[h],n[h]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cp(e,n){var s=wp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=wp(s)}}function xp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Np(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ya(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ya(e.document)}return n}function ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var PT=ia&&"documentMode"in document&&11>=document.documentMode,$s=null,fh=null,dl=null,hh=!1;function Rp(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hh||$s==null||$s!==Ya(l)||(l=$s,"selectionStart"in l&&ch(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&hl(dl,l)||(dl=l,l=Lc(fh,"onSelect"),0<l.length&&(n=new $a("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=$s)))}function rs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Xs={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},dh={},Ip={};ia&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function is(e){if(dh[e])return dh[e];if(!Xs[e])return e;var n=Xs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ip)return dh[e]=n[s];return e}var Dp=is("animationend"),kp=is("animationiteration"),Op=is("animationstart"),BT=is("transitionrun"),FT=is("transitionstart"),qT=is("transitioncancel"),Mp=is("transitionend"),Vp=new Map,mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mh.push("scrollEnd");function Ia(e,n){Vp.set(e,n),Ha(n,[e])}var Xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},oa=[],Zs=0,gh=0;function Zu(){for(var e=Zs,n=gh=Zs=0;n<e;){var s=oa[n];oa[n++]=null;var l=oa[n];oa[n++]=null;var h=oa[n];oa[n++]=null;var d=oa[n];if(oa[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&jp(s,h,d)}}function Ju(e,n,s,l){oa[Zs++]=e,oa[Zs++]=n,oa[Zs++]=s,oa[Zs++]=l,gh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ph(e,n,s,l){return Ju(e,n,s,l),Wu(e)}function ss(e,n){return Ju(e,null,null,n),Wu(e)}function jp(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-xe(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function Wu(e){if(50<Vl)throw Vl=0,wd=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Js={};function HT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,n,s,l){return new HT(e,n,s,l)}function yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vr(e,n){var s=e.alternate;return s===null?(s=Fn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Lp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function tc(e,n,s,l,h,d){var v=0;if(l=e,typeof e=="function")yh(e)&&(v=1);else if(typeof e=="string")v=$S(e,s,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Fn(31,s,n,h),e.elementType=I,e.lanes=d,e;case Y:return os(s.children,h,d,n);case q:v=8,h|=24;break;case lt:return e=Fn(12,s,n,h|2),e.elementType=lt,e.lanes=d,e;case st:return e=Fn(13,s,n,h),e.elementType=st,e.lanes=d,e;case It:return e=Fn(19,s,n,h),e.elementType=It,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rt:v=10;break t;case at:v=9;break t;case yt:v=11;break t;case N:v=14;break t;case C:v=16,l=null;break t}v=29,s=Error(i(130,e===null?"null":typeof e,"")),l=null}return n=Fn(v,s,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function os(e,n,s,l){return e=Fn(7,e,l,n),e.lanes=s,e}function vh(e,n,s){return e=Fn(6,e,null,n),e.lanes=s,e}function zp(e){var n=Fn(18,null,null,0);return n.stateNode=e,n}function bh(e,n,s){return n=Fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Up=new WeakMap;function la(e,n){if(typeof e=="object"&&e!==null){var s=Up.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Kr(n)},Up.set(e,n),n)}return{value:e,source:n,stack:Kr(n)}}var Ws=[],to=0,ec=null,ml=0,ua=[],ca=0,ri=null,Wa=1,tr="";function br(e,n){Ws[to++]=ml,Ws[to++]=ec,ec=e,ml=n}function Pp(e,n,s){ua[ca++]=Wa,ua[ca++]=tr,ua[ca++]=ri,ri=e;var l=Wa;e=tr;var h=32-xe(l)-1;l&=~(1<<h),s+=1;var d=32-xe(n)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Wa=1<<32-xe(n)+h|s<<h|l,tr=d+e}else Wa=1<<d|s<<h|l,tr=e}function _h(e){e.return!==null&&(br(e,1),Pp(e,1,0))}function Eh(e){for(;e===ec;)ec=Ws[--to],Ws[to]=null,ml=Ws[--to],Ws[to]=null;for(;e===ri;)ri=ua[--ca],ua[ca]=null,tr=ua[--ca],ua[ca]=null,Wa=ua[--ca],ua[ca]=null}function Bp(e,n){ua[ca++]=Wa,ua[ca++]=tr,ua[ca++]=ri,Wa=n.id,tr=n.overflow,ri=e}var on=null,be=null,Kt=!1,ii=null,fa=!1,Th=Error(i(519));function si(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(la(n,e)),Th}function Fp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Le]=e,n[Je]=l,s){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(s=0;s<Ll.length;s++)Ft(Ll[s],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":Ft("invalid",n),Mu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ft("invalid",n);break;case"textarea":Ft("invalid",n),Zr(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||i0(n.textContent,s)?(l.popover!=null&&(Ft("beforetoggle",n),Ft("toggle",n)),l.onScroll!=null&&Ft("scroll",n),l.onScrollEnd!=null&&Ft("scrollend",n),l.onClick!=null&&(n.onclick=wa),n=!0):n=!1,n||si(e,!0)}function qp(e){for(on=e.return;on;)switch(on.tag){case 5:case 31:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:on=on.return}}function eo(e){if(e!==on)return!1;if(!Kt)return qp(e),Kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Pd(e.type,e.memoizedProps)),s=!s),s&&be&&si(e),qp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));be=m0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));be=m0(e)}else n===27?(n=be,_i(e.type)?(e=Gd,Gd=null,be=e):be=n):be=on?da(e.stateNode.nextSibling):null;return!0}function ls(){be=on=null,Kt=!1}function Sh(){var e=ii;return e!==null&&(kn===null?kn=e:kn.push.apply(kn,e),ii=null),e}function gl(e){ii===null?ii=[e]:ii.push(e)}var Ah=R(null),us=null,_r=null;function oi(e,n,s){ot(Ah,n._currentValue),n._currentValue=s}function Er(e){e._currentValue=Ah.current,K(Ah)}function wh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Ch(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var k=0;k<n.length;k++)if(S.context===n[k]){d.lanes|=s,S=d.alternate,S!==null&&(S.lanes|=s),wh(d.return,s,e),l||(v=null);break t}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(i(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),wh(v,s,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function no(e,n,s,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=h.type;Bn(h.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(h===Ut.current){if(v=h.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Fl):e=[Fl])}h=h.return}e!==null&&Ch(n,e,s,l),n.flags|=262144}function nc(e){for(e=e.firstContext;e!==null;){if(!Bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cs(e){us=e,_r=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return Hp(us,e)}function ac(e,n){return us===null&&cs(e),Hp(e,n)}function Hp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},_r===null){if(e===null)throw Error(i(308));_r=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else _r=_r.next=n;return s}var GT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},YT=r.unstable_scheduleCallback,KT=r.unstable_NormalPriority,Pe={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xh(){return{controller:new GT,data:new Map,refCount:0}}function pl(e){e.refCount--,e.refCount===0&&YT(KT,function(){e.controller.abort()})}var yl=null,Nh=0,ao=0,ro=null;function QT(e,n){if(yl===null){var s=yl=[];Nh=0,ao=Dd(),ro={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Nh++,n.then(Gp,Gp),n}function Gp(){if(--Nh===0&&yl!==null){ro!==null&&(ro.status="fulfilled");var e=yl;yl=null,ao=0,ro=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $T(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Yp=Q.S;Q.S=function(e,n){Rv=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&QT(e,n),Yp!==null&&Yp(e,n)};var fs=R(null);function Rh(){var e=fs.current;return e!==null?e:pe.pooledCache}function rc(e,n){n===null?ot(fs,fs.current):ot(fs,n.pool)}function Kp(){var e=Rh();return e===null?null:{parent:Pe._currentValue,pool:e}}var io=Error(i(460)),Ih=Error(i(474)),ic=Error(i(542)),sc={then:function(){}};function Qp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $p(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(wa,wa),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zp(e),e;default:if(typeof n.status=="string")n.then(wa,wa);else{if(e=pe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zp(e),e}throw ds=n,io}}function hs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ds=s,io):s}}var ds=null;function Xp(){if(ds===null)throw Error(i(459));var e=ds;return ds=null,e}function Zp(e){if(e===io||e===ic)throw Error(i(483))}var so=null,vl=0;function oc(e){var n=vl;return vl+=1,so===null&&(so=[]),$p(so,e,n)}function bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function lc(e,n){throw n.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jp(e){function n(j,M){if(e){var U=j.deletions;U===null?(j.deletions=[M],j.flags|=16):U.push(M)}}function s(j,M){if(!e)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=vr(j,M),j.index=0,j.sibling=null,j}function d(j,M,U){return j.index=U,e?(U=j.alternate,U!==null?(U=U.index,U<M?(j.flags|=67108866,M):U):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function v(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function S(j,M,U,J){return M===null||M.tag!==6?(M=vh(U,j.mode,J),M.return=j,M):(M=h(M,U),M.return=j,M)}function k(j,M,U,J){var At=U.type;return At===Y?$(j,M,U.props.children,J,U.key):M!==null&&(M.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===C&&hs(At)===M.type)?(M=h(M,U.props),bl(M,U),M.return=j,M):(M=tc(U.type,U.key,U.props,null,j.mode,J),bl(M,U),M.return=j,M)}function B(j,M,U,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=bh(U,j.mode,J),M.return=j,M):(M=h(M,U.children||[]),M.return=j,M)}function $(j,M,U,J,At){return M===null||M.tag!==7?(M=os(U,j.mode,J,At),M.return=j,M):(M=h(M,U),M.return=j,M)}function W(j,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=vh(""+M,j.mode,U),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case D:return U=tc(M.type,M.key,M.props,null,j.mode,U),bl(U,M),U.return=j,U;case P:return M=bh(M,j.mode,U),M.return=j,M;case C:return M=hs(M),W(j,M,U)}if(ye(M)||L(M))return M=os(M,j.mode,U,null),M.return=j,M;if(typeof M.then=="function")return W(j,oc(M),U);if(M.$$typeof===rt)return W(j,ac(j,M),U);lc(j,M)}return null}function F(j,M,U,J){var At=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return At!==null?null:S(j,M,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case D:return U.key===At?k(j,M,U,J):null;case P:return U.key===At?B(j,M,U,J):null;case C:return U=hs(U),F(j,M,U,J)}if(ye(U)||L(U))return At!==null?null:$(j,M,U,J,null);if(typeof U.then=="function")return F(j,M,oc(U),J);if(U.$$typeof===rt)return F(j,M,ac(j,U),J);lc(j,U)}return null}function G(j,M,U,J,At){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(U)||null,S(M,j,""+J,At);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case D:return j=j.get(J.key===null?U:J.key)||null,k(M,j,J,At);case P:return j=j.get(J.key===null?U:J.key)||null,B(M,j,J,At);case C:return J=hs(J),G(j,M,U,J,At)}if(ye(J)||L(J))return j=j.get(U)||null,$(M,j,J,At,null);if(typeof J.then=="function")return G(j,M,U,oc(J),At);if(J.$$typeof===rt)return G(j,M,U,ac(M,J),At);lc(M,J)}return null}function vt(j,M,U,J){for(var At=null,Wt=null,_t=M,Lt=M=0,Ht=null;_t!==null&&Lt<U.length;Lt++){_t.index>Lt?(Ht=_t,_t=null):Ht=_t.sibling;var te=F(j,_t,U[Lt],J);if(te===null){_t===null&&(_t=Ht);break}e&&_t&&te.alternate===null&&n(j,_t),M=d(te,M,Lt),Wt===null?At=te:Wt.sibling=te,Wt=te,_t=Ht}if(Lt===U.length)return s(j,_t),Kt&&br(j,Lt),At;if(_t===null){for(;Lt<U.length;Lt++)_t=W(j,U[Lt],J),_t!==null&&(M=d(_t,M,Lt),Wt===null?At=_t:Wt.sibling=_t,Wt=_t);return Kt&&br(j,Lt),At}for(_t=l(_t);Lt<U.length;Lt++)Ht=G(_t,j,Lt,U[Lt],J),Ht!==null&&(e&&Ht.alternate!==null&&_t.delete(Ht.key===null?Lt:Ht.key),M=d(Ht,M,Lt),Wt===null?At=Ht:Wt.sibling=Ht,Wt=Ht);return e&&_t.forEach(function(wi){return n(j,wi)}),Kt&&br(j,Lt),At}function Nt(j,M,U,J){if(U==null)throw Error(i(151));for(var At=null,Wt=null,_t=M,Lt=M=0,Ht=null,te=U.next();_t!==null&&!te.done;Lt++,te=U.next()){_t.index>Lt?(Ht=_t,_t=null):Ht=_t.sibling;var wi=F(j,_t,te.value,J);if(wi===null){_t===null&&(_t=Ht);break}e&&_t&&wi.alternate===null&&n(j,_t),M=d(wi,M,Lt),Wt===null?At=wi:Wt.sibling=wi,Wt=wi,_t=Ht}if(te.done)return s(j,_t),Kt&&br(j,Lt),At;if(_t===null){for(;!te.done;Lt++,te=U.next())te=W(j,te.value,J),te!==null&&(M=d(te,M,Lt),Wt===null?At=te:Wt.sibling=te,Wt=te);return Kt&&br(j,Lt),At}for(_t=l(_t);!te.done;Lt++,te=U.next())te=G(_t,j,Lt,te.value,J),te!==null&&(e&&te.alternate!==null&&_t.delete(te.key===null?Lt:te.key),M=d(te,M,Lt),Wt===null?At=te:Wt.sibling=te,Wt=te);return e&&_t.forEach(function(sA){return n(j,sA)}),Kt&&br(j,Lt),At}function ge(j,M,U,J){if(typeof U=="object"&&U!==null&&U.type===Y&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case D:t:{for(var At=U.key;M!==null;){if(M.key===At){if(At=U.type,At===Y){if(M.tag===7){s(j,M.sibling),J=h(M,U.props.children),J.return=j,j=J;break t}}else if(M.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===C&&hs(At)===M.type){s(j,M.sibling),J=h(M,U.props),bl(J,U),J.return=j,j=J;break t}s(j,M);break}else n(j,M);M=M.sibling}U.type===Y?(J=os(U.props.children,j.mode,J,U.key),J.return=j,j=J):(J=tc(U.type,U.key,U.props,null,j.mode,J),bl(J,U),J.return=j,j=J)}return v(j);case P:t:{for(At=U.key;M!==null;){if(M.key===At)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){s(j,M.sibling),J=h(M,U.children||[]),J.return=j,j=J;break t}else{s(j,M);break}else n(j,M);M=M.sibling}J=bh(U,j.mode,J),J.return=j,j=J}return v(j);case C:return U=hs(U),ge(j,M,U,J)}if(ye(U))return vt(j,M,U,J);if(L(U)){if(At=L(U),typeof At!="function")throw Error(i(150));return U=At.call(U),Nt(j,M,U,J)}if(typeof U.then=="function")return ge(j,M,oc(U),J);if(U.$$typeof===rt)return ge(j,M,ac(j,U),J);lc(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(s(j,M.sibling),J=h(M,U),J.return=j,j=J):(s(j,M),J=vh(U,j.mode,J),J.return=j,j=J),v(j)):s(j,M)}return function(j,M,U,J){try{vl=0;var At=ge(j,M,U,J);return so=null,At}catch(_t){if(_t===io||_t===ic)throw _t;var Wt=Fn(29,_t,null,j.mode);return Wt.lanes=J,Wt.return=j,Wt}}}var ms=Jp(!0),Wp=Jp(!1),li=!1;function Dh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ui(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ci(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ae&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Wu(e),jp(e,null,s),n}return Ju(e,l,n,s),Wu(e)}function _l(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,rn(e,s)}}function Oh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Mh=!1;function El(){if(Mh){var e=ro;if(e!==null)throw e}}function Tl(e,n,s,l){Mh=!1;var h=e.updateQueue;li=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var k=S,B=k.next;k.next=null,v===null?d=B:v.next=B,v=k;var $=e.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==v&&(S===null?$.firstBaseUpdate=B:S.next=B,$.lastBaseUpdate=k))}if(d!==null){var W=h.baseState;v=0,$=B=k=null,S=d;do{var F=S.lane&-536870913,G=F!==S.lane;if(G?(qt&F)===F:(l&F)===F){F!==0&&F===ao&&(Mh=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var vt=e,Nt=S;F=n;var ge=s;switch(Nt.tag){case 1:if(vt=Nt.payload,typeof vt=="function"){W=vt.call(ge,W,F);break t}W=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Nt.payload,F=typeof vt=="function"?vt.call(ge,W,F):vt,F==null)break t;W=E({},W,F);break t;case 2:li=!0}}F=S.callback,F!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(B=$=G,k=W):$=$.next=G,v|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;G=S,S=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);$===null&&(k=W),h.baseState=k,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),gi|=v,e.lanes=v,e.memoizedState=W}}function ty(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function ey(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ty(s[e],n)}var oo=R(null),uc=R(0);function ny(e,n){e=Ir,ot(uc,e),ot(oo,n),Ir=e|n.baseLanes}function Vh(){ot(uc,Ir),ot(oo,oo.current)}function jh(){Ir=uc.current,K(oo),K(uc)}var qn=R(null),ha=null;function fi(e){var n=e.alternate;ot(Me,Me.current&1),ot(qn,e),ha===null&&(n===null||oo.current!==null||n.memoizedState!==null)&&(ha=e)}function Lh(e){ot(Me,Me.current),ot(qn,e),ha===null&&(ha=e)}function ay(e){e.tag===22?(ot(Me,Me.current),ot(qn,e),ha===null&&(ha=e)):hi()}function hi(){ot(Me,Me.current),ot(qn,qn.current)}function Hn(e){K(qn),ha===e&&(ha=null),K(Me)}var Me=R(0);function cc(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||qd(s)||Hd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tr=0,jt=null,de=null,Be=null,fc=!1,lo=!1,gs=!1,hc=0,Sl=0,uo=null,XT=0;function Ie(){throw Error(i(321))}function zh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Bn(e[s],n[s]))return!1;return!0}function Uh(e,n,s,l,h,d){return Tr=d,jt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?Py:td,gs=!1,d=s(l,h),gs=!1,lo&&(d=iy(n,s,l,h)),ry(e),d}function ry(e){Q.H=Cl;var n=de!==null&&de.next!==null;if(Tr=0,Be=de=jt=null,fc=!1,Sl=0,uo=null,n)throw Error(i(300));e===null||Fe||(e=e.dependencies,e!==null&&nc(e)&&(Fe=!0))}function iy(e,n,s,l){jt=e;var h=0;do{if(lo&&(uo=null),Sl=0,lo=!1,25<=h)throw Error(i(301));if(h+=1,Be=de=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=By,d=n(s,l)}while(lo);return d}function ZT(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Al(n):n,e=e.useState()[0],(de!==null?de.memoizedState:null)!==e&&(jt.flags|=1024),n}function Ph(){var e=hc!==0;return hc=0,e}function Bh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Fh(e){if(fc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}fc=!1}Tr=0,Be=de=jt=null,lo=!1,Sl=hc=0,uo=null}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?jt.memoizedState=Be=e:Be=Be.next=e,Be}function Ve(){if(de===null){var e=jt.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var n=Be===null?jt.memoizedState:Be.next;if(n!==null)Be=n,de=e;else{if(e===null)throw jt.alternate===null?Error(i(467)):Error(i(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},Be===null?jt.memoizedState=Be=e:Be=Be.next=e}return Be}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(e){var n=Sl;return Sl+=1,uo===null&&(uo=[]),e=$p(uo,e,n),n=jt,(Be===null?n.memoizedState:Be.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Py:td),e}function mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Al(e);if(e.$$typeof===rt)return ln(e)}throw Error(i(438,String(e)))}function qh(e){var n=null,s=jt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=jt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=dc(),jt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function Sr(e,n){return typeof n=="function"?n(e):n}function gc(e){var n=Ve();return Hh(n,de,e)}function Hh(e,n,s){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var S=v=null,k=null,B=n,$=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(qt&W)===W:(Tr&W)===W){var F=B.revertLane;if(F===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===ao&&($=!0);else if((Tr&F)===F){B=B.next,F===ao&&($=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(S=k=W,v=d):k=k.next=W,jt.lanes|=F,gi|=F;W=B.action,gs&&s(d,W),d=B.hasEagerState?B.eagerState:s(d,W)}else F={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(S=k=F,v=d):k=k.next=F,jt.lanes|=W,gi|=W;B=B.next}while(B!==null&&B!==n);if(k===null?v=d:k.next=S,!Bn(d,e.memoizedState)&&(Fe=!0,$&&(s=ro,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=k,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Gh(e){var n=Ve(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);Bn(d,n.memoizedState)||(Fe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function sy(e,n,s){var l=jt,h=Ve(),d=Kt;if(d){if(s===void 0)throw Error(i(407));s=s()}else s=n();var v=!Bn((de||h).memoizedState,s);if(v&&(h.memoizedState=s,Fe=!0),h=h.queue,Qh(uy.bind(null,l,h,e),[e]),h.getSnapshot!==n||v||Be!==null&&Be.memoizedState.tag&1){if(l.flags|=2048,co(9,{destroy:void 0},ly.bind(null,l,h,s,n),null),pe===null)throw Error(i(349));d||(Tr&127)!==0||oy(l,n,s)}return s}function oy(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=jt.updateQueue,n===null?(n=dc(),jt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ly(e,n,s,l){n.value=s,n.getSnapshot=l,cy(n)&&fy(e)}function uy(e,n,s){return s(function(){cy(n)&&fy(e)})}function cy(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Bn(e,s)}catch{return!0}}function fy(e){var n=ss(e,2);n!==null&&On(n,e,2)}function Yh(e){var n=Sn();if(typeof e=="function"){var s=e;if(e=s(),gs){wn(!0);try{s()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:e},n}function hy(e,n,s,l){return e.baseState=s,Hh(e,de,typeof l=="function"?l:Sr)}function JT(e,n,s,l,h){if(vc(e))throw Error(i(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,dy(n,d)):(d.next=s.next,n.pending=s.next=d)}}function dy(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=Q.T,v={};Q.T=v;try{var S=s(h,l),k=Q.S;k!==null&&k(v,S),my(e,n,S)}catch(B){Kh(e,n,B)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=s(h,l),my(e,n,d)}catch(B){Kh(e,n,B)}}function my(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){gy(e,n,l)},function(l){return Kh(e,n,l)}):gy(e,n,s)}function gy(e,n,s){n.status="fulfilled",n.value=s,py(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,dy(e,s)))}function Kh(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,py(n),n=n.next;while(n!==l)}e.action=null}function py(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function yy(e,n){return n}function vy(e,n){if(Kt){var s=pe.formState;if(s!==null){t:{var l=jt;if(Kt){if(be){e:{for(var h=be,d=fa;h.nodeType!==8;){if(!d){h=null;break e}if(h=da(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){be=da(h.nextSibling),l=h.data==="F!";break t}}si(l)}l=!1}l&&(n=s[0])}}return s=Sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:n},s.queue=l,s=Ly.bind(null,jt,l),l.dispatch=s,l=Yh(!1),d=Wh.bind(null,jt,!1,l.queue),l=Sn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=JT.bind(null,jt,h,d,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function by(e){var n=Ve();return _y(n,de,e)}function _y(e,n,s){if(n=Hh(e,n,yy)[0],e=gc(Sr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Al(n)}catch(v){throw v===io?ic:v}else l=n;n=Ve();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(jt.flags|=2048,co(9,{destroy:void 0},WT.bind(null,h,s),null)),[l,d,e]}function WT(e,n){e.action=n}function Ey(e){var n=Ve(),s=de;if(s!==null)return _y(n,s,e);Ve(),n=n.memoizedState,s=Ve();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function co(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=jt.updateQueue,n===null&&(n=dc(),jt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Ty(){return Ve().memoizedState}function pc(e,n,s,l){var h=Sn();jt.flags|=e,h.memoizedState=co(1|n,{destroy:void 0},s,l===void 0?null:l)}function yc(e,n,s,l){var h=Ve();l=l===void 0?null:l;var d=h.memoizedState.inst;de!==null&&l!==null&&zh(l,de.memoizedState.deps)?h.memoizedState=co(n,d,s,l):(jt.flags|=e,h.memoizedState=co(1|n,d,s,l))}function Sy(e,n){pc(8390656,8,e,n)}function Qh(e,n){yc(2048,8,e,n)}function tS(e){jt.flags|=4;var n=jt.updateQueue;if(n===null)n=dc(),jt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ay(e){var n=Ve().memoizedState;return tS({ref:n,nextImpl:e}),function(){if((ae&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function wy(e,n){return yc(4,2,e,n)}function Cy(e,n){return yc(4,4,e,n)}function xy(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ny(e,n,s){s=s!=null?s.concat([e]):null,yc(4,4,xy.bind(null,n,e),s)}function $h(){}function Ry(e,n){var s=Ve();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&zh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Iy(e,n){var s=Ve();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&zh(n,l[1]))return l[0];if(l=e(),gs){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[l,n],l}function Xh(e,n,s){return s===void 0||(Tr&1073741824)!==0&&(qt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Dv(),jt.lanes|=e,gi|=e,s)}function Dy(e,n,s,l){return Bn(s,n)?s:oo.current!==null?(e=Xh(e,s,l),Bn(e,n)||(Fe=!0),e):(Tr&42)===0||(Tr&1073741824)!==0&&(qt&261930)===0?(Fe=!0,e.memoizedState=s):(e=Dv(),jt.lanes|=e,gi|=e,n)}function ky(e,n,s,l,h){var d=ct.p;ct.p=d!==0&&8>d?d:8;var v=Q.T,S={};Q.T=S,Wh(e,!1,n,s);try{var k=h(),B=Q.S;if(B!==null&&B(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=$T(k,l);wl(e,n,$,Kn(e))}else wl(e,n,l,Kn(e))}catch(W){wl(e,n,{then:function(){},status:"rejected",reason:W},Kn())}finally{ct.p=d,v!==null&&S.types!==null&&(v.types=S.types),Q.T=v}}function eS(){}function Zh(e,n,s,l){if(e.tag!==5)throw Error(i(476));var h=Oy(e).queue;ky(e,h,n,Et,s===null?eS:function(){return My(e),s(l)})}function Oy(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:Et},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function My(e){var n=Oy(e);n.next===null&&(n=e.alternate.memoizedState),wl(e,n.next.queue,{},Kn())}function Jh(){return ln(Fl)}function Vy(){return Ve().memoizedState}function jy(){return Ve().memoizedState}function nS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Kn();e=ui(s);var l=ci(n,e,s);l!==null&&(On(l,n,s),_l(l,n,s)),n={cache:xh()},e.payload=n;return}n=n.return}}function aS(e,n,s){var l=Kn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},vc(e)?zy(n,s):(s=ph(e,n,s,l),s!==null&&(On(s,e,l),Uy(s,n,l)))}function Ly(e,n,s){var l=Kn();wl(e,n,s,l)}function wl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(vc(e))zy(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,S=d(v,s);if(h.hasEagerState=!0,h.eagerState=S,Bn(S,v))return Ju(e,n,h,0),pe===null&&Zu(),!1}catch{}if(s=ph(e,n,h,l),s!==null)return On(s,e,l),Uy(s,n,l),!0}return!1}function Wh(e,n,s,l){if(l={lane:2,revertLane:Dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(n)throw Error(i(479))}else n=ph(e,s,l,2),n!==null&&On(n,e,2)}function vc(e){var n=e.alternate;return e===jt||n!==null&&n===jt}function zy(e,n){lo=fc=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Uy(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,rn(e,s)}}var Cl={readContext:ln,use:mc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};Cl.useEffectEvent=Ie;var Py={readContext:ln,use:mc,useCallback:function(e,n){return Sn().memoizedState=[e,n===void 0?null:n],e},useContext:ln,useEffect:Sy,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,pc(4194308,4,xy.bind(null,n,e),s)},useLayoutEffect:function(e,n){return pc(4194308,4,e,n)},useInsertionEffect:function(e,n){pc(4,2,e,n)},useMemo:function(e,n){var s=Sn();n=n===void 0?null:n;var l=e();if(gs){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=Sn();if(s!==void 0){var h=s(n);if(gs){wn(!0);try{s(n)}finally{wn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=aS.bind(null,jt,e),[l.memoizedState,e]},useRef:function(e){var n=Sn();return e={current:e},n.memoizedState=e},useState:function(e){e=Yh(e);var n=e.queue,s=Ly.bind(null,jt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:$h,useDeferredValue:function(e,n){var s=Sn();return Xh(s,e,n)},useTransition:function(){var e=Yh(!1);return e=ky.bind(null,jt,e.queue,!0,!1),Sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=jt,h=Sn();if(Kt){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),pe===null)throw Error(i(349));(qt&127)!==0||oy(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,Sy(uy.bind(null,l,d,e),[e]),l.flags|=2048,co(9,{destroy:void 0},ly.bind(null,l,d,s,n),null),s},useId:function(){var e=Sn(),n=pe.identifierPrefix;if(Kt){var s=tr,l=Wa;s=(l&~(1<<32-xe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=hc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=XT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Jh,useFormState:vy,useActionState:vy,useOptimistic:function(e){var n=Sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Wh.bind(null,jt,!0,s),s.dispatch=n,[e,n]},useMemoCache:qh,useCacheRefresh:function(){return Sn().memoizedState=nS.bind(null,jt)},useEffectEvent:function(e){var n=Sn(),s={impl:e};return n.memoizedState=s,function(){if((ae&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},td={readContext:ln,use:mc,useCallback:Ry,useContext:ln,useEffect:Qh,useImperativeHandle:Ny,useInsertionEffect:wy,useLayoutEffect:Cy,useMemo:Iy,useReducer:gc,useRef:Ty,useState:function(){return gc(Sr)},useDebugValue:$h,useDeferredValue:function(e,n){var s=Ve();return Dy(s,de.memoizedState,e,n)},useTransition:function(){var e=gc(Sr)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:Al(e),n]},useSyncExternalStore:sy,useId:Vy,useHostTransitionStatus:Jh,useFormState:by,useActionState:by,useOptimistic:function(e,n){var s=Ve();return hy(s,de,e,n)},useMemoCache:qh,useCacheRefresh:jy};td.useEffectEvent=Ay;var By={readContext:ln,use:mc,useCallback:Ry,useContext:ln,useEffect:Qh,useImperativeHandle:Ny,useInsertionEffect:wy,useLayoutEffect:Cy,useMemo:Iy,useReducer:Gh,useRef:Ty,useState:function(){return Gh(Sr)},useDebugValue:$h,useDeferredValue:function(e,n){var s=Ve();return de===null?Xh(s,e,n):Dy(s,de.memoizedState,e,n)},useTransition:function(){var e=Gh(Sr)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:Al(e),n]},useSyncExternalStore:sy,useId:Vy,useHostTransitionStatus:Jh,useFormState:Ey,useActionState:Ey,useOptimistic:function(e,n){var s=Ve();return de!==null?hy(s,de,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:qh,useCacheRefresh:jy};By.useEffectEvent=Ay;function ed(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nd={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Kn(),h=ui(l);h.payload=n,s!=null&&(h.callback=s),n=ci(e,h,l),n!==null&&(On(n,e,l),_l(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Kn(),h=ui(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ci(e,h,l),n!==null&&(On(n,e,l),_l(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Kn(),l=ui(s);l.tag=2,n!=null&&(l.callback=n),n=ci(e,l,s),n!==null&&(On(n,e,s),_l(n,e,s))}};function Fy(e,n,s,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!hl(s,l)||!hl(h,d):!0}function qy(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&nd.enqueueReplaceState(n,n.state,null)}function ps(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Hy(e){Xu(e)}function Gy(e){console.error(e)}function Yy(e){Xu(e)}function bc(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ky(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(e,n,s){return s=ui(s),s.tag=3,s.payload={element:null},s.callback=function(){bc(e,n)},s}function Qy(e){return e=ui(e),e.tag=3,e}function $y(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ky(n,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ky(n,s,l),typeof h!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function rS(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&no(n,s,h,!0),s=qn.current,s!==null){switch(s.tag){case 31:case 13:return ha===null?Dc():s.alternate===null&&De===0&&(De=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===sc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Nd(e,l,h)),!1;case 22:return s.flags|=65536,l===sc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Nd(e,l,h)),!1}throw Error(i(435,s.tag))}return Nd(e,l,h),Dc(),!1}if(Kt)return n=qn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Th&&(e=Error(i(422),{cause:l}),gl(la(e,s)))):(l!==Th&&(n=Error(i(423),{cause:l}),gl(la(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=la(l,s),h=ad(e.stateNode,l,h),Oh(e,h),De!==4&&(De=2)),!1;var d=Error(i(520),{cause:l});if(d=la(d,s),Ml===null?Ml=[d]:Ml.push(d),De!==4&&(De=2),n===null)return!0;l=la(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=ad(s.stateNode,l,e),Oh(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(pi===null||!pi.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Qy(h),$y(h,e,s,l),Oh(s,h),!1}s=s.return}while(s!==null);return!1}var rd=Error(i(461)),Fe=!1;function un(e,n,s,l){n.child=e===null?Wp(n,null,s,l):ms(n,e.child,s,l)}function Xy(e,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return cs(n),l=Uh(e,n,s,v,d,h),S=Ph(),e!==null&&!Fe?(Bh(e,n,h),Ar(e,n,h)):(Kt&&S&&_h(n),n.flags|=1,un(e,n,l,h),n.child)}function Zy(e,n,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!yh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Jy(e,n,d,l,h)):(e=tc(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!hd(e,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:hl,s(v,l)&&e.ref===n.ref)return Ar(e,n,h)}return n.flags|=1,e=vr(d,l),e.ref=n.ref,e.return=n,n.child=e}function Jy(e,n,s,l,h){if(e!==null){var d=e.memoizedProps;if(hl(d,l)&&e.ref===n.ref)if(Fe=!1,n.pendingProps=l=d,hd(e,h))(e.flags&131072)!==0&&(Fe=!0);else return n.lanes=e.lanes,Ar(e,n,h)}return id(e,n,s,l,h)}function Wy(e,n,s,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return tv(e,n,d,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&rc(n,d!==null?d.cachePool:null),d!==null?ny(n,d):Vh(),ay(n);else return l=n.lanes=536870912,tv(e,n,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(rc(n,d.cachePool),ny(n,d),hi(),n.memoizedState=null):(e!==null&&rc(n,null),Vh(),hi());return un(e,n,h,s),n.child}function xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function tv(e,n,s,l,h){var d=Rh();return d=d===null?null:{parent:Pe._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},e!==null&&rc(n,null),Vh(),ay(n),e!==null&&no(e,n,l,!0),n.childLanes=h,null}function _c(e,n){return n=Tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ev(e,n,s){return ms(n,e.child,null,s),e=_c(n,n.pendingProps),e.flags|=2,Hn(n),n.memoizedState=null,e}function iS(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Kt){if(l.mode==="hidden")return e=_c(n,l),n.lanes=536870912,xl(null,e);if(Lh(n),(e=be)?(e=d0(e,fa),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ri!==null?{id:Wa,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},s=zp(e),s.return=n,n.child=s,on=n,be=null)):e=null,e===null)throw si(n);return n.lanes=536870912,null}return _c(n,l)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(Lh(n),h)if(n.flags&256)n.flags&=-257,n=ev(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if(Fe||no(e,n,s,!1),h=(s&e.childLanes)!==0,Fe||h){if(l=pe,l!==null&&(v=na(l,s),v!==0&&v!==d.retryLane))throw d.retryLane=v,ss(e,v),On(l,e,v),rd;Dc(),n=ev(e,n,s)}else e=d.treeContext,be=da(v.nextSibling),on=n,Kt=!0,ii=null,fa=!1,e!==null&&Bp(n,e),n=_c(n,l),n.flags|=4096;return n}return e=vr(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ec(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function id(e,n,s,l,h){return cs(n),s=Uh(e,n,s,l,void 0,h),l=Ph(),e!==null&&!Fe?(Bh(e,n,h),Ar(e,n,h)):(Kt&&l&&_h(n),n.flags|=1,un(e,n,s,h),n.child)}function nv(e,n,s,l,h,d){return cs(n),n.updateQueue=null,s=iy(n,l,s,h),ry(e),l=Ph(),e!==null&&!Fe?(Bh(e,n,d),Ar(e,n,d)):(Kt&&l&&_h(n),n.flags|=1,un(e,n,s,d),n.child)}function av(e,n,s,l,h){if(cs(n),n.stateNode===null){var d=Js,v=s.contextType;typeof v=="object"&&v!==null&&(d=ln(v)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Dh(n),v=s.contextType,d.context=typeof v=="object"&&v!==null?ln(v):Js,d.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(ed(n,s,v,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&nd.enqueueReplaceState(d,d.state,null),Tl(n,l,d,h),El(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var S=n.memoizedProps,k=ps(s,S);d.props=k;var B=d.context,$=s.contextType;v=Js,typeof $=="object"&&$!==null&&(v=ln($));var W=s.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==v)&&qy(n,d,l,v),li=!1;var F=n.memoizedState;d.state=F,Tl(n,l,d,h),El(),B=n.memoizedState,S||F!==B||li?(typeof W=="function"&&(ed(n,s,W,l),B=n.memoizedState),(k=li||Fy(n,s,k,l,F,B,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),d.props=l,d.state=B,d.context=v,l=k):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,kh(e,n),v=n.memoizedProps,$=ps(s,v),d.props=$,W=n.pendingProps,F=d.context,B=s.contextType,k=Js,typeof B=="object"&&B!==null&&(k=ln(B)),S=s.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||F!==k)&&qy(n,d,l,k),li=!1,F=n.memoizedState,d.state=F,Tl(n,l,d,h),El();var G=n.memoizedState;v!==W||F!==G||li||e!==null&&e.dependencies!==null&&nc(e.dependencies)?(typeof S=="function"&&(ed(n,s,S,l),G=n.memoizedState),($=li||Fy(n,s,$,l,F,G,k)||e!==null&&e.dependencies!==null&&nc(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,k),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,k)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=k,l=$):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Ec(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=ms(n,e.child,null,h),n.child=ms(n,null,s,h)):un(e,n,s,h),n.memoizedState=d.state,e=n.child):e=Ar(e,n,h),e}function rv(e,n,s,l){return ls(),n.flags|=256,un(e,n,s,l),n.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(e){return{baseLanes:e,cachePool:Kp()}}function ld(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Yn),e}function iv(e,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Me.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Kt){if(h?fi(n):hi(),(e=be)?(e=d0(e,fa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ri!==null?{id:Wa,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},s=zp(e),s.return=n,n.child=s,on=n,be=null)):e=null,e===null)throw si(n);return Hd(e)?n.lanes=32:n.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(hi(),h=n.mode,S=Tc({mode:"hidden",children:S},h),l=os(l,h,s,null),S.return=n,l.return=n,S.sibling=l,n.child=S,l=n.child,l.memoizedState=od(s),l.childLanes=ld(e,v,s),n.memoizedState=sd,xl(null,l)):(fi(n),ud(n,S))}var k=e.memoizedState;if(k!==null&&(S=k.dehydrated,S!==null)){if(d)n.flags&256?(fi(n),n.flags&=-257,n=cd(e,n,s)):n.memoizedState!==null?(hi(),n.child=e.child,n.flags|=128,n=null):(hi(),S=l.fallback,h=n.mode,l=Tc({mode:"visible",children:l.children},h),S=os(S,h,s,null),S.flags|=2,l.return=n,S.return=n,l.sibling=S,n.child=l,ms(n,e.child,null,s),l=n.child,l.memoizedState=od(s),l.childLanes=ld(e,v,s),n.memoizedState=sd,n=xl(null,l));else if(fi(n),Hd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(i(419)),l.stack="",l.digest=v,gl({value:l,source:null,stack:null}),n=cd(e,n,s)}else if(Fe||no(e,n,s,!1),v=(s&e.childLanes)!==0,Fe||v){if(v=pe,v!==null&&(l=na(v,s),l!==0&&l!==k.retryLane))throw k.retryLane=l,ss(e,l),On(v,e,l),rd;qd(S)||Dc(),n=cd(e,n,s)}else qd(S)?(n.flags|=192,n.child=e.child,n=null):(e=k.treeContext,be=da(S.nextSibling),on=n,Kt=!0,ii=null,fa=!1,e!==null&&Bp(n,e),n=ud(n,l.children),n.flags|=4096);return n}return h?(hi(),S=l.fallback,h=n.mode,k=e.child,B=k.sibling,l=vr(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,B!==null?S=vr(B,S):(S=os(S,h,s,null),S.flags|=2),S.return=n,l.return=n,l.sibling=S,n.child=l,xl(null,l),l=n.child,S=e.child.memoizedState,S===null?S=od(s):(h=S.cachePool,h!==null?(k=Pe._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=Kp(),S={baseLanes:S.baseLanes|s,cachePool:h}),l.memoizedState=S,l.childLanes=ld(e,v,s),n.memoizedState=sd,xl(e.child,l)):(fi(n),s=e.child,e=s.sibling,s=vr(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=s,n.memoizedState=null,s)}function ud(e,n){return n=Tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Tc(e,n){return e=Fn(22,e,null,n),e.lanes=0,e}function cd(e,n,s){return ms(n,e.child,null,s),e=ud(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sv(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),wh(e.return,n,s)}function fd(e,n,s,l,h,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=h,v.treeForkCount=d)}function ov(e,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Me.current,S=(v&2)!==0;if(S?(v=v&1|2,n.flags|=128):v&=1,ot(Me,v),un(e,n,l,s),l=Kt?ml:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sv(e,s,n);else if(e.tag===19)sv(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&cc(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),fd(n,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&cc(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}fd(n,!0,s,null,d,l);break;case"together":fd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ar(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),gi|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(no(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,s=vr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=vr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function hd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&nc(e)))}function sS(e,n,s){switch(n.tag){case 3:Se(n,n.stateNode.containerInfo),oi(n,Pe,e.memoizedState.cache),ls();break;case 27:case 5:La(n);break;case 4:Se(n,n.stateNode.containerInfo);break;case 10:oi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Lh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fi(n),n.flags|=128,null):(s&n.child.childLanes)!==0?iv(e,n,s):(fi(n),e=Ar(e,n,s),e!==null?e.sibling:null);fi(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(no(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ov(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(Me,Me.current),l)break;return null;case 22:return n.lanes=0,Wy(e,n,s,n.pendingProps);case 24:oi(n,Pe,e.memoizedState.cache)}return Ar(e,n,s)}function lv(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Fe=!0;else{if(!hd(e,s)&&(n.flags&128)===0)return Fe=!1,sS(e,n,s);Fe=(e.flags&131072)!==0}else Fe=!1,Kt&&(n.flags&1048576)!==0&&Pp(n,ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=hs(n.elementType),n.type=e,typeof e=="function")yh(e)?(l=ps(e,l),n.tag=1,n=av(null,n,e,l,s)):(n.tag=0,n=id(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===yt){n.tag=11,n=Xy(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=Zy(null,n,e,l,s);break t}}throw n=ie(e)||e,Error(i(306,n,""))}}return n;case 0:return id(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=ps(l,n.pendingProps),av(e,n,l,h,s);case 3:t:{if(Se(n,n.stateNode.containerInfo),e===null)throw Error(i(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,kh(e,n),Tl(n,l,null,s);var v=n.memoizedState;if(l=v.cache,oi(n,Pe,l),l!==d.cache&&Ch(n,[Pe],s,!0),El(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=rv(e,n,l,s);break t}else if(l!==h){h=la(Error(i(424)),n),gl(h),n=rv(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,be=da(e.firstChild),on=n,Kt=!0,ii=null,fa=!0,s=Wp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ls(),l===h){n=Ar(e,n,s);break t}un(e,n,l,s)}n=n.child}return n;case 26:return Ec(e,n),e===null?(s=b0(n.type,null,n.pendingProps,null))?n.memoizedState=s:Kt||(s=n.type,e=n.pendingProps,l=zc(Dt.current).createElement(s),l[Le]=n,l[Je]=e,cn(l,s,e),ze(l),n.stateNode=l):n.memoizedState=b0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return La(n),e===null&&Kt&&(l=n.stateNode=p0(n.type,n.pendingProps,Dt.current),on=n,fa=!0,h=be,_i(n.type)?(Gd=h,be=da(l.firstChild)):be=h),un(e,n,n.pendingProps.children,s),Ec(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Kt&&((h=l=be)&&(l=jS(l,n.type,n.pendingProps,fa),l!==null?(n.stateNode=l,on=n,be=da(l.firstChild),fa=!1,h=!0):h=!1),h||si(n)),La(n),h=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Pd(h,d)?l=null:v!==null&&Pd(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Uh(e,n,ZT,null,null,s),Fl._currentValue=h),Ec(e,n),un(e,n,l,s),n.child;case 6:return e===null&&Kt&&((e=s=be)&&(s=LS(s,n.pendingProps,fa),s!==null?(n.stateNode=s,on=n,be=null,e=!0):e=!1),e||si(n)),null;case 13:return iv(e,n,s);case 4:return Se(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ms(n,null,l,s):un(e,n,l,s),n.child;case 11:return Xy(e,n,n.type,n.pendingProps,s);case 7:return un(e,n,n.pendingProps,s),n.child;case 8:return un(e,n,n.pendingProps.children,s),n.child;case 12:return un(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,oi(n,n.type,l.value),un(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,cs(n),h=ln(h),l=l(h),n.flags|=1,un(e,n,l,s),n.child;case 14:return Zy(e,n,n.type,n.pendingProps,s);case 15:return Jy(e,n,n.type,n.pendingProps,s);case 19:return ov(e,n,s);case 31:return iS(e,n,s);case 22:return Wy(e,n,s,n.pendingProps);case 24:return cs(n),l=ln(Pe),e===null?(h=Rh(),h===null&&(h=pe,d=xh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},Dh(n),oi(n,Pe,h)):((e.lanes&s)!==0&&(kh(e,n),Tl(n,null,null,s),El()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),oi(n,Pe,l)):(l=d.cache,oi(n,Pe,l),l!==h.cache&&Ch(n,[Pe],s,!0))),un(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function wr(e){e.flags|=4}function dd(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vv())e.flags|=8192;else throw ds=sc,Ih}else e.flags&=-16777217}function uv(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!A0(n))if(Vv())e.flags|=8192;else throw ds=sc,Ih}function Sc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Cn():536870912,e.lanes|=n,go|=n)}function Nl(e,n){if(!Kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function _e(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function oS(e,n,s){var l=n.pendingProps;switch(Eh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(n),null;case 1:return _e(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Er(Pe),fe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(eo(n)?wr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sh())),_e(n),null;case 26:var h=n.type,d=n.memoizedState;return e===null?(wr(n),d!==null?(_e(n),uv(n,d)):(_e(n),dd(n,h,null,l,s))):d?d!==e.memoizedState?(wr(n),_e(n),uv(n,d)):(_e(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&wr(n),_e(n),dd(n,h,e,l,s)),null;case 27:if(ya(n),s=Dt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&wr(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return _e(n),null}e=ht.current,eo(n)?Fp(n):(e=p0(h,l,s),n.stateNode=e,wr(n))}return _e(n),null;case 5:if(ya(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&wr(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return _e(n),null}if(d=ht.current,eo(n))Fp(n);else{var v=zc(Dt.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Le]=n,d[Je]=l;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=d;t:switch(cn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&wr(n)}}return _e(n),dd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&wr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(e=Dt.current,eo(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Le]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||i0(e.nodeValue,s)),e||si(n,!0)}else e=zc(e).createTextNode(l),e[Le]=n,n.stateNode=e}return _e(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=eo(n),s!==null){if(e===null){if(!l)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Le]=n}else ls(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),e=!1}else s=Sh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Hn(n),n):(Hn(n),null);if((n.flags&128)!==0)throw Error(i(558))}return _e(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=eo(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Le]=n}else ls(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),h=!1}else h=Sh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Hn(n),n):(Hn(n),null)}return Hn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Sc(n,n.updateQueue),_e(n),null);case 4:return fe(),e===null&&Vd(n.stateNode.containerInfo),_e(n),null;case 10:return Er(n.type),_e(n),null;case 19:if(K(Me),l=n.memoizedState,l===null)return _e(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Nl(l,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=cc(e),d!==null){for(n.flags|=128,Nl(l,!1),e=d.updateQueue,n.updateQueue=e,Sc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Lp(s,e),s=s.sibling;return ot(Me,Me.current&1|2),Kt&&br(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&nn()>Nc&&(n.flags|=128,h=!0,Nl(l,!1),n.lanes=4194304)}else{if(!h)if(e=cc(d),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Sc(n,e),Nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Kt)return _e(n),null}else 2*nn()-l.renderingStartTime>Nc&&s!==536870912&&(n.flags|=128,h=!0,Nl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=nn(),e.sibling=null,s=Me.current,ot(Me,h?s&1|2:s&1),Kt&&br(n,l.treeForkCount),e):(_e(n),null);case 22:case 23:return Hn(n),jh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(_e(n),n.subtreeFlags&6&&(n.flags|=8192)):_e(n),s=n.updateQueue,s!==null&&Sc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&K(fs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Er(Pe),_e(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function lS(e,n){switch(Eh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Er(Pe),fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ya(n),null;case 31:if(n.memoizedState!==null){if(Hn(n),n.alternate===null)throw Error(i(340));ls()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Hn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));ls()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Me),null;case 4:return fe(),null;case 10:return Er(n.type),null;case 22:case 23:return Hn(n),jh(),e!==null&&K(fs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Er(Pe),null;case 25:return null;default:return null}}function cv(e,n){switch(Eh(n),n.tag){case 3:Er(Pe),fe();break;case 26:case 27:case 5:ya(n);break;case 4:fe();break;case 31:n.memoizedState!==null&&Hn(n);break;case 13:Hn(n);break;case 19:K(Me);break;case 10:Er(n.type);break;case 22:case 23:Hn(n),jh(),e!==null&&K(fs);break;case 24:Er(Pe)}}function Rl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(S){le(n,n.return,S)}}function di(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=n;var k=s,B=S;try{B()}catch($){le(h,k,$)}}}l=l.next}while(l!==d)}}catch($){le(n,n.return,$)}}function fv(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ey(n,s)}catch(l){le(e,e.return,l)}}}function hv(e,n,s){s.props=ps(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){le(e,n,l)}}function Il(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){le(e,n,h)}}function er(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){le(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){le(e,n,h)}else s.current=null}function dv(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){le(e,e.return,h)}}function md(e,n,s){try{var l=e.stateNode;IS(l,e.type,s,n),l[Je]=n}catch(h){le(e,e.return,h)}}function mv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_i(e.type)||e.tag===4}function gd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||mv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_i(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pd(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=wa));else if(l!==4&&(l===27&&_i(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(pd(e,n,s),e=e.sibling;e!==null;)pd(e,n,s),e=e.sibling}function Ac(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&_i(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ac(e,n,s),e=e.sibling;e!==null;)Ac(e,n,s),e=e.sibling}function gv(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);cn(n,l,s),n[Le]=e,n[Je]=s}catch(d){le(e,e.return,d)}}var Cr=!1,qe=!1,yd=!1,pv=typeof WeakSet=="function"?WeakSet:Set,tn=null;function uS(e,n){if(e=e.containerInfo,zd=Gc,e=Np(e),ch(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,S=-1,k=-1,B=0,$=0,W=e,F=null;e:for(;;){for(var G;W!==s||h!==0&&W.nodeType!==3||(S=v+h),W!==d||l!==0&&W.nodeType!==3||(k=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(G=W.firstChild)!==null;)F=W,W=G;for(;;){if(W===e)break e;if(F===s&&++B===h&&(S=v),F===d&&++$===l&&(k=v),(G=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=G}s=S===-1||k===-1?null:{start:S,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ud={focusedElem:e,selectionRange:s},Gc=!1,tn=n;tn!==null;)if(n=tn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,tn=e;else for(;tn!==null;){switch(n=tn,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var vt=ps(s.type,h);e=l.getSnapshotBeforeUpdate(vt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Nt){le(s,s.return,Nt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Fd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,tn=e;break}tn=n.return}}function yv(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Nr(e,s),l&4&&Rl(5,s);break;case 1:if(Nr(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(v){le(s,s.return,v)}else{var h=ps(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){le(s,s.return,v)}}l&64&&fv(s),l&512&&Il(s,s.return);break;case 3:if(Nr(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ey(e,n)}catch(v){le(s,s.return,v)}}break;case 27:n===null&&l&4&&gv(s);case 26:case 5:Nr(e,s),n===null&&l&4&&dv(s),l&512&&Il(s,s.return);break;case 12:Nr(e,s);break;case 31:Nr(e,s),l&4&&_v(e,s);break;case 13:Nr(e,s),l&4&&Ev(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=vS.bind(null,s),zS(e,s))));break;case 22:if(l=s.memoizedState!==null||Cr,!l){n=n!==null&&n.memoizedState!==null||qe,h=Cr;var d=qe;Cr=l,(qe=n)&&!d?Rr(e,s,(s.subtreeFlags&8772)!==0):Nr(e,s),Cr=h,qe=d}break;case 30:break;default:Nr(e,s)}}function vv(e){var n=e.alternate;n!==null&&(e.alternate=null,vv(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&zs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ce=null,Rn=!1;function xr(e,n,s){for(s=s.child;s!==null;)bv(e,n,s),s=s.sibling}function bv(e,n,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(zn,s)}catch{}switch(s.tag){case 26:qe||er(s,n),xr(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:qe||er(s,n);var l=Ce,h=Rn;_i(s.type)&&(Ce=s.stateNode,Rn=!1),xr(e,n,s),Ul(s.stateNode),Ce=l,Rn=h;break;case 5:qe||er(s,n);case 6:if(l=Ce,h=Rn,Ce=null,xr(e,n,s),Ce=l,Rn=h,Ce!==null)if(Rn)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(s.stateNode)}catch(d){le(s,n,d)}else try{Ce.removeChild(s.stateNode)}catch(d){le(s,n,d)}break;case 18:Ce!==null&&(Rn?(e=Ce,f0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),So(e)):f0(Ce,s.stateNode));break;case 4:l=Ce,h=Rn,Ce=s.stateNode.containerInfo,Rn=!0,xr(e,n,s),Ce=l,Rn=h;break;case 0:case 11:case 14:case 15:di(2,s,n),qe||di(4,s,n),xr(e,n,s);break;case 1:qe||(er(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&hv(s,n,l)),xr(e,n,s);break;case 21:xr(e,n,s);break;case 22:qe=(l=qe)||s.memoizedState!==null,xr(e,n,s),qe=l;break;default:xr(e,n,s)}}function _v(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{So(e)}catch(s){le(n,n.return,s)}}}function Ev(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{So(e)}catch(s){le(n,n.return,s)}}function cS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new pv),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new pv),n;default:throw Error(i(435,e.tag))}}function wc(e,n){var s=cS(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=bS.bind(null,e,l);l.then(h,h)}})}function In(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,v=n,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(_i(S.type)){Ce=S.stateNode,Rn=!1;break t}break;case 5:Ce=S.stateNode,Rn=!1;break t;case 3:case 4:Ce=S.stateNode.containerInfo,Rn=!0;break t}S=S.return}if(Ce===null)throw Error(i(160));bv(d,v,h),Ce=null,Rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Tv(n,e),n=n.sibling}var Da=null;function Tv(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:In(n,e),Dn(e),l&4&&(di(3,e,e.return),Rl(3,e),di(5,e,e.return));break;case 1:In(n,e),Dn(e),l&512&&(qe||s===null||er(s,s.return)),l&64&&Cr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Da;if(In(n,e),Dn(e),l&512&&(qe||s===null||er(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ba]||d[Le]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),cn(d,l,s),d[Le]=e,ze(d),l=d;break t;case"link":var v=T0("link","href",h).get(l+(s.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(S,1);break e}}d=h.createElement(l),cn(d,l,s),h.head.appendChild(d);break;case"meta":if(v=T0("meta","content",h).get(l+(s.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(S,1);break e}}d=h.createElement(l),cn(d,l,s),h.head.appendChild(d);break;default:throw Error(i(468,l))}d[Le]=e,ze(d),l=d}e.stateNode=l}else S0(h,e.type,e.stateNode);else e.stateNode=E0(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?S0(h,e.type,e.stateNode):E0(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&md(e,e.memoizedProps,s.memoizedProps)}break;case 27:In(n,e),Dn(e),l&512&&(qe||s===null||er(s,s.return)),s!==null&&l&4&&md(e,e.memoizedProps,s.memoizedProps);break;case 5:if(In(n,e),Dn(e),l&512&&(qe||s===null||er(s,s.return)),e.flags&32){h=e.stateNode;try{Nn(h,"")}catch(vt){le(e,e.return,vt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,md(e,h,s!==null?s.memoizedProps:h)),l&1024&&(yd=!0);break;case 6:if(In(n,e),Dn(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(vt){le(e,e.return,vt)}}break;case 3:if(Bc=null,h=Da,Da=Uc(n.containerInfo),In(n,e),Da=h,Dn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{So(n.containerInfo)}catch(vt){le(e,e.return,vt)}yd&&(yd=!1,Sv(e));break;case 4:l=Da,Da=Uc(e.stateNode.containerInfo),In(n,e),Dn(e),Da=l;break;case 12:In(n,e),Dn(e);break;case 31:In(n,e),Dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 13:In(n,e),Dn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(xc=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 22:h=e.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,B=Cr,$=qe;if(Cr=B||h,qe=$||k,In(n,e),qe=$,Cr=B,Dn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||k||Cr||qe||ys(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){k=s=n;try{if(d=k.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=k.stateNode;var W=k.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(vt){le(k,k.return,vt)}}}else if(n.tag===6){if(s===null){k=n;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(vt){le(k,k.return,vt)}}}else if(n.tag===18){if(s===null){k=n;try{var G=k.stateNode;h?h0(G,!0):h0(k.stateNode,!1)}catch(vt){le(k,k.return,vt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,wc(e,s))));break;case 19:In(n,e),Dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 30:break;case 21:break;default:In(n,e),Dn(e)}}function Dn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(mv(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var h=s.stateNode,d=gd(e);Ac(e,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(Nn(v,""),s.flags&=-33);var S=gd(e);Ac(e,S,v);break;case 3:case 4:var k=s.stateNode.containerInfo,B=gd(e);pd(e,B,k);break;default:throw Error(i(161))}}catch($){le(e,e.return,$)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Sv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Nr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yv(e,n.alternate,n),n=n.sibling}function ys(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:di(4,n,n.return),ys(n);break;case 1:er(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hv(n,n.return,s),ys(n);break;case 27:Ul(n.stateNode);case 26:case 5:er(n,n.return),ys(n);break;case 22:n.memoizedState===null&&ys(n);break;case 30:ys(n);break;default:ys(n)}e=e.sibling}}function Rr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,s),Rl(4,d);break;case 1:if(Rr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){le(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)ty(k[h],S)}catch(B){le(l,l.return,B)}}s&&v&64&&fv(d),Il(d,d.return);break;case 27:gv(d);case 26:case 5:Rr(h,d,s),s&&l===null&&v&4&&dv(d),Il(d,d.return);break;case 12:Rr(h,d,s);break;case 31:Rr(h,d,s),s&&v&4&&_v(h,d);break;case 13:Rr(h,d,s),s&&v&4&&Ev(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,s),Il(d,d.return);break;case 30:break;default:Rr(h,d,s)}n=n.sibling}}function vd(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&pl(s))}function bd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&pl(e))}function ka(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Av(e,n,s,l),n=n.sibling}function Av(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ka(e,n,s,l),h&2048&&Rl(9,n);break;case 1:ka(e,n,s,l);break;case 3:ka(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&pl(e)));break;case 12:if(h&2048){ka(e,n,s,l),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){le(n,n.return,k)}}else ka(e,n,s,l);break;case 31:ka(e,n,s,l);break;case 13:ka(e,n,s,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?ka(e,n,s,l):Dl(e,n):d._visibility&2?ka(e,n,s,l):(d._visibility|=2,fo(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&vd(v,n);break;case 24:ka(e,n,s,l),h&2048&&bd(n.alternate,n);break;default:ka(e,n,s,l)}}function fo(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,v=n,S=s,k=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:fo(d,v,S,k,h),Rl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?fo(d,v,S,k,h):Dl(d,v):($._visibility|=2,fo(d,v,S,k,h)),h&&B&2048&&vd(v.alternate,v);break;case 24:fo(d,v,S,k,h),h&&B&2048&&bd(v.alternate,v);break;default:fo(d,v,S,k,h)}n=n.sibling}}function Dl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Dl(s,l),h&2048&&vd(l.alternate,l);break;case 24:Dl(s,l),h&2048&&bd(l.alternate,l);break;default:Dl(s,l)}n=n.sibling}}var kl=8192;function ho(e,n,s){if(e.subtreeFlags&kl)for(e=e.child;e!==null;)wv(e,n,s),e=e.sibling}function wv(e,n,s){switch(e.tag){case 26:ho(e,n,s),e.flags&kl&&e.memoizedState!==null&&XS(s,Da,e.memoizedState,e.memoizedProps);break;case 5:ho(e,n,s);break;case 3:case 4:var l=Da;Da=Uc(e.stateNode.containerInfo),ho(e,n,s),Da=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=kl,kl=16777216,ho(e,n,s),kl=l):ho(e,n,s));break;default:ho(e,n,s)}}function Cv(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];tn=l,Nv(l,e)}Cv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xv(e),e=e.sibling}function xv(e){switch(e.tag){case 0:case 11:case 15:Ol(e),e.flags&2048&&di(9,e,e.return);break;case 3:Ol(e);break;case 12:Ol(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Cc(e)):Ol(e);break;default:Ol(e)}}function Cc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];tn=l,Nv(l,e)}Cv(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:di(8,n,n.return),Cc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Cc(n));break;default:Cc(n)}e=e.sibling}}function Nv(e,n){for(;tn!==null;){var s=tn;switch(s.tag){case 0:case 11:case 15:di(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tn=l;else t:for(s=e;tn!==null;){l=tn;var h=l.sibling,d=l.return;if(vv(l),l===s){tn=null;break t}if(h!==null){h.return=d,tn=h;break t}tn=d}}}var fS={getCacheForType:function(e){var n=ln(Pe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return ln(Pe).controller.signal}},hS=typeof WeakMap=="function"?WeakMap:Map,ae=0,pe=null,Bt=null,qt=0,oe=0,Gn=null,mi=!1,mo=!1,_d=!1,Ir=0,De=0,gi=0,vs=0,Ed=0,Yn=0,go=0,Ml=null,kn=null,Td=!1,xc=0,Rv=0,Nc=1/0,Rc=null,pi=null,$e=0,yi=null,po=null,Dr=0,Sd=0,Ad=null,Iv=null,Vl=0,wd=null;function Kn(){return(ae&2)!==0&&qt!==0?qt&-qt:Q.T!==null?Dd():Qi()}function Dv(){if(Yn===0)if((qt&536870912)===0||Kt){var e=dt;dt<<=1,(dt&3932160)===0&&(dt=262144),Yn=e}else Yn=536870912;return e=qn.current,e!==null&&(e.flags|=32),Yn}function On(e,n,s){(e===pe&&(oe===2||oe===9)||e.cancelPendingCommit!==null)&&(yo(e,0),vi(e,qt,Yn,!1)),ve(e,s),((ae&2)===0||e!==pe)&&(e===pe&&((ae&2)===0&&(vs|=s),De===4&&vi(e,qt,Yn,!1)),nr(e))}function kv(e,n,s){if((ae&6)!==0)throw Error(i(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Re(e,n),h=l?gS(e,n):xd(e,n,!0),d=l;do{if(h===0){mo&&!l&&vi(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!dS(s)){h=xd(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var S=e;h=Ml;var k=S.current.memoizedState.isDehydrated;if(k&&(yo(S,v).flags|=256),v=xd(S,v,!1),v!==2){if(_d&&!k){S.errorRecoveryDisabledLanes|=d,vs|=d,h=4;break t}d=kn,kn=h,d!==null&&(kn===null?kn=d:kn.push.apply(kn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){yo(e,0),vi(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:vi(l,n,Yn,!mi);break t;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(h=xc+300-nn(),10<h)){if(vi(l,n,Yn,!mi),Jt(l,0,!0)!==0)break t;Dr=n,l.timeoutHandle=u0(Ov.bind(null,l,s,kn,Rc,Td,n,Yn,vs,go,mi,d,"Throttled",-0,0),h);break t}Ov(l,s,kn,Rc,Td,n,Yn,vs,go,mi,d,null,-0,0)}}break}while(!0);nr(e)}function Ov(e,n,s,l,h,d,v,S,k,B,$,W,F,G){if(e.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wa},wv(n,d,W);var vt=(d&62914560)===d?xc-nn():(d&4194048)===d?Rv-nn():0;if(vt=ZS(W,vt),vt!==null){Dr=d,e.cancelPendingCommit=vt(Bv.bind(null,e,n,d,s,l,h,v,S,k,$,W,null,F,G)),vi(e,d,v,!B);return}}Bv(e,n,d,s,l,h,v,S,k)}function dS(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Bn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vi(e,n,s,l){n&=~Ed,n&=~vs,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-xe(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&gn(e,s,n)}function Ic(){return(ae&6)===0?(jl(0),!1):!0}function Cd(){if(Bt!==null){if(oe===0)var e=Bt.return;else e=Bt,_r=us=null,Fh(e),so=null,vl=0,e=Bt;for(;e!==null;)cv(e.alternate,e),e=e.return;Bt=null}}function yo(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,OS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Dr=0,Cd(),pe=e,Bt=s=vr(e.current,null),qt=n,oe=0,Gn=null,mi=!1,mo=Re(e,n),_d=!1,go=Yn=Ed=vs=gi=De=0,kn=Ml=null,Td=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-xe(l),d=1<<h;n|=e[h],l&=~d}return Ir=n,Zu(),s}function Mv(e,n){jt=null,Q.H=Cl,n===io||n===ic?(n=Xp(),oe=3):n===Ih?(n=Xp(),oe=4):oe=n===rd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gn=n,Bt===null&&(De=1,bc(e,la(n,e.current)))}function Vv(){var e=qn.current;return e===null?!0:(qt&4194048)===qt?ha===null:(qt&62914560)===qt||(qt&536870912)!==0?e===ha:!1}function jv(){var e=Q.H;return Q.H=Cl,e===null?Cl:e}function Lv(){var e=Q.A;return Q.A=fS,e}function Dc(){De=4,mi||(qt&4194048)!==qt&&qn.current!==null||(mo=!0),(gi&134217727)===0&&(vs&134217727)===0||pe===null||vi(pe,qt,Yn,!1)}function xd(e,n,s){var l=ae;ae|=2;var h=jv(),d=Lv();(pe!==e||qt!==n)&&(Rc=null,yo(e,n)),n=!1;var v=De;t:do try{if(oe!==0&&Bt!==null){var S=Bt,k=Gn;switch(oe){case 8:Cd(),v=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(n=!0);var B=oe;if(oe=0,Gn=null,vo(e,S,k,B),s&&mo){v=0;break t}break;default:B=oe,oe=0,Gn=null,vo(e,S,k,B)}}mS(),v=De;break}catch($){Mv(e,$)}while(!0);return n&&e.shellSuspendCounter++,_r=us=null,ae=l,Q.H=h,Q.A=d,Bt===null&&(pe=null,qt=0,Zu()),v}function mS(){for(;Bt!==null;)zv(Bt)}function gS(e,n){var s=ae;ae|=2;var l=jv(),h=Lv();pe!==e||qt!==n?(Rc=null,Nc=nn()+500,yo(e,n)):mo=Re(e,n);t:do try{if(oe!==0&&Bt!==null){n=Bt;var d=Gn;e:switch(oe){case 1:oe=0,Gn=null,vo(e,n,d,1);break;case 2:case 9:if(Qp(d)){oe=0,Gn=null,Uv(n);break}n=function(){oe!==2&&oe!==9||pe!==e||(oe=7),nr(e)},d.then(n,n);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:Qp(d)?(oe=0,Gn=null,Uv(n)):(oe=0,Gn=null,vo(e,n,d,7));break;case 5:var v=null;switch(Bt.tag){case 26:v=Bt.memoizedState;case 5:case 27:var S=Bt;if(v?A0(v):S.stateNode.complete){oe=0,Gn=null;var k=S.sibling;if(k!==null)Bt=k;else{var B=S.return;B!==null?(Bt=B,kc(B)):Bt=null}break e}}oe=0,Gn=null,vo(e,n,d,5);break;case 6:oe=0,Gn=null,vo(e,n,d,6);break;case 8:Cd(),De=6;break t;default:throw Error(i(462))}}pS();break}catch($){Mv(e,$)}while(!0);return _r=us=null,Q.H=l,Q.A=h,ae=s,Bt!==null?0:(pe=null,qt=0,Zu(),De)}function pS(){for(;Bt!==null&&!za();)zv(Bt)}function zv(e){var n=lv(e.alternate,e,Ir);e.memoizedProps=e.pendingProps,n===null?kc(e):Bt=n}function Uv(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=nv(s,n,n.pendingProps,n.type,void 0,qt);break;case 11:n=nv(s,n,n.pendingProps,n.type.render,n.ref,qt);break;case 5:Fh(n);default:cv(s,n),n=Bt=Lp(n,Ir),n=lv(s,n,Ir)}e.memoizedProps=e.pendingProps,n===null?kc(e):Bt=n}function vo(e,n,s,l){_r=us=null,Fh(n),so=null,vl=0;var h=n.return;try{if(rS(e,h,n,s,qt)){De=1,bc(e,la(s,e.current)),Bt=null;return}}catch(d){if(h!==null)throw Bt=h,d;De=1,bc(e,la(s,e.current)),Bt=null;return}n.flags&32768?(Kt||l===1?e=!0:mo||(qt&536870912)!==0?e=!1:(mi=e=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pv(n,e)):kc(n)}function kc(e){var n=e;do{if((n.flags&32768)!==0){Pv(n,mi);return}e=n.return;var s=oS(n.alternate,n,Ir);if(s!==null){Bt=s;return}if(n=n.sibling,n!==null){Bt=n;return}Bt=n=e}while(n!==null);De===0&&(De=5)}function Pv(e,n){do{var s=lS(e.alternate,e);if(s!==null){s.flags&=32767,Bt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Bt=e;return}Bt=e=s}while(e!==null);De=6,Bt=null}function Bv(e,n,s,l,h,d,v,S,k){e.cancelPendingCommit=null;do Oc();while($e!==0);if((ae&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(d=n.lanes|n.childLanes,d|=gh,Ea(e,s,d,v,S,k),e===pe&&(Bt=pe=null,qt=0),po=n,yi=e,Dr=s,Sd=d,Ad=h,Iv=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_S(_a,function(){return Yv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ct.p,ct.p=2,v=ae,ae|=4;try{uS(e,n,s)}finally{ae=v,ct.p=h,Q.T=l}}$e=1,Fv(),qv(),Hv()}}function Fv(){if($e===1){$e=0;var e=yi,n=po,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=ct.p;ct.p=2;var h=ae;ae|=4;try{Tv(n,e);var d=Ud,v=Np(e.containerInfo),S=d.focusedElem,k=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&xp(S.ownerDocument.documentElement,S)){if(k!==null&&ch(S)){var B=k.start,$=k.end;if($===void 0&&($=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min($,S.value.length);else{var W=S.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var G=F.getSelection(),vt=S.textContent.length,Nt=Math.min(k.start,vt),ge=k.end===void 0?Nt:Math.min(k.end,vt);!G.extend&&Nt>ge&&(v=ge,ge=Nt,Nt=v);var j=Cp(S,Nt),M=Cp(S,ge);if(j&&M&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var U=W.createRange();U.setStart(j.node,j.offset),G.removeAllRanges(),Nt>ge?(G.addRange(U),G.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),G.addRange(U))}}}}for(W=[],G=S;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var J=W[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Gc=!!zd,Ud=zd=null}finally{ae=h,ct.p=l,Q.T=s}}e.current=n,$e=2}}function qv(){if($e===2){$e=0;var e=yi,n=po,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=ct.p;ct.p=2;var h=ae;ae|=4;try{yv(e,n.alternate,n)}finally{ae=h,ct.p=l,Q.T=s}}$e=3}}function Hv(){if($e===4||$e===3){$e=0,Yi();var e=yi,n=po,s=Dr,l=Iv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,po=yi=null,Gv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(pi=null),En(s),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,h=ct.p,ct.p=2,Q.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{Q.T=n,ct.p=h}}(Dr&3)!==0&&Oc(),nr(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===wd?Vl++:(Vl=0,wd=e):Vl=0,jl(0)}}function Gv(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,pl(n)))}function Oc(){return Fv(),qv(),Hv(),Yv()}function Yv(){if($e!==5)return!1;var e=yi,n=Sd;Sd=0;var s=En(Dr),l=Q.T,h=ct.p;try{ct.p=32>s?32:s,Q.T=null,s=Ad,Ad=null;var d=yi,v=Dr;if($e=0,po=yi=null,Dr=0,(ae&6)!==0)throw Error(i(331));var S=ae;if(ae|=4,xv(d.current),Av(d,d.current,v,s),ae=S,jl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{ct.p=h,Q.T=l,Gv(e,n)}}function Kv(e,n,s){n=la(s,n),n=ad(e.stateNode,n,2),e=ci(e,n,2),e!==null&&(ve(e,2),nr(e))}function le(e,n,s){if(e.tag===3)Kv(e,e,s);else for(;n!==null;){if(n.tag===3){Kv(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pi===null||!pi.has(l))){e=la(s,e),s=Qy(2),l=ci(n,s,2),l!==null&&($y(s,l,n,e),ve(l,2),nr(l));break}}n=n.return}}function Nd(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new hS;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(_d=!0,h.add(s),e=yS.bind(null,e,n,s),n.then(e,e))}function yS(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,pe===e&&(qt&s)===s&&(De===4||De===3&&(qt&62914560)===qt&&300>nn()-xc?(ae&2)===0&&yo(e,0):Ed|=s,go===qt&&(go=0)),nr(e)}function Qv(e,n){n===0&&(n=Cn()),e=ss(e,n),e!==null&&(ve(e,n),nr(e))}function vS(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Qv(e,s)}function bS(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(n),Qv(e,s)}function _S(e,n){return ke(e,n)}var Mc=null,bo=null,Rd=!1,Vc=!1,Id=!1,bi=0;function nr(e){e!==bo&&e.next===null&&(bo===null?Mc=bo=e:bo=bo.next=e),Vc=!0,Rd||(Rd=!0,TS())}function jl(e,n){if(!Id&&Vc){Id=!0;do for(var s=!1,l=Mc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-xe(42|e)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Jv(l,d))}else d=qt,d=Jt(l,l===pe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Re(l,d)||(s=!0,Jv(l,d));l=l.next}while(s);Id=!1}}function ES(){$v()}function $v(){Vc=Rd=!1;var e=0;bi!==0&&kS()&&(e=bi);for(var n=nn(),s=null,l=Mc;l!==null;){var h=l.next,d=Xv(l,n);d===0?(l.next=null,s===null?Mc=h:s.next=h,h===null&&(bo=s)):(s=l,(e!==0||(d&3)!==0)&&(Vc=!0)),l=h}$e!==0&&$e!==5||jl(e),bi!==0&&(bi=0)}function Xv(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-xe(d),S=1<<v,k=h[v];k===-1?((S&s)===0||(S&l)!==0)&&(h[v]=_n(S,n)):k<=n&&(e.expiredLanes|=S),d&=~S}if(n=pe,s=qt,s=Jt(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(oe===2||oe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ea(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Re(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ea(l),En(s)){case 2:case 8:s=Ki;break;case 32:s=_a;break;case 268435456:s=Os;break;default:s=_a}return l=Zv.bind(null,e),s=ke(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ea(l),e.callbackPriority=2,e.callbackNode=null,2}function Zv(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Oc()&&e.callbackNode!==s)return null;var l=qt;return l=Jt(e,e===pe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(kv(e,l,n),Xv(e,nn()),e.callbackNode!=null&&e.callbackNode===s?Zv.bind(null,e):null)}function Jv(e,n){if(Oc())return null;kv(e,n,!0)}function TS(){MS(function(){(ae&6)!==0?ke(Qr,ES):$v()})}function Dd(){if(bi===0){var e=ao;e===0&&(e=ut,ut<<=1,(ut&261888)===0&&(ut=256)),bi=e}return bi}function Wv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fs(""+e)}function t0(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function SS(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=Wv((h[Je]||null).action),v=l.submitter;v&&(n=(n=v[Je]||null)?Wv(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var S=new $a("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(bi!==0){var k=v?t0(h,v):new FormData(h);Zh(s,{pending:!0,data:k,method:h.method,action:d},null,k)}}else typeof d=="function"&&(S.preventDefault(),k=v?t0(h,v):new FormData(h),Zh(s,{pending:!0,data:k,method:h.method,action:d},d,k))},currentTarget:h}]})}}for(var kd=0;kd<mh.length;kd++){var Od=mh[kd],AS=Od.toLowerCase(),wS=Od[0].toUpperCase()+Od.slice(1);Ia(AS,"on"+wS)}Ia(Dp,"onAnimationEnd"),Ia(kp,"onAnimationIteration"),Ia(Op,"onAnimationStart"),Ia("dblclick","onDoubleClick"),Ia("focusin","onFocus"),Ia("focusout","onBlur"),Ia(BT,"onTransitionRun"),Ia(FT,"onTransitionStart"),Ia(qT,"onTransitionCancel"),Ia(Mp,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function e0(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var S=l[v],k=S.instance,B=S.currentTarget;if(S=S.listener,k!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=B;try{d(h)}catch($){Xu($)}h.currentTarget=null,d=k}else for(v=0;v<l.length;v++){if(S=l[v],k=S.instance,B=S.currentTarget,S=S.listener,k!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=B;try{d(h)}catch($){Xu($)}h.currentTarget=null,d=k}}}}function Ft(e,n){var s=n[Ls];s===void 0&&(s=n[Ls]=new Set);var l=e+"__bubble";s.has(l)||(n0(n,e,2,!1),s.add(l))}function Md(e,n,s){var l=0;n&&(l|=4),n0(s,e,l,n)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[jc]){e[jc]=!0,$o.forEach(function(s){s!=="selectionchange"&&(CS.has(s)||Md(s,!1,e),Md(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[jc]||(n[jc]=!0,Md("selectionchange",!1,n))}}function n0(e,n,s,l){switch(D0(n)){case 2:var h=tA;break;case 8:h=eA;break;default:h=Xd}s=h.bind(null,n,s,e),h=void 0,!Ji||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function jd(e,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=Fa(S),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){l=d=v;continue t}S=S.parentNode}}l=l.return}ti(function(){var B=d,$=ra(s),W=[];t:{var F=Vp.get(e);if(F!==void 0){var G=$a,vt=e;switch(e){case"keypress":if(ts(s)===0)break t;case"keydown":case"keyup":G=Ku;break;case"focusin":vt="focus",G=ns;break;case"focusout":vt="blur",G=ns;break;case"beforeblur":case"afterblur":G=ns;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case Dp:case kp:case Op:G=Pu;break;case Mp:G=A;break;case"scroll":case"scrollend":G=ol;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=yr;break;case"toggle":case"beforetoggle":G=Vt}var Nt=(n&4)!==0,ge=!Nt&&(e==="scroll"||e==="scrollend"),j=Nt?F!==null?F+"Capture":null:F;Nt=[];for(var M=B,U;M!==null;){var J=M;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||j===null||(J=Ca(M,j),J!=null&&Nt.push(zl(M,J,U))),ge)break;M=M.return}0<Nt.length&&(F=new G(F,vt,null,s,$),W.push({event:F,listeners:Nt}))}}if((n&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",F&&s!==rl&&(vt=s.relatedTarget||s.fromElement)&&(Fa(vt)||vt[Pa]))break t;if((G||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,G?(vt=s.relatedTarget||s.toElement,G=B,vt=vt?Fa(vt):null,vt!==null&&(ge=u(vt),Nt=vt.tag,vt!==ge||Nt!==5&&Nt!==27&&Nt!==6)&&(vt=null)):(G=null,vt=B),G!==vt)){if(Nt=ll,J="onMouseLeave",j="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Nt=yr,J="onPointerLeave",j="onPointerEnter",M="pointer"),ge=G==null?F:Un(G),U=vt==null?F:Un(vt),F=new Nt(J,M+"leave",G,s,$),F.target=ge,F.relatedTarget=U,J=null,Fa($)===B&&(Nt=new Nt(j,M+"enter",vt,s,$),Nt.target=U,Nt.relatedTarget=ge,J=Nt),ge=J,G&&vt)e:{for(Nt=xS,j=G,M=vt,U=0,J=j;J;J=Nt(J))U++;J=0;for(var At=M;At;At=Nt(At))J++;for(;0<U-J;)j=Nt(j),U--;for(;0<J-U;)M=Nt(M),J--;for(;U--;){if(j===M||M!==null&&j===M.alternate){Nt=j;break e}j=Nt(j),M=Nt(M)}Nt=null}else Nt=null;G!==null&&a0(W,F,G,Nt,!1),vt!==null&&ge!==null&&a0(W,ge,vt,Nt,!0)}}t:{if(F=B?Un(B):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var Wt=_p;else if(vp(F))if(Ep)Wt=zT;else{Wt=jT;var _t=VT}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Bs(B.elementType)&&(Wt=_p):Wt=LT;if(Wt&&(Wt=Wt(e,B))){bp(W,Wt,s,$);break t}_t&&_t(e,F,B),e==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&el(F,"number",F.value)}switch(_t=B?Un(B):window,e){case"focusin":(vp(_t)||_t.contentEditable==="true")&&($s=_t,fh=B,dl=null);break;case"focusout":dl=fh=$s=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,Rp(W,s,$);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":Rp(W,s,$)}var Lt;if(ne)t:{switch(e){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else Qs?as(e,s)&&(Ht="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ht="onCompositionStart");Ht&&(Ja&&s.locale!=="ko"&&(Qs||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Qs&&(Lt=sl()):(Qa=$,il="value"in Qa?Qa.value:Qa.textContent,Qs=!0)),_t=Lc(B,Ht),0<_t.length&&(Ht=new Za(Ht,e,null,s,$),W.push({event:Ht,listeners:_t}),Lt?Ht.data=Lt:(Lt=Ks(s),Lt!==null&&(Ht.data=Lt)))),(Lt=sa?DT(e,s):kT(e,s))&&(Ht=Lc(B,"onBeforeInput"),0<Ht.length&&(_t=new Za("onBeforeInput","beforeinput",null,s,$),W.push({event:_t,listeners:Ht}),_t.data=Lt)),SS(W,e,B,s,$)}e0(W,n)})}function zl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Lc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ca(e,s),h!=null&&l.unshift(zl(e,h,d)),h=Ca(e,n),h!=null&&l.push(zl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function xS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function a0(e,n,s,l,h){for(var d=n._reactName,v=[];s!==null&&s!==l;){var S=s,k=S.alternate,B=S.stateNode;if(S=S.tag,k!==null&&k===l)break;S!==5&&S!==26&&S!==27||B===null||(k=B,h?(B=Ca(s,d),B!=null&&v.unshift(zl(s,B,k))):h||(B=Ca(s,d),B!=null&&v.push(zl(s,B,k)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var NS=/\r\n?/g,RS=/\u0000|\uFFFD/g;function r0(e){return(typeof e=="string"?e:""+e).replace(NS,`
`).replace(RS,"")}function i0(e,n){return n=r0(n),r0(e)===n}function me(e,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Nn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Nn(e,""+l);break;case"className":Pn(e,"class",l);break;case"tabIndex":Pn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(e,s,l);break;case"style":al(e,l,d);break;case"data":if(n!=="object"){Pn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Fs(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&me(e,n,"name",h.name,h,null),me(e,n,"formEncType",h.formEncType,h,null),me(e,n,"formMethod",h.formMethod,h,null),me(e,n,"formTarget",h.formTarget,h,null)):(me(e,n,"encType",h.encType,h,null),me(e,n,"method",h.method,h,null),me(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Fs(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=wa);break;case"onScroll":l!=null&&Ft("scroll",e);break;case"onScrollEnd":l!=null&&Ft("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Fs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ft("beforetoggle",e),Ft("toggle",e),Us(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Us(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Lu.get(s)||s,Us(e,s,l))}}function Ld(e,n,s,l,h,d){switch(s){case"style":al(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Nn(e,l):(typeof l=="number"||typeof l=="bigint")&&Nn(e,""+l);break;case"onScroll":l!=null&&Ft("scroll",e);break;case"onScrollEnd":l!=null&&Ft("scrollend",e);break;case"onClick":l!=null&&(e.onclick=wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=e[Je]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Us(e,s,l)}}}function cn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",e),Ft("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:me(e,n,d,v,s,null)}}h&&me(e,n,"srcSet",s.srcSet,s,null),l&&me(e,n,"src",s.src,s,null);return;case"input":Ft("invalid",e);var S=d=v=h=null,k=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var $=s[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":k=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,n));break;default:me(e,n,l,$,s,null)}}Mu(e,d,S,k,B,v,h,!1);return;case"select":Ft("invalid",e),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:me(e,n,h,S,s,null)}n=d,s=v,e.multiple=!!l,n!=null?Xr(e,!!l,n,!1):s!=null&&Xr(e,!!l,s,!0);return;case"textarea":Ft("invalid",e),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(S=s[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:me(e,n,v,S,s,null)}Zr(e,l,h,d);return;case"option":for(k in s)s.hasOwnProperty(k)&&(l=s[k],l!=null)&&(k==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":me(e,n,k,l,s,null));return;case"dialog":Ft("beforetoggle",e),Ft("toggle",e),Ft("cancel",e),Ft("close",e);break;case"iframe":case"object":Ft("load",e);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Ft(Ll[l],e);break;case"image":Ft("error",e),Ft("load",e);break;case"details":Ft("toggle",e);break;case"embed":case"source":case"link":Ft("error",e),Ft("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:me(e,n,B,l,s,null)}return;default:if(Bs(n)){for($ in s)s.hasOwnProperty($)&&(l=s[$],l!==void 0&&Ld(e,n,$,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&me(e,n,S,l,s,null))}function IS(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,k=null,B=null,$=null;for(G in s){var W=s[G];if(s.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":k=W;default:l.hasOwnProperty(G)||me(e,n,G,null,l,W)}}for(var F in l){var G=l[F];if(W=s[F],l.hasOwnProperty(F)&&(G!=null||W!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":$=G;break;case"value":v=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,n));break;default:G!==W&&me(e,n,F,G,l,W)}}Ps(e,v,S,k,B,$,d,h);return;case"select":G=v=S=F=null;for(d in s)if(k=s[d],s.hasOwnProperty(d)&&k!=null)switch(d){case"value":break;case"multiple":G=k;default:l.hasOwnProperty(d)||me(e,n,d,null,l,k)}for(h in l)if(d=l[h],k=s[h],l.hasOwnProperty(h)&&(d!=null||k!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==k&&me(e,n,h,d,l,k)}n=S,s=v,l=G,F!=null?Xr(e,!!s,F,!1):!!l!=!!s&&(n!=null?Xr(e,!!s,n,!0):Xr(e,!!s,s?[]:"",!1));return;case"textarea":G=F=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:me(e,n,S,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==d&&me(e,n,v,h,l,d)}Vu(e,F,G);return;case"option":for(var vt in s)F=s[vt],s.hasOwnProperty(vt)&&F!=null&&!l.hasOwnProperty(vt)&&(vt==="selected"?e.selected=!1:me(e,n,vt,null,l,F));for(k in l)F=l[k],G=s[k],l.hasOwnProperty(k)&&F!==G&&(F!=null||G!=null)&&(k==="selected"?e.selected=F&&typeof F!="function"&&typeof F!="symbol":me(e,n,k,F,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in s)F=s[Nt],s.hasOwnProperty(Nt)&&F!=null&&!l.hasOwnProperty(Nt)&&me(e,n,Nt,null,l,F);for(B in l)if(F=l[B],G=s[B],l.hasOwnProperty(B)&&F!==G&&(F!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,n));break;default:me(e,n,B,F,l,G)}return;default:if(Bs(n)){for(var ge in s)F=s[ge],s.hasOwnProperty(ge)&&F!==void 0&&!l.hasOwnProperty(ge)&&Ld(e,n,ge,void 0,l,F);for($ in l)F=l[$],G=s[$],!l.hasOwnProperty($)||F===G||F===void 0&&G===void 0||Ld(e,n,$,F,l,G);return}}for(var j in s)F=s[j],s.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&me(e,n,j,null,l,F);for(W in l)F=l[W],G=s[W],!l.hasOwnProperty(W)||F===G||F==null&&G==null||me(e,n,W,F,l,G)}function s0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,v=h.initiatorType,S=h.duration;if(d&&S&&s0(v)){for(v=0,S=h.responseEnd,l+=1;l<s.length;l++){var k=s[l],B=k.startTime;if(B>S)break;var $=k.transferSize,W=k.initiatorType;$&&s0(W)&&(k=k.responseEnd,v+=$*(k<S?1:(S-B)/(k-B)))}if(--l,n+=8*(d+v)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zd=null,Ud=null;function zc(e){return e.nodeType===9?e:e.ownerDocument}function o0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Bd=null;function kS(){var e=window.event;return e&&e.type==="popstate"?e===Bd?!1:(Bd=e,!0):(Bd=null,!1)}var u0=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(e){return c0.resolve(null).then(e).catch(VS)}:u0;function VS(e){setTimeout(function(){throw e})}function _i(e){return e==="head"}function f0(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),So(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Ul(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Ul(s);for(var d=s.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[Ba]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=v}}else s==="body"&&Ul(e.ownerDocument.body);s=h}while(s);So(n)}function h0(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Fd(s),zs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function jS(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ba])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=da(e.nextSibling),e===null)break}return null}function LS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=da(e.nextSibling),e===null))return null;return e}function d0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=da(e.nextSibling),e===null))return null;return e}function qd(e){return e.data==="$?"||e.data==="$~"}function Hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function da(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Gd=null;function m0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return da(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function g0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function p0(e,n,s){switch(n=zc(s),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);zs(e)}var ma=new Map,y0=new Set;function Uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var kr=ct.d;ct.d={f:US,r:PS,D:BS,C:FS,L:qS,m:HS,X:YS,S:GS,M:KS};function US(){var e=kr.f(),n=Ic();return e||n}function PS(e){var n=aa(e);n!==null&&n.tag===5&&n.type==="form"?My(n):kr.r(e)}var _o=typeof document>"u"?null:document;function v0(e,n,s){var l=_o;if(l&&typeof n=="string"&&n){var h=xn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),y0.has(h)||(y0.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),cn(n,"link",e),ze(n),l.head.appendChild(n)))}}function BS(e){kr.D(e),v0("dns-prefetch",e,null)}function FS(e,n){kr.C(e,n),v0("preconnect",e,n)}function qS(e,n,s){kr.L(e,n,s);var l=_o;if(l&&e&&n){var h='link[rel="preload"][as="'+xn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+xn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+xn(s.imageSizes)+'"]')):h+='[href="'+xn(e)+'"]';var d=h;switch(n){case"style":d=Eo(e);break;case"script":d=To(e)}ma.has(d)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),ma.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Pl(d))||n==="script"&&l.querySelector(Bl(d))||(n=l.createElement("link"),cn(n,"link",e),ze(n),l.head.appendChild(n)))}}function HS(e,n){kr.m(e,n);var s=_o;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+xn(l)+'"][href="'+xn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=To(e)}if(!ma.has(d)&&(e=E({rel:"modulepreload",href:e},n),ma.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bl(d)))return}l=s.createElement("link"),cn(l,"link",e),ze(l),s.head.appendChild(l)}}}function GS(e,n,s){kr.S(e,n,s);var l=_o;if(l&&e){var h=qa(l).hoistableStyles,d=Eo(e);n=n||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Pl(d)))S.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=ma.get(d))&&Yd(e,s);var k=v=l.createElement("link");ze(k),cn(k,"link",e),k._p=new Promise(function(B,$){k.onload=B,k.onerror=$}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Pc(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function YS(e,n){kr.X(e,n);var s=_o;if(s&&e){var l=qa(s).hoistableScripts,h=To(e),d=l.get(h);d||(d=s.querySelector(Bl(h)),d||(e=E({src:e,async:!0},n),(n=ma.get(h))&&Kd(e,n),d=s.createElement("script"),ze(d),cn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function KS(e,n){kr.M(e,n);var s=_o;if(s&&e){var l=qa(s).hoistableScripts,h=To(e),d=l.get(h);d||(d=s.querySelector(Bl(h)),d||(e=E({src:e,async:!0,type:"module"},n),(n=ma.get(h))&&Kd(e,n),d=s.createElement("script"),ze(d),cn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function b0(e,n,s,l){var h=(h=Dt.current)?Uc(h):null;if(!h)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Eo(s.href),s=qa(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Eo(s.href);var d=qa(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Pl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),ma.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ma.set(e,s),d||QS(h,e,s,v.state))),n&&l===null)throw Error(i(528,""));return v}if(n&&l!==null)throw Error(i(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=To(s),s=qa(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Eo(e){return'href="'+xn(e)+'"'}function Pl(e){return'link[rel="stylesheet"]['+e+"]"}function _0(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function QS(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),cn(n,"link",s),ze(n),e.head.appendChild(n))}function To(e){return'[src="'+xn(e)+'"]'}function Bl(e){return"script[async]"+e}function E0(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+xn(s.href)+'"]');if(l)return n.instance=l,ze(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ze(l),cn(l,"style",h),Pc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Eo(s.href);var d=e.querySelector(Pl(h));if(d)return n.state.loading|=4,n.instance=d,ze(d),d;l=_0(s),(h=ma.get(h))&&Yd(l,h),d=(e.ownerDocument||e).createElement("link"),ze(d);var v=d;return v._p=new Promise(function(S,k){v.onload=S,v.onerror=k}),cn(d,"link",l),n.state.loading|=4,Pc(d,s.precedence,e),n.instance=d;case"script":return d=To(s.src),(h=e.querySelector(Bl(d)))?(n.instance=h,ze(h),h):(l=s,(h=ma.get(d))&&(l=E({},s),Kd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ze(h),cn(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Pc(l,s.precedence,e));return n.instance}function Pc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===n)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Kd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Bc=null;function T0(e,n,s){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(s,l)}else h=Bc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[Ba]||d[Le]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function S0(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function $S(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function XS(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Eo(l.href),d=n.querySelector(Pl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Fc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=d,ze(d);return}d=n.ownerDocument||n,l=_0(l),(h=ma.get(h))&&Yd(l,h),d=d.createElement("link"),ze(d);var v=d;v._p=new Promise(function(S,k){v.onload=S,v.onerror=k}),cn(d,"link",l),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Fc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Qd=0;function ZS(e,n){return e.stylesheets&&e.count===0&&Hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&Qd===0&&(Qd=62500*DS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Qd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qc=null;function Hc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qc=new Map,n.forEach(JS,e),qc=null,Fc.call(e))}function JS(e,n){if(!(n.state.loading&4)){var s=qc.get(e);if(s)var l=s.get(null);else{s=new Map,qc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Fl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function WS(e,n,s,l,h,d,v,S,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=an(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=an(0),this.hiddenUpdates=an(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function w0(e,n,s,l,h,d,v,S,k,B,$,W){return e=new WS(e,n,s,v,k,B,$,W,S),n=1,d===!0&&(n|=24),d=Fn(3,null,null,n),e.current=d,d.stateNode=e,n=xh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},Dh(d),e}function C0(e){return e?(e=Js,e):Js}function x0(e,n,s,l,h,d){h=C0(h),l.context===null?l.context=h:l.pendingContext=h,l=ui(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ci(e,l,n),s!==null&&(On(s,e,n),_l(s,e,n))}function N0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function $d(e,n){N0(e,n),(e=e.alternate)&&N0(e,n)}function R0(e){if(e.tag===13||e.tag===31){var n=ss(e,67108864);n!==null&&On(n,e,67108864),$d(e,67108864)}}function I0(e){if(e.tag===13||e.tag===31){var n=Kn();n=Ta(n);var s=ss(e,n);s!==null&&On(s,e,n),$d(e,n)}}var Gc=!0;function tA(e,n,s,l){var h=Q.T;Q.T=null;var d=ct.p;try{ct.p=2,Xd(e,n,s,l)}finally{ct.p=d,Q.T=h}}function eA(e,n,s,l){var h=Q.T;Q.T=null;var d=ct.p;try{ct.p=8,Xd(e,n,s,l)}finally{ct.p=d,Q.T=h}}function Xd(e,n,s,l){if(Gc){var h=Zd(l);if(h===null)jd(e,n,l,Yc,s),k0(e,l);else if(aA(h,e,n,s,l))l.stopPropagation();else if(k0(e,l),n&4&&-1<nA.indexOf(e)){for(;h!==null;){var d=aa(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=St(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var k=1<<31-xe(v);S.entanglements[1]|=k,v&=~k}nr(d),(ae&6)===0&&(Nc=nn()+500,jl(0))}}break;case 31:case 13:S=ss(d,2),S!==null&&On(S,d,2),Ic(),$d(d,2)}if(d=Zd(l),d===null&&jd(e,n,l,Yc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(e,n,l,null,s)}}function Zd(e){return e=ra(e),Jd(e)}var Yc=null;function Jd(e){if(Yc=null,e=Fa(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=f(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Yc=e,null}function D0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ua()){case Qr:return 2;case Ki:return 8;case _a:case Qo:return 32;case Os:return 268435456;default:return 32}default:return 32}}var Wd=!1,Ei=null,Ti=null,Si=null,ql=new Map,Hl=new Map,Ai=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(e,n){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function Gl(e,n,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=aa(n),n!==null&&R0(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function aA(e,n,s,l,h){switch(n){case"focusin":return Ei=Gl(Ei,e,n,s,l,h),!0;case"dragenter":return Ti=Gl(Ti,e,n,s,l,h),!0;case"mouseover":return Si=Gl(Si,e,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return ql.set(d,Gl(ql.get(d)||null,e,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Hl.set(d,Gl(Hl.get(d)||null,e,n,s,l,h)),!0}return!1}function O0(e){var n=Fa(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){e.blockedOn=n,Sa(e.priority,function(){I0(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,Sa(e.priority,function(){I0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Zd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);rl=l,s.target.dispatchEvent(l),rl=null}else return n=aa(s),n!==null&&R0(n),e.blockedOn=s,!1;n.shift()}return!0}function M0(e,n,s){Kc(e)&&s.delete(n)}function rA(){Wd=!1,Ei!==null&&Kc(Ei)&&(Ei=null),Ti!==null&&Kc(Ti)&&(Ti=null),Si!==null&&Kc(Si)&&(Si=null),ql.forEach(M0),Hl.forEach(M0)}function Qc(e,n){e.blockedOn===n&&(e.blockedOn=null,Wd||(Wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rA)))}var $c=null;function V0(e){$c!==e&&($c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===e&&($c=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Jd(l||s)===null)continue;break}var d=aa(s);d!==null&&(e.splice(n,3),n-=3,Zh(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function So(e){function n(k){return Qc(k,e)}Ei!==null&&Qc(Ei,e),Ti!==null&&Qc(Ti,e),Si!==null&&Qc(Si,e),ql.forEach(n),Hl.forEach(n);for(var s=0;s<Ai.length;s++){var l=Ai[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ai.length&&(s=Ai[0],s.blockedOn===null);)O0(s),s.blockedOn===null&&Ai.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[Je]||null;if(typeof d=="function")v||V0(s);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Je]||null)S=v.formAction;else if(Jd(h)!==null)continue}else S=v.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),V0(s)}}}function j0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function tm(e){this._internalRoot=e}Xc.prototype.render=tm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var s=n.current,l=Kn();x0(s,l,e,n,null,null)},Xc.prototype.unmount=tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;x0(e.current,2,null,e,null,null),Ic(),n[Pa]=null}};function Xc(e){this._internalRoot=e}Xc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qi();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ai.length&&n!==0&&n<Ai[s].priority;s++);Ai.splice(s,0,e),s===0&&O0(e)}};var L0=t.version;if(L0!=="19.2.3")throw Error(i(527,L0,"19.2.3"));ct.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var iA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{zn=Zc.inject(iA),Qe=Zc}catch{}}return Kl.createRoot=function(e,n){if(!o(e))throw Error(i(299));var s=!1,l="",h=Hy,d=Gy,v=Yy;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=w0(e,1,!1,null,null,s,l,null,h,d,v,j0),e[Pa]=n.current,Vd(e),new tm(n)},Kl.hydrateRoot=function(e,n,s){if(!o(e))throw Error(i(299));var l=!1,h="",d=Hy,v=Gy,S=Yy,k=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(k=s.formState)),n=w0(e,1,!0,n,s??null,l,h,k,d,v,S,j0),n.context=C0(null),s=n.current,l=Kn(),l=Ta(l),h=ui(l),h.callback=null,ci(s,h,l),s=l,n.current.lanes=s,ve(n,s),nr(n),e[Pa]=n.current,Vd(e),new Xc(n)},Kl.version="19.2.3",Kl}var K0;function pA(){if(K0)return am.exports;K0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),am.exports=gA(),am.exports}var yA=pA();function xm(r,t){(t==null||t>r.length)&&(t=r.length);for(var a=0,i=Array(t);a<t;a++)i[a]=r[a];return i}function vA(r){if(Array.isArray(r))return r}function bA(r){if(Array.isArray(r))return xm(r)}function _A(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function EA(r,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Zb(i.key),i)}}function TA(r,t,a){return t&&EA(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function of(r,t){var a=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!a){if(Array.isArray(r)||(a=hg(r))||t){a&&(r=a);var i=0,o=function(){};return{s:o,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(g){throw g},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,m=!1;return{s:function(){a=a.call(r)},n:function(){var g=a.next();return f=g.done,g},e:function(g){m=!0,u=g},f:function(){try{f||a.return==null||a.return()}finally{if(m)throw u}}}}function zt(r,t,a){return(t=Zb(t))in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function SA(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function AA(r,t){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var i,o,u,f,m=[],g=!0,p=!1;try{if(u=(a=a.call(r)).next,t===0){if(Object(a)!==a)return;g=!1}else for(;!(g=(i=u.call(a)).done)&&(m.push(i.value),m.length!==t);g=!0);}catch(_){p=!0,o=_}finally{try{if(!g&&a.return!=null&&(f=a.return(),Object(f)!==f))return}finally{if(p)throw o}}return m}}function wA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),a.push.apply(a,i)}return a}function it(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(a),!0).forEach(function(i){zt(r,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Q0(Object(a)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(a,i))})}return r}function Mf(r,t){return vA(r)||AA(r,t)||hg(r,t)||wA()}function Va(r){return bA(r)||SA(r)||hg(r)||CA()}function xA(r,t){if(typeof r!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var i=a.call(r,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Zb(r){var t=xA(r,"string");return typeof t=="symbol"?t:t+""}function pf(r){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(r)}function hg(r,t){if(r){if(typeof r=="string")return xm(r,t);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?xm(r,t):void 0}}var $0=function(){},dg={},Jb={},Wb=null,t_={mark:$0,measure:$0};try{typeof window<"u"&&(dg=window),typeof document<"u"&&(Jb=document),typeof MutationObserver<"u"&&(Wb=MutationObserver),typeof performance<"u"&&(t_=performance)}catch{}var NA=dg.navigator||{},X0=NA.userAgent,Z0=X0===void 0?"":X0,ki=dg,Te=Jb,J0=Wb,Jc=t_;ki.document;var Gr=!!Te.documentElement&&!!Te.head&&typeof Te.addEventListener=="function"&&typeof Te.createElement=="function",e_=~Z0.indexOf("MSIE")||~Z0.indexOf("Trident/"),om,RA=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,IA=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,n_={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},DA={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},a_=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],dn="classic",Eu="duotone",r_="sharp",i_="sharp-duotone",s_="chisel",o_="etch",l_="jelly",u_="jelly-duo",c_="jelly-fill",f_="notdog",h_="notdog-duo",d_="slab",m_="slab-press",g_="thumbprint",p_="utility",y_="utility-duo",v_="utility-fill",b_="whiteboard",kA="Classic",OA="Duotone",MA="Sharp",VA="Sharp Duotone",jA="Chisel",LA="Etch",zA="Jelly",UA="Jelly Duo",PA="Jelly Fill",BA="Notdog",FA="Notdog Duo",qA="Slab",HA="Slab Press",GA="Thumbprint",YA="Utility",KA="Utility Duo",QA="Utility Fill",$A="Whiteboard",__=[dn,Eu,r_,i_,s_,o_,l_,u_,c_,f_,h_,d_,m_,g_,p_,y_,v_,b_];om={},zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(om,dn,kA),Eu,OA),r_,MA),i_,VA),s_,jA),o_,LA),l_,zA),u_,UA),c_,PA),f_,BA),zt(zt(zt(zt(zt(zt(zt(zt(om,h_,FA),d_,qA),m_,HA),g_,GA),p_,YA),y_,KA),v_,QA),b_,$A);var XA={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},ZA={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},JA=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),WA={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},E_=["fak","fa-kit","fakd","fa-kit-duotone"],W0={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},tw=["kit"],ew="kit",nw="kit-duotone",aw="Kit",rw="Kit Duotone";zt(zt({},ew,aw),nw,rw);var iw={kit:{"fa-kit":"fak"}},sw={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},ow={kit:{fak:"fa-kit"}},t1={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},lm,Wc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},lw=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],uw="classic",cw="duotone",fw="sharp",hw="sharp-duotone",dw="chisel",mw="etch",gw="jelly",pw="jelly-duo",yw="jelly-fill",vw="notdog",bw="notdog-duo",_w="slab",Ew="slab-press",Tw="thumbprint",Sw="utility",Aw="utility-duo",ww="utility-fill",Cw="whiteboard",xw="Classic",Nw="Duotone",Rw="Sharp",Iw="Sharp Duotone",Dw="Chisel",kw="Etch",Ow="Jelly",Mw="Jelly Duo",Vw="Jelly Fill",jw="Notdog",Lw="Notdog Duo",zw="Slab",Uw="Slab Press",Pw="Thumbprint",Bw="Utility",Fw="Utility Duo",qw="Utility Fill",Hw="Whiteboard";lm={},zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(lm,uw,xw),cw,Nw),fw,Rw),hw,Iw),dw,Dw),mw,kw),gw,Ow),pw,Mw),yw,Vw),vw,jw),zt(zt(zt(zt(zt(zt(zt(zt(lm,bw,Lw),_w,zw),Ew,Uw),Tw,Pw),Sw,Bw),Aw,Fw),ww,qw),Cw,Hw);var Gw="kit",Yw="kit-duotone",Kw="Kit",Qw="Kit Duotone";zt(zt({},Gw,Kw),Yw,Qw);var $w={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},Xw={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},Nm={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},Zw=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],T_=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(lw,Zw),Jw=["solid","regular","light","thin","duotone","brands","semibold"],S_=[1,2,3,4,5,6,7,8,9,10],Ww=S_.concat([11,12,13,14,15,16,17,18,19,20]),tC=["aw","fw","pull-left","pull-right"],eC=[].concat(Va(Object.keys(Xw)),Jw,tC,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Wc.GROUP,Wc.SWAP_OPACITY,Wc.PRIMARY,Wc.SECONDARY]).concat(S_.map(function(r){return"".concat(r,"x")})).concat(Ww.map(function(r){return"w-".concat(r)})),nC={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},zr="___FONT_AWESOME___",Rm=16,A_="fa",w_="svg-inline--fa",ws="data-fa-i2svg",Im="data-fa-pseudo-element",aC="data-fa-pseudo-element-pending",mg="data-prefix",gg="data-icon",e1="fontawesome-i2svg",rC="async",iC=["HTML","HEAD","STYLE","SCRIPT"],C_=["::before","::after",":before",":after"],x_=(function(){try{return!0}catch{return!1}})();function Tu(r){return new Proxy(r,{get:function(a,i){return i in a?a[i]:a[dn]}})}var N_=it({},n_);N_[dn]=it(it(it(it({},{"fa-duotone":"duotone"}),n_[dn]),W0.kit),W0["kit-duotone"]);var sC=Tu(N_),Dm=it({},WA);Dm[dn]=it(it(it(it({},{duotone:"fad"}),Dm[dn]),t1.kit),t1["kit-duotone"]);var n1=Tu(Dm),km=it({},Nm);km[dn]=it(it({},km[dn]),ow.kit);var pg=Tu(km),Om=it({},$w);Om[dn]=it(it({},Om[dn]),iw.kit);Tu(Om);var oC=RA,R_="fa-layers-text",lC=IA,uC=it({},XA);Tu(uC);var cC=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],um=DA,fC=[].concat(Va(tw),Va(eC)),eu=ki.FontAwesomeConfig||{};function hC(r){var t=Te.querySelector("script["+r+"]");if(t)return t.getAttribute(r)}function dC(r){return r===""?!0:r==="false"?!1:r==="true"?!0:r}if(Te&&typeof Te.querySelector=="function"){var mC=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];mC.forEach(function(r){var t=Mf(r,2),a=t[0],i=t[1],o=dC(hC(a));o!=null&&(eu[i]=o)})}var I_={styleDefault:"solid",familyDefault:dn,cssPrefix:A_,replacementClass:w_,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};eu.familyPrefix&&(eu.cssPrefix=eu.familyPrefix);var Vo=it(it({},I_),eu);Vo.autoReplaceSvg||(Vo.observeMutations=!1);var wt={};Object.keys(I_).forEach(function(r){Object.defineProperty(wt,r,{enumerable:!0,set:function(a){Vo[r]=a,nu.forEach(function(i){return i(wt)})},get:function(){return Vo[r]}})});Object.defineProperty(wt,"familyPrefix",{enumerable:!0,set:function(t){Vo.cssPrefix=t,nu.forEach(function(a){return a(wt)})},get:function(){return Vo.cssPrefix}});ki.FontAwesomeConfig=wt;var nu=[];function gC(r){return nu.push(r),function(){nu.splice(nu.indexOf(r),1)}}var Ao=Rm,sr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function pC(r){if(!(!r||!Gr)){var t=Te.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=r;for(var a=Te.head.childNodes,i=null,o=a.length-1;o>-1;o--){var u=a[o],f=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(f)>-1&&(i=u)}return Te.head.insertBefore(t,i),r}}var yC="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function a1(){for(var r=12,t="";r-- >0;)t+=yC[Math.random()*62|0];return t}function qo(r){for(var t=[],a=(r||[]).length>>>0;a--;)t[a]=r[a];return t}function yg(r){return r.classList?qo(r.classList):(r.getAttribute("class")||"").split(" ").filter(function(t){return t})}function D_(r){return"".concat(r).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function vC(r){return Object.keys(r||{}).reduce(function(t,a){return t+"".concat(a,'="').concat(D_(r[a]),'" ')},"").trim()}function Vf(r){return Object.keys(r||{}).reduce(function(t,a){return t+"".concat(a,": ").concat(r[a].trim(),";")},"")}function vg(r){return r.size!==sr.size||r.x!==sr.x||r.y!==sr.y||r.rotate!==sr.rotate||r.flipX||r.flipY}function bC(r){var t=r.transform,a=r.containerWidth,i=r.iconWidth,o={transform:"translate(".concat(a/2," 256)")},u="translate(".concat(t.x*32,", ").concat(t.y*32,") "),f="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),m="rotate(".concat(t.rotate," 0 0)"),g={transform:"".concat(u," ").concat(f," ").concat(m)},p={transform:"translate(".concat(i/2*-1," -256)")};return{outer:o,inner:g,path:p}}function _C(r){var t=r.transform,a=r.width,i=a===void 0?Rm:a,o=r.height,u=o===void 0?Rm:o,f="";return e_?f+="translate(".concat(t.x/Ao-i/2,"em, ").concat(t.y/Ao-u/2,"em) "):f+="translate(calc(-50% + ".concat(t.x/Ao,"em), calc(-50% + ").concat(t.y/Ao,"em)) "),f+="scale(".concat(t.size/Ao*(t.flipX?-1:1),", ").concat(t.size/Ao*(t.flipY?-1:1),") "),f+="rotate(".concat(t.rotate,"deg) "),f}var EC=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function k_(){var r=A_,t=w_,a=wt.cssPrefix,i=wt.replacementClass,o=EC;if(a!==r||i!==t){var u=new RegExp("\\.".concat(r,"\\-"),"g"),f=new RegExp("\\--".concat(r,"\\-"),"g"),m=new RegExp("\\.".concat(t),"g");o=o.replace(u,".".concat(a,"-")).replace(f,"--".concat(a,"-")).replace(m,".".concat(i))}return o}var r1=!1;function cm(){wt.autoAddCss&&!r1&&(pC(k_()),r1=!0)}var TC={mixout:function(){return{dom:{css:k_,insertCss:cm}}},hooks:function(){return{beforeDOMElementCreation:function(){cm()},beforeI2svg:function(){cm()}}}},Ur=ki||{};Ur[zr]||(Ur[zr]={});Ur[zr].styles||(Ur[zr].styles={});Ur[zr].hooks||(Ur[zr].hooks={});Ur[zr].shims||(Ur[zr].shims=[]);var Ma=Ur[zr],O_=[],M_=function(){Te.removeEventListener("DOMContentLoaded",M_),yf=1,O_.map(function(t){return t()})},yf=!1;Gr&&(yf=(Te.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Te.readyState),yf||Te.addEventListener("DOMContentLoaded",M_));function SC(r){Gr&&(yf?setTimeout(r,0):O_.push(r))}function Su(r){var t=r.tag,a=r.attributes,i=a===void 0?{}:a,o=r.children,u=o===void 0?[]:o;return typeof r=="string"?D_(r):"<".concat(t," ").concat(vC(i),">").concat(u.map(Su).join(""),"</").concat(t,">")}function i1(r,t,a){if(r&&r[t]&&r[t][a])return{prefix:t,iconName:a,icon:r[t][a]}}var fm=function(t,a,i,o){var u=Object.keys(t),f=u.length,m=a,g,p,_;for(i===void 0?(g=1,_=t[u[0]]):(g=0,_=i);g<f;g++)p=u[g],_=m(_,t[p],p,t);return _};function V_(r){return Va(r).length!==1?null:r.codePointAt(0).toString(16)}function s1(r){return Object.keys(r).reduce(function(t,a){var i=r[a],o=!!i.icon;return o?t[i.iconName]=i.icon:t[a]=i,t},{})}function Mm(r,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=a.skipHooks,o=i===void 0?!1:i,u=s1(t);typeof Ma.hooks.addPack=="function"&&!o?Ma.hooks.addPack(r,s1(t)):Ma.styles[r]=it(it({},Ma.styles[r]||{}),u),r==="fas"&&Mm("fa",t)}var uu=Ma.styles,AC=Ma.shims,j_=Object.keys(pg),wC=j_.reduce(function(r,t){return r[t]=Object.keys(pg[t]),r},{}),bg=null,L_={},z_={},U_={},P_={},B_={};function CC(r){return~fC.indexOf(r)}function xC(r,t){var a=t.split("-"),i=a[0],o=a.slice(1).join("-");return i===r&&o!==""&&!CC(o)?o:null}var F_=function(){var t=function(u){return fm(uu,function(f,m,g){return f[g]=fm(m,u,{}),f},{})};L_=t(function(o,u,f){if(u[3]&&(o[u[3]]=f),u[2]){var m=u[2].filter(function(g){return typeof g=="number"});m.forEach(function(g){o[g.toString(16)]=f})}return o}),z_=t(function(o,u,f){if(o[f]=f,u[2]){var m=u[2].filter(function(g){return typeof g=="string"});m.forEach(function(g){o[g]=f})}return o}),B_=t(function(o,u,f){var m=u[2];return o[f]=f,m.forEach(function(g){o[g]=f}),o});var a="far"in uu||wt.autoFetchSvg,i=fm(AC,function(o,u){var f=u[0],m=u[1],g=u[2];return m==="far"&&!a&&(m="fas"),typeof f=="string"&&(o.names[f]={prefix:m,iconName:g}),typeof f=="number"&&(o.unicodes[f.toString(16)]={prefix:m,iconName:g}),o},{names:{},unicodes:{}});U_=i.names,P_=i.unicodes,bg=jf(wt.styleDefault,{family:wt.familyDefault})};gC(function(r){bg=jf(r.styleDefault,{family:wt.familyDefault})});F_();function _g(r,t){return(L_[r]||{})[t]}function NC(r,t){return(z_[r]||{})[t]}function Es(r,t){return(B_[r]||{})[t]}function q_(r){return U_[r]||{prefix:null,iconName:null}}function RC(r){var t=P_[r],a=_g("fas",r);return t||(a?{prefix:"fas",iconName:a}:null)||{prefix:null,iconName:null}}function Oi(){return bg}var H_=function(){return{prefix:null,iconName:null,rest:[]}};function IC(r){var t=dn,a=j_.reduce(function(i,o){return i[o]="".concat(wt.cssPrefix,"-").concat(o),i},{});return __.forEach(function(i){(r.includes(a[i])||r.some(function(o){return wC[i].includes(o)}))&&(t=i)}),t}function jf(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.family,i=a===void 0?dn:a,o=sC[i][r];if(i===Eu&&!r)return"fad";var u=n1[i][r]||n1[i][o],f=r in Ma.styles?r:null,m=u||f||null;return m}function DC(r){var t=[],a=null;return r.forEach(function(i){var o=xC(wt.cssPrefix,i);o?a=o:i&&t.push(i)}),{iconName:a,rest:t}}function o1(r){return r.sort().filter(function(t,a,i){return i.indexOf(t)===a})}var l1=T_.concat(E_);function Lf(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.skipLookups,i=a===void 0?!1:a,o=null,u=o1(r.filter(function(D){return l1.includes(D)})),f=o1(r.filter(function(D){return!l1.includes(D)})),m=u.filter(function(D){return o=D,!a_.includes(D)}),g=Mf(m,1),p=g[0],_=p===void 0?null:p,E=IC(u),w=it(it({},DC(f)),{},{prefix:jf(_,{family:E})});return it(it(it({},w),VC({values:r,family:E,styles:uu,config:wt,canonical:w,givenPrefix:o})),kC(i,o,w))}function kC(r,t,a){var i=a.prefix,o=a.iconName;if(r||!i||!o)return{prefix:i,iconName:o};var u=t==="fa"?q_(o):{},f=Es(i,o);return o=u.iconName||f||o,i=u.prefix||i,i==="far"&&!uu.far&&uu.fas&&!wt.autoFetchSvg&&(i="fas"),{prefix:i,iconName:o}}var OC=__.filter(function(r){return r!==dn||r!==Eu}),MC=Object.keys(Nm).filter(function(r){return r!==dn}).map(function(r){return Object.keys(Nm[r])}).flat();function VC(r){var t=r.values,a=r.family,i=r.canonical,o=r.givenPrefix,u=o===void 0?"":o,f=r.styles,m=f===void 0?{}:f,g=r.config,p=g===void 0?{}:g,_=a===Eu,E=t.includes("fa-duotone")||t.includes("fad"),w=p.familyDefault==="duotone",D=i.prefix==="fad"||i.prefix==="fa-duotone";if(!_&&(E||w||D)&&(i.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(i.prefix="fab"),!i.prefix&&OC.includes(a)){var P=Object.keys(m).find(function(q){return MC.includes(q)});if(P||p.autoFetchSvg){var Y=JA.get(a).defaultShortPrefixId;i.prefix=Y,i.iconName=Es(i.prefix,i.iconName)||i.iconName}}return(i.prefix==="fa"||u==="fa")&&(i.prefix=Oi()||"fas"),i}var jC=(function(){function r(){_A(this,r),this.definitions={}}return TA(r,[{key:"add",value:function(){for(var a=this,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];var f=o.reduce(this._pullDefinitions,{});Object.keys(f).forEach(function(m){a.definitions[m]=it(it({},a.definitions[m]||{}),f[m]),Mm(m,f[m]);var g=pg[dn][m];g&&Mm(g,f[m]),F_()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(a,i){var o=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(o).map(function(u){var f=o[u],m=f.prefix,g=f.iconName,p=f.icon,_=p[2];a[m]||(a[m]={}),_.length>0&&_.forEach(function(E){typeof E=="string"&&(a[m][E]=p)}),a[m][g]=p}),a}}])})(),u1=[],Io={},Do={},LC=Object.keys(Do);function zC(r,t){var a=t.mixoutsTo;return u1=r,Io={},Object.keys(Do).forEach(function(i){LC.indexOf(i)===-1&&delete Do[i]}),u1.forEach(function(i){var o=i.mixout?i.mixout():{};if(Object.keys(o).forEach(function(f){typeof o[f]=="function"&&(a[f]=o[f]),pf(o[f])==="object"&&Object.keys(o[f]).forEach(function(m){a[f]||(a[f]={}),a[f][m]=o[f][m]})}),i.hooks){var u=i.hooks();Object.keys(u).forEach(function(f){Io[f]||(Io[f]=[]),Io[f].push(u[f])})}i.provides&&i.provides(Do)}),a}function Vm(r,t){for(var a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];var u=Io[r]||[];return u.forEach(function(f){t=f.apply(null,[t].concat(i))}),t}function Cs(r){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];var o=Io[r]||[];o.forEach(function(u){u.apply(null,a)})}function Mi(){var r=arguments[0],t=Array.prototype.slice.call(arguments,1);return Do[r]?Do[r].apply(null,t):void 0}function jm(r){r.prefix==="fa"&&(r.prefix="fas");var t=r.iconName,a=r.prefix||Oi();if(t)return t=Es(a,t)||t,i1(G_.definitions,a,t)||i1(Ma.styles,a,t)}var G_=new jC,UC=function(){wt.autoReplaceSvg=!1,wt.observeMutations=!1,Cs("noAuto")},PC={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Gr?(Cs("beforeI2svg",t),Mi("pseudoElements2svg",t),Mi("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=t.autoReplaceSvgRoot;wt.autoReplaceSvg===!1&&(wt.autoReplaceSvg=!0),wt.observeMutations=!0,SC(function(){FC({autoReplaceSvgRoot:a}),Cs("watch",t)})}},BC={icon:function(t){if(t===null)return null;if(pf(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Es(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var a=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],i=jf(t[0]);return{prefix:i,iconName:Es(i,a)||a}}if(typeof t=="string"&&(t.indexOf("".concat(wt.cssPrefix,"-"))>-1||t.match(oC))){var o=Lf(t.split(" "),{skipLookups:!0});return{prefix:o.prefix||Oi(),iconName:Es(o.prefix,o.iconName)||o.iconName}}if(typeof t=="string"){var u=Oi();return{prefix:u,iconName:Es(u,t)||t}}}},Wn={noAuto:UC,config:wt,dom:PC,parse:BC,library:G_,findIconDefinition:jm,toHtml:Su},FC=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=t.autoReplaceSvgRoot,i=a===void 0?Te:a;(Object.keys(Ma.styles).length>0||wt.autoFetchSvg)&&Gr&&wt.autoReplaceSvg&&Wn.dom.i2svg({node:i})};function zf(r,t){return Object.defineProperty(r,"abstract",{get:t}),Object.defineProperty(r,"html",{get:function(){return r.abstract.map(function(i){return Su(i)})}}),Object.defineProperty(r,"node",{get:function(){if(Gr){var i=Te.createElement("div");return i.innerHTML=r.html,i.children}}}),r}function qC(r){var t=r.children,a=r.main,i=r.mask,o=r.attributes,u=r.styles,f=r.transform;if(vg(f)&&a.found&&!i.found){var m=a.width,g=a.height,p={x:m/g/2,y:.5};o.style=Vf(it(it({},u),{},{"transform-origin":"".concat(p.x+f.x/16,"em ").concat(p.y+f.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}function HC(r){var t=r.prefix,a=r.iconName,i=r.children,o=r.attributes,u=r.symbol,f=u===!0?"".concat(t,"-").concat(wt.cssPrefix,"-").concat(a):u;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:it(it({},o),{},{id:f}),children:i}]}]}function GC(r){var t=["aria-label","aria-labelledby","title","role"];return t.some(function(a){return a in r})}function Eg(r){var t=r.icons,a=t.main,i=t.mask,o=r.prefix,u=r.iconName,f=r.transform,m=r.symbol,g=r.maskId,p=r.extra,_=r.watchable,E=_===void 0?!1:_,w=i.found?i:a,D=w.width,P=w.height,Y=[wt.replacementClass,u?"".concat(wt.cssPrefix,"-").concat(u):""].filter(function(st){return p.classes.indexOf(st)===-1}).filter(function(st){return st!==""||!!st}).concat(p.classes).join(" "),q={children:[],attributes:it(it({},p.attributes),{},{"data-prefix":o,"data-icon":u,class:Y,role:p.attributes.role||"img",viewBox:"0 0 ".concat(D," ").concat(P)})};!GC(p.attributes)&&!p.attributes["aria-hidden"]&&(q.attributes["aria-hidden"]="true"),E&&(q.attributes[ws]="");var lt=it(it({},q),{},{prefix:o,iconName:u,main:a,mask:i,maskId:g,transform:f,symbol:m,styles:it({},p.styles)}),at=i.found&&a.found?Mi("generateAbstractMask",lt)||{children:[],attributes:{}}:Mi("generateAbstractIcon",lt)||{children:[],attributes:{}},rt=at.children,yt=at.attributes;return lt.children=rt,lt.attributes=yt,m?HC(lt):qC(lt)}function c1(r){var t=r.content,a=r.width,i=r.height,o=r.transform,u=r.extra,f=r.watchable,m=f===void 0?!1:f,g=it(it({},u.attributes),{},{class:u.classes.join(" ")});m&&(g[ws]="");var p=it({},u.styles);vg(o)&&(p.transform=_C({transform:o,width:a,height:i}),p["-webkit-transform"]=p.transform);var _=Vf(p);_.length>0&&(g.style=_);var E=[];return E.push({tag:"span",attributes:g,children:[t]}),E}function YC(r){var t=r.content,a=r.extra,i=it(it({},a.attributes),{},{class:a.classes.join(" ")}),o=Vf(a.styles);o.length>0&&(i.style=o);var u=[];return u.push({tag:"span",attributes:i,children:[t]}),u}var hm=Ma.styles;function Lm(r){var t=r[0],a=r[1],i=r.slice(4),o=Mf(i,1),u=o[0],f=null;return Array.isArray(u)?f={tag:"g",attributes:{class:"".concat(wt.cssPrefix,"-").concat(um.GROUP)},children:[{tag:"path",attributes:{class:"".concat(wt.cssPrefix,"-").concat(um.SECONDARY),fill:"currentColor",d:u[0]}},{tag:"path",attributes:{class:"".concat(wt.cssPrefix,"-").concat(um.PRIMARY),fill:"currentColor",d:u[1]}}]}:f={tag:"path",attributes:{fill:"currentColor",d:u}},{found:!0,width:t,height:a,icon:f}}var KC={found:!1,width:512,height:512};function QC(r,t){!x_&&!wt.showMissingIcons&&r&&console.error('Icon with name "'.concat(r,'" and prefix "').concat(t,'" is missing.'))}function zm(r,t){var a=t;return t==="fa"&&wt.styleDefault!==null&&(t=Oi()),new Promise(function(i,o){if(a==="fa"){var u=q_(r)||{};r=u.iconName||r,t=u.prefix||t}if(r&&t&&hm[t]&&hm[t][r]){var f=hm[t][r];return i(Lm(f))}QC(r,t),i(it(it({},KC),{},{icon:wt.showMissingIcons&&r?Mi("missingIconAbstract")||{}:{}}))})}var f1=function(){},Um=wt.measurePerformance&&Jc&&Jc.mark&&Jc.measure?Jc:{mark:f1,measure:f1},$l='FA "7.1.0"',$C=function(t){return Um.mark("".concat($l," ").concat(t," begins")),function(){return Y_(t)}},Y_=function(t){Um.mark("".concat($l," ").concat(t," ends")),Um.measure("".concat($l," ").concat(t),"".concat($l," ").concat(t," begins"),"".concat($l," ").concat(t," ends"))},Tg={begin:$C,end:Y_},lf=function(){};function h1(r){var t=r.getAttribute?r.getAttribute(ws):null;return typeof t=="string"}function XC(r){var t=r.getAttribute?r.getAttribute(mg):null,a=r.getAttribute?r.getAttribute(gg):null;return t&&a}function ZC(r){return r&&r.classList&&r.classList.contains&&r.classList.contains(wt.replacementClass)}function JC(){if(wt.autoReplaceSvg===!0)return uf.replace;var r=uf[wt.autoReplaceSvg];return r||uf.replace}function WC(r){return Te.createElementNS("http://www.w3.org/2000/svg",r)}function tx(r){return Te.createElement(r)}function K_(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.ceFn,i=a===void 0?r.tag==="svg"?WC:tx:a;if(typeof r=="string")return Te.createTextNode(r);var o=i(r.tag);Object.keys(r.attributes||[]).forEach(function(f){o.setAttribute(f,r.attributes[f])});var u=r.children||[];return u.forEach(function(f){o.appendChild(K_(f,{ceFn:i}))}),o}function ex(r){var t=" ".concat(r.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var uf={replace:function(t){var a=t[0];if(a.parentNode)if(t[1].forEach(function(o){a.parentNode.insertBefore(K_(o),a)}),a.getAttribute(ws)===null&&wt.keepOriginalSource){var i=Te.createComment(ex(a));a.parentNode.replaceChild(i,a)}else a.remove()},nest:function(t){var a=t[0],i=t[1];if(~yg(a).indexOf(wt.replacementClass))return uf.replace(t);var o=new RegExp("".concat(wt.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var u=i[0].attributes.class.split(" ").reduce(function(m,g){return g===wt.replacementClass||g.match(o)?m.toSvg.push(g):m.toNode.push(g),m},{toNode:[],toSvg:[]});i[0].attributes.class=u.toSvg.join(" "),u.toNode.length===0?a.removeAttribute("class"):a.setAttribute("class",u.toNode.join(" "))}var f=i.map(function(m){return Su(m)}).join(`
`);a.setAttribute(ws,""),a.innerHTML=f}};function d1(r){r()}function Q_(r,t){var a=typeof t=="function"?t:lf;if(r.length===0)a();else{var i=d1;wt.mutateApproach===rC&&(i=ki.requestAnimationFrame||d1),i(function(){var o=JC(),u=Tg.begin("mutate");r.map(o),u(),a()})}}var Sg=!1;function $_(){Sg=!0}function Pm(){Sg=!1}var vf=null;function m1(r){if(J0&&wt.observeMutations){var t=r.treeCallback,a=t===void 0?lf:t,i=r.nodeCallback,o=i===void 0?lf:i,u=r.pseudoElementsCallback,f=u===void 0?lf:u,m=r.observeMutationsRoot,g=m===void 0?Te:m;vf=new J0(function(p){if(!Sg){var _=Oi();qo(p).forEach(function(E){if(E.type==="childList"&&E.addedNodes.length>0&&!h1(E.addedNodes[0])&&(wt.searchPseudoElements&&f(E.target),a(E.target)),E.type==="attributes"&&E.target.parentNode&&wt.searchPseudoElements&&f([E.target],!0),E.type==="attributes"&&h1(E.target)&&~cC.indexOf(E.attributeName))if(E.attributeName==="class"&&XC(E.target)){var w=Lf(yg(E.target)),D=w.prefix,P=w.iconName;E.target.setAttribute(mg,D||_),P&&E.target.setAttribute(gg,P)}else ZC(E.target)&&o(E.target)})}}),Gr&&vf.observe(g,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function nx(){vf&&vf.disconnect()}function ax(r){var t=r.getAttribute("style"),a=[];return t&&(a=t.split(";").reduce(function(i,o){var u=o.split(":"),f=u[0],m=u.slice(1);return f&&m.length>0&&(i[f]=m.join(":").trim()),i},{})),a}function rx(r){var t=r.getAttribute("data-prefix"),a=r.getAttribute("data-icon"),i=r.innerText!==void 0?r.innerText.trim():"",o=Lf(yg(r));return o.prefix||(o.prefix=Oi()),t&&a&&(o.prefix=t,o.iconName=a),o.iconName&&o.prefix||(o.prefix&&i.length>0&&(o.iconName=NC(o.prefix,r.innerText)||_g(o.prefix,V_(r.innerText))),!o.iconName&&wt.autoFetchSvg&&r.firstChild&&r.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=r.firstChild.data)),o}function ix(r){var t=qo(r.attributes).reduce(function(a,i){return a.name!=="class"&&a.name!=="style"&&(a[i.name]=i.value),a},{});return t}function sx(){return{iconName:null,prefix:null,transform:sr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function g1(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},a=rx(r),i=a.iconName,o=a.prefix,u=a.rest,f=ix(r),m=Vm("parseNodeAttributes",{},r),g=t.styleParser?ax(r):[];return it({iconName:i,prefix:o,transform:sr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:u,styles:g,attributes:f}},m)}var ox=Ma.styles;function X_(r){var t=wt.autoReplaceSvg==="nest"?g1(r,{styleParser:!1}):g1(r);return~t.extra.classes.indexOf(R_)?Mi("generateLayersText",r,t):Mi("generateSvgReplacementMutation",r,t)}function lx(){return[].concat(Va(E_),Va(T_))}function p1(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Gr)return Promise.resolve();var a=Te.documentElement.classList,i=function(E){return a.add("".concat(e1,"-").concat(E))},o=function(E){return a.remove("".concat(e1,"-").concat(E))},u=wt.autoFetchSvg?lx():a_.concat(Object.keys(ox));u.includes("fa")||u.push("fa");var f=[".".concat(R_,":not([").concat(ws,"])")].concat(u.map(function(_){return".".concat(_,":not([").concat(ws,"])")})).join(", ");if(f.length===0)return Promise.resolve();var m=[];try{m=qo(r.querySelectorAll(f))}catch{}if(m.length>0)i("pending"),o("complete");else return Promise.resolve();var g=Tg.begin("onTree"),p=m.reduce(function(_,E){try{var w=X_(E);w&&_.push(w)}catch(D){x_||D.name==="MissingIcon"&&console.error(D)}return _},[]);return new Promise(function(_,E){Promise.all(p).then(function(w){Q_(w,function(){i("active"),i("complete"),o("pending"),typeof t=="function"&&t(),g(),_()})}).catch(function(w){g(),E(w)})})}function ux(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;X_(r).then(function(a){a&&Q_([a],t)})}function cx(r){return function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:jm(t||{}),o=a.mask;return o&&(o=(o||{}).icon?o:jm(o||{})),r(i,it(it({},a),{},{mask:o}))}}var fx=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.transform,o=i===void 0?sr:i,u=a.symbol,f=u===void 0?!1:u,m=a.mask,g=m===void 0?null:m,p=a.maskId,_=p===void 0?null:p,E=a.classes,w=E===void 0?[]:E,D=a.attributes,P=D===void 0?{}:D,Y=a.styles,q=Y===void 0?{}:Y;if(t){var lt=t.prefix,at=t.iconName,rt=t.icon;return zf(it({type:"icon"},t),function(){return Cs("beforeDOMElementCreation",{iconDefinition:t,params:a}),Eg({icons:{main:Lm(rt),mask:g?Lm(g.icon):{found:!1,width:null,height:null,icon:{}}},prefix:lt,iconName:at,transform:it(it({},sr),o),symbol:f,maskId:_,extra:{attributes:P,styles:q,classes:w}})})}},hx={mixout:function(){return{icon:cx(fx)}},hooks:function(){return{mutationObserverCallbacks:function(a){return a.treeCallback=p1,a.nodeCallback=ux,a}}},provides:function(t){t.i2svg=function(a){var i=a.node,o=i===void 0?Te:i,u=a.callback,f=u===void 0?function(){}:u;return p1(o,f)},t.generateSvgReplacementMutation=function(a,i){var o=i.iconName,u=i.prefix,f=i.transform,m=i.symbol,g=i.mask,p=i.maskId,_=i.extra;return new Promise(function(E,w){Promise.all([zm(o,u),g.iconName?zm(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(D){var P=Mf(D,2),Y=P[0],q=P[1];E([a,Eg({icons:{main:Y,mask:q},prefix:u,iconName:o,transform:f,symbol:m,maskId:p,extra:_,watchable:!0})])}).catch(w)})},t.generateAbstractIcon=function(a){var i=a.children,o=a.attributes,u=a.main,f=a.transform,m=a.styles,g=Vf(m);g.length>0&&(o.style=g);var p;return vg(f)&&(p=Mi("generateAbstractTransformGrouping",{main:u,transform:f,containerWidth:u.width,iconWidth:u.width})),i.push(p||u.icon),{children:i,attributes:o}}}},dx={mixout:function(){return{layer:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.classes,u=o===void 0?[]:o;return zf({type:"layer"},function(){Cs("beforeDOMElementCreation",{assembler:a,params:i});var f=[];return a(function(m){Array.isArray(m)?m.map(function(g){f=f.concat(g.abstract)}):f=f.concat(m.abstract)}),[{tag:"span",attributes:{class:["".concat(wt.cssPrefix,"-layers")].concat(Va(u)).join(" ")},children:f}]})}}}},mx={mixout:function(){return{counter:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.title;var o=i.classes,u=o===void 0?[]:o,f=i.attributes,m=f===void 0?{}:f,g=i.styles,p=g===void 0?{}:g;return zf({type:"counter",content:a},function(){return Cs("beforeDOMElementCreation",{content:a,params:i}),YC({content:a.toString(),extra:{attributes:m,styles:p,classes:["".concat(wt.cssPrefix,"-layers-counter")].concat(Va(u))}})})}}}},gx={mixout:function(){return{text:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.transform,u=o===void 0?sr:o,f=i.classes,m=f===void 0?[]:f,g=i.attributes,p=g===void 0?{}:g,_=i.styles,E=_===void 0?{}:_;return zf({type:"text",content:a},function(){return Cs("beforeDOMElementCreation",{content:a,params:i}),c1({content:a,transform:it(it({},sr),u),extra:{attributes:p,styles:E,classes:["".concat(wt.cssPrefix,"-layers-text")].concat(Va(m))}})})}}},provides:function(t){t.generateLayersText=function(a,i){var o=i.transform,u=i.extra,f=null,m=null;if(e_){var g=parseInt(getComputedStyle(a).fontSize,10),p=a.getBoundingClientRect();f=p.width/g,m=p.height/g}return Promise.resolve([a,c1({content:a.innerHTML,width:f,height:m,transform:o,extra:u,watchable:!0})])}}},Z_=new RegExp('"',"ug"),y1=[1105920,1112319],v1=it(it(it(it({},{FontAwesome:{normal:"fas",400:"fas"}}),ZA),nC),sw),Bm=Object.keys(v1).reduce(function(r,t){return r[t.toLowerCase()]=v1[t],r},{}),px=Object.keys(Bm).reduce(function(r,t){var a=Bm[t];return r[t]=a[900]||Va(Object.entries(a))[0][1],r},{});function yx(r){var t=r.replace(Z_,"");return V_(Va(t)[0]||"")}function vx(r){var t=r.getPropertyValue("font-feature-settings").includes("ss01"),a=r.getPropertyValue("content"),i=a.replace(Z_,""),o=i.codePointAt(0),u=o>=y1[0]&&o<=y1[1],f=i.length===2?i[0]===i[1]:!1;return u||f||t}function bx(r,t){var a=r.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(t),o=isNaN(i)?"normal":i;return(Bm[a]||{})[o]||px[a]}function b1(r,t){var a="".concat(aC).concat(t.replace(":","-"));return new Promise(function(i,o){if(r.getAttribute(a)!==null)return i();var u=qo(r.children),f=u.filter(function(It){return It.getAttribute(Im)===t})[0],m=ki.getComputedStyle(r,t),g=m.getPropertyValue("font-family"),p=g.match(lC),_=m.getPropertyValue("font-weight"),E=m.getPropertyValue("content");if(f&&!p)return r.removeChild(f),i();if(p&&E!=="none"&&E!==""){var w=m.getPropertyValue("content"),D=bx(g,_),P=yx(w),Y=p[0].startsWith("FontAwesome"),q=vx(m),lt=_g(D,P),at=lt;if(Y){var rt=RC(P);rt.iconName&&rt.prefix&&(lt=rt.iconName,D=rt.prefix)}if(lt&&!q&&(!f||f.getAttribute(mg)!==D||f.getAttribute(gg)!==at)){r.setAttribute(a,at),f&&r.removeChild(f);var yt=sx(),st=yt.extra;st.attributes[Im]=t,zm(lt,D).then(function(It){var N=Eg(it(it({},yt),{},{icons:{main:It,mask:H_()},prefix:D,iconName:at,extra:st,watchable:!0})),C=Te.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?r.insertBefore(C,r.firstChild):r.appendChild(C),C.outerHTML=N.map(function(I){return Su(I)}).join(`
`),r.removeAttribute(a),i()}).catch(o)}else i()}else i()})}function _x(r){return Promise.all([b1(r,"::before"),b1(r,"::after")])}function Ex(r){return r.parentNode!==document.head&&!~iC.indexOf(r.tagName.toUpperCase())&&!r.getAttribute(Im)&&(!r.parentNode||r.parentNode.tagName!=="svg")}var Tx=function(t){return!!t&&C_.some(function(a){return t.includes(a)})},Sx=function(t){if(!t)return[];var a=new Set,i=t.split(/,(?![^()]*\))/).map(function(g){return g.trim()});i=i.flatMap(function(g){return g.includes("(")?g:g.split(",").map(function(p){return p.trim()})});var o=of(i),u;try{for(o.s();!(u=o.n()).done;){var f=u.value;if(Tx(f)){var m=C_.reduce(function(g,p){return g.replace(p,"")},f);m!==""&&m!=="*"&&a.add(m)}}}catch(g){o.e(g)}finally{o.f()}return a};function _1(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Gr){var a;if(t)a=r;else if(wt.searchPseudoElementsFullScan)a=r.querySelectorAll("*");else{var i=new Set,o=of(document.styleSheets),u;try{for(o.s();!(u=o.n()).done;){var f=u.value;try{var m=of(f.cssRules),g;try{for(m.s();!(g=m.n()).done;){var p=g.value,_=Sx(p.selectorText),E=of(_),w;try{for(E.s();!(w=E.n()).done;){var D=w.value;i.add(D)}}catch(Y){E.e(Y)}finally{E.f()}}}catch(Y){m.e(Y)}finally{m.f()}}catch(Y){wt.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(f.href," (").concat(Y.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(Y){o.e(Y)}finally{o.f()}if(!i.size)return;var P=Array.from(i).join(", ");try{a=r.querySelectorAll(P)}catch{}}return new Promise(function(Y,q){var lt=qo(a).filter(Ex).map(_x),at=Tg.begin("searchPseudoElements");$_(),Promise.all(lt).then(function(){at(),Pm(),Y()}).catch(function(){at(),Pm(),q()})})}}var Ax={hooks:function(){return{mutationObserverCallbacks:function(a){return a.pseudoElementsCallback=_1,a}}},provides:function(t){t.pseudoElements2svg=function(a){var i=a.node,o=i===void 0?Te:i;wt.searchPseudoElements&&_1(o)}}},E1=!1,wx={mixout:function(){return{dom:{unwatch:function(){$_(),E1=!0}}}},hooks:function(){return{bootstrap:function(){m1(Vm("mutationObserverCallbacks",{}))},noAuto:function(){nx()},watch:function(a){var i=a.observeMutationsRoot;E1?Pm():m1(Vm("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},T1=function(t){var a={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(i,o){var u=o.toLowerCase().split("-"),f=u[0],m=u.slice(1).join("-");if(f&&m==="h")return i.flipX=!0,i;if(f&&m==="v")return i.flipY=!0,i;if(m=parseFloat(m),isNaN(m))return i;switch(f){case"grow":i.size=i.size+m;break;case"shrink":i.size=i.size-m;break;case"left":i.x=i.x-m;break;case"right":i.x=i.x+m;break;case"up":i.y=i.y-m;break;case"down":i.y=i.y+m;break;case"rotate":i.rotate=i.rotate+m;break}return i},a)},Cx={mixout:function(){return{parse:{transform:function(a){return T1(a)}}}},hooks:function(){return{parseNodeAttributes:function(a,i){var o=i.getAttribute("data-fa-transform");return o&&(a.transform=T1(o)),a}}},provides:function(t){t.generateAbstractTransformGrouping=function(a){var i=a.main,o=a.transform,u=a.containerWidth,f=a.iconWidth,m={transform:"translate(".concat(u/2," 256)")},g="translate(".concat(o.x*32,", ").concat(o.y*32,") "),p="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),_="rotate(".concat(o.rotate," 0 0)"),E={transform:"".concat(g," ").concat(p," ").concat(_)},w={transform:"translate(".concat(f/2*-1," -256)")},D={outer:m,inner:E,path:w};return{tag:"g",attributes:it({},D.outer),children:[{tag:"g",attributes:it({},D.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:it(it({},i.icon.attributes),D.path)}]}]}}}},dm={x:0,y:0,width:"100%",height:"100%"};function S1(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.attributes&&(r.attributes.fill||t)&&(r.attributes.fill="black"),r}function xx(r){return r.tag==="g"?r.children:[r]}var Nx={hooks:function(){return{parseNodeAttributes:function(a,i){var o=i.getAttribute("data-fa-mask"),u=o?Lf(o.split(" ").map(function(f){return f.trim()})):H_();return u.prefix||(u.prefix=Oi()),a.mask=u,a.maskId=i.getAttribute("data-fa-mask-id"),a}}},provides:function(t){t.generateAbstractMask=function(a){var i=a.children,o=a.attributes,u=a.main,f=a.mask,m=a.maskId,g=a.transform,p=u.width,_=u.icon,E=f.width,w=f.icon,D=bC({transform:g,containerWidth:E,iconWidth:p}),P={tag:"rect",attributes:it(it({},dm),{},{fill:"white"})},Y=_.children?{children:_.children.map(S1)}:{},q={tag:"g",attributes:it({},D.inner),children:[S1(it({tag:_.tag,attributes:it(it({},_.attributes),D.path)},Y))]},lt={tag:"g",attributes:it({},D.outer),children:[q]},at="mask-".concat(m||a1()),rt="clip-".concat(m||a1()),yt={tag:"mask",attributes:it(it({},dm),{},{id:at,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[P,lt]},st={tag:"defs",children:[{tag:"clipPath",attributes:{id:rt},children:xx(w)},yt]};return i.push(st,{tag:"rect",attributes:it({fill:"currentColor","clip-path":"url(#".concat(rt,")"),mask:"url(#".concat(at,")")},dm)}),{children:i,attributes:o}}}},Rx={provides:function(t){var a=!1;ki.matchMedia&&(a=ki.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],o={fill:"currentColor"},u={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:it(it({},o),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var f=it(it({},u),{},{attributeName:"opacity"}),m={tag:"circle",attributes:it(it({},o),{},{cx:"256",cy:"364",r:"28"}),children:[]};return a||m.children.push({tag:"animate",attributes:it(it({},u),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:it(it({},f),{},{values:"1;0;1;1;0;1;"})}),i.push(m),i.push({tag:"path",attributes:it(it({},o),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:a?[]:[{tag:"animate",attributes:it(it({},f),{},{values:"1;0;0;0;0;1;"})}]}),a||i.push({tag:"path",attributes:it(it({},o),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:it(it({},f),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},Ix={hooks:function(){return{parseNodeAttributes:function(a,i){var o=i.getAttribute("data-fa-symbol"),u=o===null?!1:o===""?!0:o;return a.symbol=u,a}}}},Dx=[TC,hx,dx,mx,gx,Ax,wx,Cx,Nx,Rx,Ix];zC(Dx,{mixoutsTo:Wn});Wn.noAuto;var cu=Wn.config;Wn.library;Wn.dom;var J_=Wn.parse;Wn.findIconDefinition;Wn.toHtml;var kx=Wn.icon;Wn.layer;Wn.text;Wn.counter;function Ox(r){return r=r-0,r===r}function W_(r){return Ox(r)?r:(r=r.replace(/[_-]+(.)?/g,(t,a)=>a?a.toUpperCase():""),r.charAt(0).toLowerCase()+r.slice(1))}function Mx(r){return r.charAt(0).toUpperCase()+r.slice(1)}var wo=new Map,Vx=1e3;function jx(r){if(wo.has(r))return wo.get(r);const t={};let a=0;const i=r.length;for(;a<i;){const o=r.indexOf(";",a),u=o===-1?i:o,f=r.slice(a,u).trim();if(f){const m=f.indexOf(":");if(m>0){const g=f.slice(0,m).trim(),p=f.slice(m+1).trim();if(g&&p){const _=W_(g);t[_.startsWith("webkit")?Mx(_):_]=p}}}a=u+1}if(wo.size===Vx){const o=wo.keys().next().value;o&&wo.delete(o)}return wo.set(r,t),t}function tE(r,t,a={}){if(typeof t=="string")return t;const i=(t.children||[]).map(_=>tE(r,_)),o=t.attributes||{},u={};for(const[_,E]of Object.entries(o))switch(!0){case _==="class":{u.className=E;break}case _==="style":{u.style=jx(String(E));break}case _.startsWith("aria-"):case _.startsWith("data-"):{u[_.toLowerCase()]=E;break}default:u[W_(_)]=E}const{style:f,role:m,"aria-label":g,...p}=a;return f&&(u.style=u.style?{...u.style,...f}:f),m&&(u.role=m),g&&(u["aria-label"]=g,u["aria-hidden"]="false"),r(t.tag,{...p,...u},...i)}var Lx=tE.bind(null,Xb.createElement),A1=(r,t)=>{const a=mt.useId();return r||(t?a:void 0)},zx=class{constructor(t="react-fontawesome"){this.enabled=!1;let a=!1;try{a=typeof process<"u"&&!1}catch{}this.scope=t,this.enabled=a}log(...t){this.enabled&&console.log(`[${this.scope}]`,...t)}warn(...t){this.enabled&&console.warn(`[${this.scope}]`,...t)}error(...t){this.enabled&&console.error(`[${this.scope}]`,...t)}},Ux="searchPseudoElementsFullScan"in cu?"7.0.0":"6.0.0",Px=Number.parseInt(Ux)>=7,au="fa",Or={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},Bx={left:"fa-pull-left",right:"fa-pull-right"},Fx={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},qx={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},Mr={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function Hx(r){const t=cu.cssPrefix||cu.familyPrefix||au;return t===au?r:r.replace(new RegExp(String.raw`(?<=^|\s)${au}-`,"g"),`${t}-`)}function Gx(r){const{beat:t,fade:a,beatFade:i,bounce:o,shake:u,spin:f,spinPulse:m,spinReverse:g,pulse:p,fixedWidth:_,inverse:E,border:w,flip:D,size:P,rotation:Y,pull:q,swapOpacity:lt,rotateBy:at,widthAuto:rt,className:yt}=r,st=[];return yt&&st.push(...yt.split(" ")),t&&st.push(Or.beat),a&&st.push(Or.fade),i&&st.push(Or.beatFade),o&&st.push(Or.bounce),u&&st.push(Or.shake),f&&st.push(Or.spin),g&&st.push(Or.spinReverse),m&&st.push(Or.spinPulse),p&&st.push(Or.pulse),_&&st.push(Mr.fixedWidth),E&&st.push(Mr.inverse),w&&st.push(Mr.border),D===!0&&st.push(Mr.flip),(D==="horizontal"||D==="both")&&st.push(Mr.flipHorizontal),(D==="vertical"||D==="both")&&st.push(Mr.flipVertical),P!=null&&st.push(qx[P]),Y!=null&&Y!==0&&st.push(Fx[Y]),q!=null&&st.push(Bx[q]),lt&&st.push(Mr.swapOpacity),Px?(at&&st.push(Mr.rotateBy),rt&&st.push(Mr.widthAuto),(cu.cssPrefix||cu.familyPrefix||au)===au?st:st.map(Hx)):st}var Yx=r=>typeof r=="object"&&"icon"in r&&!!r.icon;function w1(r){if(r)return Yx(r)?r:J_.icon(r)}function Kx(r){return Object.keys(r)}var C1=new zx("FontAwesomeIcon"),eE={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},Qx=new Set(Object.keys(eE)),ce=Xb.forwardRef((r,t)=>{const a={...eE,...r},{icon:i,mask:o,symbol:u,title:f,titleId:m,maskId:g,transform:p}=a,_=A1(g,!!o),E=A1(m,!!f),w=w1(i);if(!w)return C1.error("Icon lookup is undefined",i),null;const D=Gx(a),P=typeof p=="string"?J_.transform(p):p,Y=w1(o),q=kx(w,{...D.length>0&&{classes:D},...P&&{transform:P},...Y&&{mask:Y},symbol:u,title:f,titleId:E,maskId:_});if(!q)return C1.error("Could not find icon",w),null;const{abstract:lt}=q,at={ref:t};for(const rt of Kx(a))Qx.has(rt)||(at[rt]=a[rt]);return Lx(lt[0],at)});ce.displayName="FontAwesomeIcon";var $x={prefix:"fas",iconName:"chevron-up",icon:[448,512,[],"f077","M201.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 173.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},Xx={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Zx={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Jx={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M320 16a104 104 0 1 1 0 208 104 104 0 1 1 0-208zM96 88a72 72 0 1 1 0 144 72 72 0 1 1 0-144zM0 416c0-70.7 57.3-128 128-128 12.8 0 25.2 1.9 36.9 5.4-32.9 36.8-52.9 85.4-52.9 138.6l0 16c0 11.4 2.4 22.2 6.7 32L32 480c-17.7 0-32-14.3-32-32l0-32zm521.3 64c4.3-9.8 6.7-20.6 6.7-32l0-16c0-53.2-20-101.8-52.9-138.6 11.7-3.5 24.1-5.4 36.9-5.4 70.7 0 128 57.3 128 128l0 32c0 17.7-14.3 32-32 32l-86.7 0zM472 160a72 72 0 1 1 144 0 72 72 0 1 1 -144 0zM160 432c0-88.4 71.6-160 160-160s160 71.6 160 160l0 16c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-16z"]},Wx={prefix:"fas",iconName:"clipboard",icon:[384,512,[128203],"f328","M320 32l-8.6 0C300.4 12.9 279.7 0 256 0L128 0C104.3 0 83.6 12.9 72.6 32L64 32C28.7 32 0 60.7 0 96L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-352c0-35.3-28.7-64-64-64zM136 112c-13.3 0-24-10.7-24-24s10.7-24 24-24l112 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-112 0z"]},t4={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z"]},e4={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM120 256c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"]},n4={prefix:"fas",iconName:"moon",icon:[512,512,[127769,9214],"f186","M256 0C114.6 0 0 114.6 0 256S114.6 512 256 512c68.8 0 131.3-27.2 177.3-71.4 7.3-7 9.4-17.9 5.3-27.1s-13.7-14.9-23.8-14.1c-4.9 .4-9.8 .6-14.8 .6-101.6 0-184-82.4-184-184 0-72.1 41.5-134.6 102.1-164.8 9.1-4.5 14.3-14.3 13.1-24.4S322.6 8.5 312.7 6.3C294.4 2.2 275.4 0 256 0z"]},a4={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},r4={prefix:"fas",iconName:"arrow-right-arrow-left",icon:[512,512,[8644,"exchange"],"f0ec","M502.6 150.6l-96 96c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L402.7 160 32 160c-17.7 0-32-14.3-32-32S14.3 96 32 96l370.7 0-41.4-41.4c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l96 96c12.5 12.5 12.5 32.8 0 45.3zm-397.3 352l-96-96c-12.5-12.5-12.5-32.8 0-45.3l96-96c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L109.3 352 480 352c17.7 0 32 14.3 32 32s-14.3 32-32 32l-370.7 0 41.4 41.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0z"]},i4={prefix:"fas",iconName:"arrow-left",icon:[512,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},s4={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32z"]},o4={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M133.8 36.3c10.9 7.6 13.5 22.6 5.9 33.4l-56 80c-4.1 5.8-10.5 9.5-17.6 10.1S52 158 47 153L7 113C-2.3 103.6-2.3 88.4 7 79S31.6 69.7 41 79l19.8 19.8 39.6-56.6c7.6-10.9 22.6-13.5 33.4-5.9zm0 160c10.9 7.6 13.5 22.6 5.9 33.4l-56 80c-4.1 5.8-10.5 9.5-17.6 10.1S52 318 47 313L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l19.8 19.8 39.6-56.6c7.6-10.9 22.6-13.5 33.4-5.9zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM64 376a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"]},l4={prefix:"fas",iconName:"book-open",icon:[512,512,[128214,128366],"f518","M256 141.3l0 309.3 .5-.2C311.1 427.7 369.7 416 428.8 416l19.2 0 0-320-19.2 0c-42.2 0-84.1 8.4-123.1 24.6-16.8 7-33.4 13.9-49.7 20.7zM230.9 61.5L256 72 281.1 61.5C327.9 42 378.1 32 428.8 32L464 32c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-35.2 0c-50.7 0-100.9 10-147.7 29.5l-12.8 5.3c-7.9 3.3-16.7 3.3-24.6 0l-12.8-5.3C184.1 490 133.9 480 83.2 480L48 480c-26.5 0-48-21.5-48-48L0 80C0 53.5 21.5 32 48 32l35.2 0c50.7 0 100.9 10 147.7 29.5z"]};var u4={prefix:"far",iconName:"sun",icon:[576,512,[9728],"f185","M200.6-7.9c-6.7-4.4-15.1-5.2-22.5-2.2S165.4-.5 163.9 7.3L143 110.6 39.7 131.4c-7.8 1.6-14.4 7-17.4 14.3s-2.2 15.8 2.2 22.5L82.7 256 24.5 343.8c-4.4 6.7-5.2 15.1-2.2 22.5s9.6 12.8 17.4 14.3L143 401.4 163.9 504.7c1.6 7.8 7 14.4 14.3 17.4s15.8 2.2 22.5-2.2l87.8-58.2 87.8 58.2c6.7 4.4 15.1 5.2 22.5 2.2s12.8-9.6 14.3-17.4l20.9-103.2 103.2-20.9c7.8-1.6 14.4-7 17.4-14.3s2.2-15.8-2.2-22.5l-58.2-87.8 58.2-87.8c4.4-6.7 5.2-15.1 2.2-22.5s-9.6-12.8-17.4-14.3L433.8 110.6 413 7.3C411.4-.5 406-7 398.6-10.1s-15.8-2.2-22.5 2.2L288.4 50.3 200.6-7.9zM186.9 135.7l17-83.9 71.3 47.3c8 5.3 18.5 5.3 26.5 0l71.3-47.3 17 83.9c1.9 9.5 9.3 16.8 18.8 18.8l83.9 17-47.3 71.3c-5.3 8-5.3 18.5 0 26.5l47.3 71.3-83.9 17c-9.5 1.9-16.9 9.3-18.8 18.8l-17 83.9-71.3-47.3c-8-5.3-18.5-5.3-26.5 0l-71.3 47.3-17-83.9c-1.9-9.5-9.3-16.9-18.8-18.8l-83.9-17 47.3-71.3c5.3-8 5.3-18.5 0-26.5l-47.3-71.3 83.9-17c9.5-1.9 16.8-9.3 18.8-18.8zM239.6 256a48.4 48.4 0 1 1 96.8 0 48.4 48.4 0 1 1 -96.8 0zm144.8 0a96.4 96.4 0 1 0 -192.8 0 96.4 96.4 0 1 0 192.8 0z"]};const ee={tasks:o4,caregiver:t4,handoff:r4,time:Zx,notebook:Wx,brand:l4,back:i4,listItem:s4,quickNote:Xx,careNotes:e4,moon:n4,sun:u4,chevronDown:a4,chevronUp:$x,careTeam:Jx},x1="care-app-theme";function c4(){const[r,t]=mt.useState(()=>{const i=localStorage.getItem(x1);let o;return i==="light"||i==="dark"?o=i:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?o="dark":o="light",document.documentElement.setAttribute("data-theme",o),o});return mt.useEffect(()=>{document.documentElement.setAttribute("data-theme",r),localStorage.setItem(x1,r)},[r]),{theme:r,toggleTheme:()=>{t(i=>i==="light"?"dark":"light")}}}function f4({children:r,onNavigateHome:t,onNavigateCareTeam:a,onNavigateBack:i,currentView:o}){const u=o==="home",f=o==="today",m=o==="careTeam",g=o==="about"||o==="howItWorks"||o==="privacy",{theme:p,toggleTheme:_}=c4(),E=()=>{m&&i?i():t()};return T.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-primary)"},children:[T.jsx("header",{className:"border-b",style:{borderColor:"var(--border-color)"},role:"banner",children:T.jsxs("nav",{className:"px-6 py-4 max-w-2xl mx-auto flex items-center justify-between","aria-label":"Main navigation",children:[T.jsx("div",{className:"flex-1",children:u?T.jsxs("div",{className:"text-base inline-flex items-center",style:{color:"var(--text-secondary)"},children:[T.jsx(ce,{icon:ee.brand,className:"mr-2 opacity-55",style:{fontSize:"0.8em"},"aria-hidden":"true"}),T.jsx("span",{children:"Care Notebook"})]}):T.jsxs("button",{type:"button",onClick:E,className:"text-base focus:outline-none focus:ring-2 rounded px-2 py-1 transition-all cursor-pointer inline-flex items-center hover:-translate-x-0.5 hover:opacity-80",style:{color:"var(--text-secondary)","--tw-ring-color":"var(--focus-ring)"},"aria-label":m?"Navigate back to Today":"Navigate to home page",children:[T.jsx(ce,{icon:ee.back,className:"mr-2 opacity-60",style:{fontSize:"0.85em"},"aria-hidden":"true"}),T.jsx("span",{children:"Care Notebook"})]})}),T.jsxs("div",{className:"flex items-center gap-2",children:[f&&a&&T.jsxs("button",{type:"button",onClick:a,className:"px-3 py-2 rounded-md focus:outline-none focus:ring-2 transition-colors cursor-pointer inline-flex items-center gap-2 hover:opacity-80",style:{color:"var(--text-secondary)","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Care Team",title:"Care Team",children:[T.jsx(ce,{icon:ee.careTeam,style:{fontSize:"1em"},"aria-hidden":"true"}),T.jsx("span",{className:"text-sm hidden sm:inline",children:"Care Team"})]}),T.jsx("button",{type:"button",onClick:_,className:"p-2 rounded-md focus:outline-none focus:ring-2 transition-colors cursor-pointer hover:opacity-80",style:{color:"var(--text-secondary)","--tw-ring-color":"var(--focus-ring)"},"aria-label":p==="light"?"Switch to dark mode":"Switch to light mode",title:p==="light"?"Switch to dark mode":"Switch to light mode","aria-pressed":p==="dark",children:T.jsx(ce,{icon:p==="light"?ee.moon:ee.sun,style:{fontSize:"1em",color:"var(--text-secondary)"},"aria-hidden":"true"})})]})]})}),T.jsx("main",{role:"main",children:r})]})}function Zt(){return new Date().toISOString().split("T")[0]}function jn(r){const t=r.getHours(),a=r.getMinutes(),i=t>=12?"PM":"AM",o=t%12||12,u=a.toString().padStart(2,"0");return`${o}:${u} ${i}`}function nE(r,t){return{time:jn(new Date),note:r.trim(),author:t}}function h4(r,t){return`${r} handed off care to ${t}.`}function aE(r,t){return{time:jn(new Date),note:h4(r,t),author:"System"}}function d4(r,t){return r.author==="System"?!1:r.author===t}function m4(r,t){return r.author==="System"?!1:r.author===t}function rE(r,t){return{...r,note:t.trim(),editedAt:new Date().toISOString()}}function g4(){return`temp-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function Ag(r,t){const a=t.trim();if(!a||r.some(u=>u.name.toLowerCase()===a.toLowerCase()))return r;const o=r.length===0;return[...r,{id:g4(),name:a,isPrimary:o,isActive:!0}]}function wg(r,t){const a=t.trim();if(!a)return{caretakers:r,canSetPrimary:!1,reason:"Invalid name"};const i=r.findIndex(f=>f.name.toLowerCase()===a.toLowerCase());if(i===-1)return{caretakers:r,canSetPrimary:!1,reason:"Caretaker not found"};const o=r[i];return o.isActive?o.isPrimary?{caretakers:r,canSetPrimary:!0}:{caretakers:r.map(f=>({...f,isPrimary:f.name.toLowerCase()===a.toLowerCase()})),canSetPrimary:!0}:{caretakers:r,canSetPrimary:!1,reason:"Cannot set inactive caretaker as primary"}}function Cg(r,t,a){const i=t.trim();if(!i)return{caretakers:r,canArchive:!1,reason:"Invalid name"};const o=r.findIndex(m=>m.name.toLowerCase()===i.toLowerCase());if(o===-1)return{caretakers:r,canArchive:!1,reason:"Caretaker not found"};const u=r[o];return u.isPrimary?{caretakers:r,canArchive:!1,reason:"Cannot archive primary contact"}:i.toLowerCase()===a.toLowerCase()?{caretakers:r,canArchive:!1,reason:"Cannot archive current caregiver"}:u.isActive?{caretakers:r.map(m=>m.name.toLowerCase()===i.toLowerCase()?{...m,isActive:!1}:m),canArchive:!0}:{caretakers:r,canArchive:!0}}function xg(r,t){const a=t.trim();if(!a)return{caretakers:r,canRestore:!1,reason:"Invalid name"};const i=r.findIndex(f=>f.name.toLowerCase()===a.toLowerCase());return i===-1?{caretakers:r,canRestore:!1,reason:"Caretaker not found"}:r[i].isActive?{caretakers:r,canRestore:!0}:{caretakers:r.map(f=>f.name.toLowerCase()===a.toLowerCase()?{...f,isActive:!0}:f),canRestore:!0}}function iE(r){return{time:jn(new Date),note:`${r} was added as a caretaker.`,author:"System"}}function sE(r){return{time:jn(new Date),note:`${r} was archived as a caretaker.`,author:"System"}}function oE(r){return{time:jn(new Date),note:`${r} was restored as a caretaker.`,author:"System"}}function lE(r){return{time:jn(new Date),note:`${r} was set as the primary contact.`,author:"System"}}function p4(r,t){return{time:jn(new Date),note:`Care recipient name changed from "${r}" to "${t}".`,author:"System"}}function uE(r,t){return{time:jn(new Date),note:`Caretaker name changed from "${r}" to "${t}".`,author:"System"}}function cE(r,t){const a=t.length>100?t.substring(0,100)+"...":t;return{time:jn(new Date),note:`${r} deleted a note: "${a}"`,author:"System"}}function y4(r,t){return{time:jn(new Date),note:`${r} added a task: "${t}"`,author:"System"}}function v4(r,t){return{time:jn(new Date),note:`${r} completed the task: "${t}"`,author:"System"}}function b4(r,t){return{time:jn(new Date),note:`${r} marked the task as incomplete: "${t}"`,author:"System"}}function _4(r,t,a){return{time:jn(new Date),note:`${r} updated the task from "${t}" to "${a}"`,author:"System"}}function E4(r,t){return{time:jn(new Date),note:`${r} deleted the task: "${t}"`,author:"System"}}const fE="care-app-notebook-index",hE="care-app-last-notebook-id";function Xl(){if(typeof window>"u")return[];try{const r=localStorage.getItem(fE);if(!r)return[];const t=JSON.parse(r);return Array.isArray(t)?t.filter(a=>typeof a=="object"&&a!==null&&typeof a.id=="string"&&a.id.trim().length>0):[]}catch{return[]}}function N1(r){if(!(typeof window>"u"))try{localStorage.setItem(fE,JSON.stringify(r))}catch(t){console.warn("Failed to write notebook index:",t)}}function Ng(r,t){const a=Xl(),i=a.findIndex(o=>o.id===r);if(i>=0){const o=[...a];return o[i]={id:r,name:t},N1(o),o}else{const o=[...a,{id:r,name:t}];return N1(o),o}}function T4(){if(typeof window>"u")return null;try{const r=localStorage.getItem(hE);return r&&r.trim().length>0?r.trim():null}catch{return null}}function Rg(r){if(!(typeof window>"u"))try{localStorage.setItem(hE,r)}catch(t){console.warn("Failed to set last notebook ID:",t)}}const Ci={careNotes:[{time:"8:30 AM",note:"Wela enjoyed breakfast this morning. Had a good appetite and seemed happy.",author:"Lupe"},{time:"11:15 AM",note:"Took a nice walk around the garden together. The sunshine felt good on our faces.",author:"Lupe"},{time:"2:00 PM",note:"Resting comfortably this afternoon. We chatted a bit and Wela seemed peaceful.",author:"Lupe"}],tasks:[{id:"1",text:"Evening medication",completed:!1},{id:"2",text:"Call doctor's office about appointment",completed:!1}],lastUpdatedBy:"Lupe",currentCaregiver:"Lupe"},S4="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ga=(r=21)=>{let t="",a=crypto.getRandomValues(new Uint8Array(r|=0));for(;r--;)t+=S4[a[r]&63];return t};const Uf="care-app-notes-by-date",mm="care-app-last-date",jr="care-app-current-caregiver",Ql="care-app-last-updated-by",dE="care-app-caretakers";function A4(){const r="care-app-care-notes",t=localStorage.getItem(r);if(t)try{const a=JSON.parse(t);if(Array.isArray(a)&&a.length>0){const i=Zt(),o=a.map(f=>({...f,author:f.author||"Lupe"})),u={[i]:o};return localStorage.setItem(Uf,JSON.stringify(u)),localStorage.removeItem(r),u}}catch{}return{}}function Oa(){const r=localStorage.getItem(Uf);if(r)try{const t=JSON.parse(r),a={};for(const[i,o]of Object.entries(t))a[i]=o.map(u=>({...u,author:u.author||"Lupe"}));return a}catch{return{}}return A4()}function R1(r){const t=Zt(),a=localStorage.getItem(mm);return a&&a!==t&&r[a]?(localStorage.setItem(mm,t),r):((!a||a!==t)&&localStorage.setItem(mm,t),r)}function ar(r){localStorage.setItem(Uf,JSON.stringify(r))}function bs(){const r=localStorage.getItem(dE);if(r)try{const i=JSON.parse(r);if(Array.isArray(i))if(i.length>0&&typeof i[0]=="string"){const o=i.map((u,f)=>({id:ga(),name:u,isPrimary:f===0,isActive:!0}));return $n(o),o}else{const o=i;if(!o.some(f=>f.isPrimary)&&o.length>0){const f=o.find(m=>m.isActive);if(f){const m=o.map(g=>({...g,isPrimary:g.name===f.name}));return $n(m),m}}return o}}catch{}const t=localStorage.getItem(jr)||Ci.currentCaregiver,a=[{id:ga(),name:t,isPrimary:!0,isActive:!0}];return t==="Lupe"?a.push({id:ga(),name:"Maria",isPrimary:!1,isActive:!0}):t==="Maria"?a.push({id:ga(),name:"Lupe",isPrimary:!1,isActive:!0}):a.push({id:ga(),name:"Lupe",isPrimary:!1,isActive:!0},{id:ga(),name:"Maria",isPrimary:!1,isActive:!0}),$n(a),a}function $n(r){localStorage.setItem(dE,JSON.stringify(r))}class w4{constructor(t){}async loadToday(){const t=Oa(),a=R1(t),i=Zt(),u=(a[i]||Ci.careNotes).map(D=>({...D,author:D.author||"Lupe"})),f=localStorage.getItem(jr)||Ci.currentCaregiver,m=localStorage.getItem(Ql)||Ci.lastUpdatedBy;let g=bs();const p=g.findIndex(D=>D.name.toLowerCase()===f.toLowerCase());if(p===-1){const D=g.some(P=>P.isPrimary);g=[{id:ga(),name:f,isPrimary:!D,isActive:!0},...g],$n(g)}else g[p].isActive||(g=g.map(P=>P.name.toLowerCase()===f.toLowerCase()?{...P,isActive:!0}:P),$n(g));const _=g.filter(D=>D.isPrimary).length;if(_===0&&g.length>0){const P=g.find(Y=>Y.name.toLowerCase()===f.toLowerCase()&&Y.isActive)||g.find(Y=>Y.isActive);P&&(g=g.map(Y=>({...Y,isPrimary:Y.name===P.name})),$n(g))}else if(_>1){let D=!1;g=g.map(P=>P.isPrimary&&!D?(D=!0,P):{...P,isPrimary:!1}),$n(g)}g.filter(D=>D.isActive).length===0&&g.length>0&&(g=g.map(D=>D.name.toLowerCase()===f.toLowerCase()?{...D,isActive:!0,isPrimary:!0}:D),$n(g));const w=Ci.tasks;return{careNotes:u,tasks:w,currentCaregiver:f,lastUpdatedBy:m}}async addNote(t){const a=Zt(),i=localStorage.getItem(jr)||Ci.currentCaregiver,o=nE(t,i),u=Oa(),f=u[a]||[],m=[o,...f],g={...u,[a]:m};return ar(g),o}async updateNote(t,a){const i=Zt(),o=Oa(),u=o[i]||[];if(t<0||t>=u.length)throw new Error("Invalid note index");const f=rE(u[t],a),m=[...u];m[t]=f;const g={...o,[i]:m};return ar(g),f}async deleteNote(t){const a=Zt(),i=Oa(),o=i[a]||[];if(t<0||t>=o.length)throw new Error("Invalid note index");const u=o[t];let f=[...o];if(u.author!=="System"){const g=cE(u.author,u.note);f.splice(t,1,g)}else f=f.filter((g,p)=>p!==t);const m={...i,[a]:f};ar(m)}async toggleTask(t){}async addTask(t){throw new Error("Tasks are not persisted in localStorage adapter")}async updateTask(t,a){throw new Error("Tasks are not persisted in localStorage adapter")}async deleteTask(t){}async handoff(t){const a=Zt(),i=localStorage.getItem(jr)||Ci.currentCaregiver,o=aE(i,t),u=Oa(),f=u[a]||[],m=[o,...f],g={...u,[a]:m};ar(g),localStorage.setItem(jr,t),localStorage.setItem(Ql,i)}async getNotesByDate(){const t=Oa();return R1(t)}async notebookExists(){const t=localStorage.getItem(Uf);if(t)try{const u=JSON.parse(t);if(u&&typeof u=="object"&&Object.values(u).some(m=>Array.isArray(m)&&m.length>0))return!0}catch{}const a=localStorage.getItem(jr),i=localStorage.getItem(Ql);if(a||i)return!0;const o=localStorage.getItem("care-app-tasks");if(o)try{const u=JSON.parse(o);if(Array.isArray(u)&&u.length>0)return!0}catch{}return!1}async addCaretaker(t){const a=Zt(),i=bs(),o=Ag(i,t);if(o.length===i.length)return;$n(o);const u=iE(t),f=Oa(),m=f[a]||[],g=[u,...m],p={...f,[a]:g};ar(p)}async archiveCaretaker(t){const a=Zt(),i=localStorage.getItem(jr)||Ci.currentCaregiver,o=bs(),{caretakers:u,canArchive:f,reason:m}=Cg(o,t,i);if(!f)throw new Error(m||"Cannot archive this caretaker");$n(u);const g=sE(t),p=Oa(),_=p[a]||[],E=[g,..._],w={...p,[a]:E};ar(w)}async restoreCaretaker(t){const a=Zt(),i=bs(),{caretakers:o,canRestore:u,reason:f}=xg(i,t);if(!u)throw new Error(f||"Cannot restore this caretaker");$n(o);const m=oE(t),g=Oa(),p=g[a]||[],_=[m,...p],E={...g,[a]:_};ar(E)}async setPrimaryCaretaker(t){const a=Zt(),i=bs(),{caretakers:o,canSetPrimary:u,reason:f}=wg(i,t);if(!u)throw new Error(f||"Cannot set this caretaker as primary");$n(o);const m=lE(t),g=Oa(),p=g[a]||[],_=[m,...p],E={...g,[a]:_};ar(E)}async getCaretakers(){return bs()}async updateCaretakerName(t,a){const i=Zt(),o=t.trim(),u=a.trim();if(!o||!u)throw new Error("Invalid name");if(o.toLowerCase()===u.toLowerCase())return;const f=bs();if(f.some(at=>at.name.toLowerCase()===u.toLowerCase()))throw new Error("A caretaker with this name already exists");const m=f.findIndex(at=>at.name.toLowerCase()===o.toLowerCase());if(m===-1)throw new Error("Caretaker not found");const g=f.map((at,rt)=>rt===m?{...at,name:u}:at);$n(g),localStorage.getItem(jr)===o&&localStorage.setItem(jr,u),localStorage.getItem(Ql)===o&&localStorage.setItem(Ql,u);const E=Oa();let w=!1;const D={};for(const[at,rt]of Object.entries(E)){const yt=rt.map(st=>st.author===o?(w=!0,{...st,author:u}):st);D[at]=yt}w&&ar(D);const P=uE(o,u),Y=D[i]||E[i]||[],q=[P,...Y],lt={...D,[i]:q};ar(lt)}}const C4=()=>{};var I1={};const mE=function(r){const t=[];let a=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?t[a++]=o:o<2048?(t[a++]=o>>6|192,t[a++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),t[a++]=o>>18|240,t[a++]=o>>12&63|128,t[a++]=o>>6&63|128,t[a++]=o&63|128):(t[a++]=o>>12|224,t[a++]=o>>6&63|128,t[a++]=o&63|128)}return t},x4=function(r){const t=[];let a=0,i=0;for(;a<r.length;){const o=r[a++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[a++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[a++],f=r[a++],m=r[a++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[i++]=String.fromCharCode(55296+(g>>10)),t[i++]=String.fromCharCode(56320+(g&1023))}else{const u=r[a++],f=r[a++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,_=u>>2,E=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,D=p&63;g||(D=64,f||(w=64)),i.push(a[_],a[E],a[w],a[D])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(mE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):x4(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const u=a[r.charAt(o++)],m=o<r.length?a[r.charAt(o)]:0;++o;const p=o<r.length?a[r.charAt(o)]:64;++o;const E=o<r.length?a[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||E==null)throw new N4;const w=u<<2|m>>4;if(i.push(w),p!==64){const D=m<<4&240|p>>2;if(i.push(D),E!==64){const P=p<<6&192|E;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class N4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R4=function(r){const t=mE(r);return gE.encodeByteArray(t,!0)},bf=function(r){return R4(r).replace(/\./g,"")},I4=function(r){try{return gE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function D4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const k4=()=>D4().__FIREBASE_DEFAULTS__,O4=()=>{if(typeof process>"u"||typeof I1>"u")return;const r=I1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},M4=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&I4(r[1]);return t&&JSON.parse(t)},Ig=()=>{try{return C4()||k4()||O4()||M4()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},V4=r=>Ig()?.emulatorHosts?.[r],j4=r=>{const t=V4(r);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(a+1),10);return t[0]==="["?[t.substring(1,a-1),i]:[t.substring(0,a),i]},pE=()=>Ig()?.config;class L4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,a)=>{this.resolve=t,this.reject=a})}wrapCallback(t){return(a,i)=>{a?this.reject(a):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(a):t(a,i))}}}function Dg(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z4(r){return(await fetch(r,{credentials:"include"})).ok}function U4(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},i=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bf(JSON.stringify(a)),bf(JSON.stringify(f)),""].join(".")}const ru={};function P4(){const r={prod:[],emulator:[]};for(const t of Object.keys(ru))ru[t]?r.emulator.push(t):r.prod.push(t);return r}function B4(r){let t=document.getElementById(r),a=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),a=!0),{created:a,element:t}}let D1=!1;function F4(r,t){if(typeof window>"u"||typeof document>"u"||!Dg(window.location.host)||ru[r]===t||ru[r]||D1)return;ru[r]=t;function a(w){return`__firebase__banner__${w}`}const i="__firebase__banner",u=P4().prod.length>0;function f(){const w=document.getElementById(i);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{D1=!0,f()},w}function _(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=B4(i),D=a("text"),P=document.getElementById(D)||document.createElement("span"),Y=a("learnmore"),q=document.getElementById(Y)||document.createElement("a"),lt=a("preprendIcon"),at=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const rt=w.element;m(rt),_(q,Y);const yt=p();g(at,lt),rt.append(at,P,q,yt),document.body.appendChild(rt)}u?(P.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function q4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H4(){const r=Ig()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G4(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Y4(){return!H4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yE(){try{return typeof indexedDB=="object"}catch{return!1}}function vE(){return new Promise((r,t)=>{try{let a=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(a){t(a)}})}function K4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Q4="FirebaseError";class Fi extends Error{constructor(t,a,i){super(a),this.code=t,this.customData=i,this.name=Q4,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pf.prototype.create)}}class Pf{constructor(t,a,i){this.service=t,this.serviceName=a,this.errors=i}create(t,...a){const i=a[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?$4(u,i):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Fi(o,m,i)}}function $4(r,t){return r.replace(X4,(a,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const X4=/\{\$([^}]+)}/g;function fu(r,t){if(r===t)return!0;const a=Object.keys(r),i=Object.keys(t);for(const o of a){if(!i.includes(o))return!1;const u=r[o],f=t[o];if(k1(u)&&k1(f)){if(!fu(u,f))return!1}else if(u!==f)return!1}for(const o of i)if(!a.includes(o))return!1;return!0}function k1(r){return r!==null&&typeof r=="object"}const Z4=1e3,J4=2,W4=14400*1e3,tN=.5;function O1(r,t=Z4,a=J4){const i=t*Math.pow(a,r),o=Math.round(tN*i*(Math.random()-.5)*2);return Math.min(W4,i+o)}function ja(r){return r&&r._delegate?r._delegate:r}class Pr{constructor(t,a,i){this.name=t,this.instanceFactory=a,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const _s="[DEFAULT]";class eN{constructor(t,a){this.name=t,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const a=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(a)){const i=new L4;if(this.instancesDeferred.set(a,i),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(t){const a=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aN(t))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[a,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(t=_s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...t.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_s){return this.instances.has(t)}getOptions(t=_s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:a={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:a});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&f.resolve(o)}return o}onInit(t,a){const i=this.normalizeInstanceIdentifier(a),o=this.onInitCallbacks.get(i)??new Set;o.add(t),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&t(u,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,a){const i=this.onInitCallbacks.get(a);if(i)for(const o of i)try{o(t,a)}catch{}}getOrInitializeService({instanceIdentifier:t,options:a={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nN(t),options:a}),this.instances.set(t,i),this.instancesOptions.set(t,a),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=_s){return this.component?this.component.multipleInstances?t:_s:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nN(r){return r===_s?void 0:r}function aN(r){return r.instantiationMode==="EAGER"}class rN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const a=this.getProvider(t.name);if(a.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);a.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const a=new eN(t,this);return this.providers.set(t,a),a}getProviders(){return Array.from(this.providers.values())}}var $t;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})($t||($t={}));const iN={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},sN=$t.INFO,oN={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},lN=(r,t,...a)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),o=oN[t];if(o)console[o](`[${i}]  ${r.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class kg{constructor(t){this.name=t,this._logLevel=sN,this._logHandler=lN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const uN=(r,t)=>t.some(a=>r instanceof a);let M1,V1;function cN(){return M1||(M1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fN(){return V1||(V1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,Fm=new WeakMap,_E=new WeakMap,gm=new WeakMap,Og=new WeakMap;function hN(r){const t=new Promise((a,i)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{a(Ni(r.result)),o()},f=()=>{i(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(a=>{a instanceof IDBCursor&&bE.set(a,r)}).catch(()=>{}),Og.set(t,r),t}function dN(r){if(Fm.has(r))return;const t=new Promise((a,i)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{a(),o()},f=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Fm.set(r,t)}let qm={get(r,t,a){if(r instanceof IDBTransaction){if(t==="done")return Fm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||_E.get(r);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Ni(r[t])},set(r,t,a){return r[t]=a,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function mN(r){qm=r(qm)}function gN(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...a){const i=r.call(pm(this),t,...a);return _E.set(i,t.sort?t.sort():[t]),Ni(i)}:fN().includes(r)?function(...t){return r.apply(pm(this),t),Ni(bE.get(this))}:function(...t){return Ni(r.apply(pm(this),t))}}function pN(r){return typeof r=="function"?gN(r):(r instanceof IDBTransaction&&dN(r),uN(r,cN())?new Proxy(r,qm):r)}function Ni(r){if(r instanceof IDBRequest)return hN(r);if(gm.has(r))return gm.get(r);const t=pN(r);return t!==r&&(gm.set(r,t),Og.set(t,r)),t}const pm=r=>Og.get(r);function EE(r,t,{blocked:a,upgrade:i,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Ni(f);return i&&f.addEventListener("upgradeneeded",g=>{i(Ni(f.result),g.oldVersion,g.newVersion,Ni(f.transaction),g)}),a&&f.addEventListener("blocked",g=>a(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const yN=["get","getKey","getAll","getAllKeys","count"],vN=["put","add","delete","clear"],ym=new Map;function j1(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(ym.get(t))return ym.get(t);const a=t.replace(/FromIndex$/,""),i=t!==a,o=vN.includes(a);if(!(a in(i?IDBIndex:IDBObjectStore).prototype)||!(o||yN.includes(a)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return i&&(p=p.index(m.shift())),(await Promise.all([p[a](...m),o&&g.done]))[0]};return ym.set(t,u),u}mN(r=>({...r,get:(t,a,i)=>j1(t,a)||r.get(t,a,i),has:(t,a)=>!!j1(t,a)||r.has(t,a)}));class bN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(_N(a)){const i=a.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(a=>a).join(" ")}}function _N(r){return r.getComponent()?.type==="VERSION"}const Hm="@firebase/app",L1="0.14.6";const Br=new kg("@firebase/app"),EN="@firebase/app-compat",TN="@firebase/analytics-compat",SN="@firebase/analytics",AN="@firebase/app-check-compat",wN="@firebase/app-check",CN="@firebase/auth",xN="@firebase/auth-compat",NN="@firebase/database",RN="@firebase/data-connect",IN="@firebase/database-compat",DN="@firebase/functions",kN="@firebase/functions-compat",ON="@firebase/installations",MN="@firebase/installations-compat",VN="@firebase/messaging",jN="@firebase/messaging-compat",LN="@firebase/performance",zN="@firebase/performance-compat",UN="@firebase/remote-config",PN="@firebase/remote-config-compat",BN="@firebase/storage",FN="@firebase/storage-compat",qN="@firebase/firestore",HN="@firebase/ai",GN="@firebase/firestore-compat",YN="firebase",KN="12.6.0";const Gm="[DEFAULT]",QN={[Hm]:"fire-core",[EN]:"fire-core-compat",[SN]:"fire-analytics",[TN]:"fire-analytics-compat",[wN]:"fire-app-check",[AN]:"fire-app-check-compat",[CN]:"fire-auth",[xN]:"fire-auth-compat",[NN]:"fire-rtdb",[RN]:"fire-data-connect",[IN]:"fire-rtdb-compat",[DN]:"fire-fn",[kN]:"fire-fn-compat",[ON]:"fire-iid",[MN]:"fire-iid-compat",[VN]:"fire-fcm",[jN]:"fire-fcm-compat",[LN]:"fire-perf",[zN]:"fire-perf-compat",[UN]:"fire-rc",[PN]:"fire-rc-compat",[BN]:"fire-gcs",[FN]:"fire-gcs-compat",[qN]:"fire-fst",[GN]:"fire-fst-compat",[HN]:"fire-vertex","fire-js":"fire-js",[YN]:"fire-js-all"};const hu=new Map,$N=new Map,Ym=new Map;function z1(r,t){try{r.container.addComponent(t)}catch(a){Br.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,a)}}function Vi(r){const t=r.name;if(Ym.has(t))return Br.debug(`There were multiple attempts to register component ${t}.`),!1;Ym.set(t,r);for(const a of hu.values())z1(a,r);for(const a of $N.values())z1(a,r);return!0}function Au(r,t){const a=r.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),r.container.getProvider(t)}function XN(r){return r==null?!1:r.settings!==void 0}const ZN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new Pf("app","Firebase",ZN);class JN{constructor(t,a,i){this._isDeleted=!1,this._options={...t},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}const WN=KN;function TE(r,t={}){let a=r;typeof t!="object"&&(t={name:t});const i={name:Gm,automaticDataCollectionEnabled:!0,...t},o=i.name;if(typeof o!="string"||!o)throw Ri.create("bad-app-name",{appName:String(o)});if(a||(a=pE()),!a)throw Ri.create("no-options");const u=hu.get(o);if(u){if(fu(a,u.options)&&fu(i,u.config))return u;throw Ri.create("duplicate-app",{appName:o})}const f=new rN(o);for(const g of Ym.values())f.addComponent(g);const m=new JN(a,i,f);return hu.set(o,m),m}function SE(r=Gm){const t=hu.get(r);if(!t&&r===Gm&&pE())return TE();if(!t)throw Ri.create("no-app",{appName:r});return t}function U1(){return Array.from(hu.values())}function or(r,t,a){let i=QN[r]??r;a&&(i+=`-${a}`);const o=i.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${i}" with version "${t}":`];o&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Br.warn(f.join(" "));return}Vi(new Pr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const t3="firebase-heartbeat-database",e3=1,du="firebase-heartbeat-store";let vm=null;function AE(){return vm||(vm=EE(t3,e3,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(du)}catch(a){console.warn(a)}}}}).catch(r=>{throw Ri.create("idb-open",{originalErrorMessage:r.message})})),vm}async function n3(r){try{const a=(await AE()).transaction(du),i=await a.objectStore(du).get(wE(r));return await a.done,i}catch(t){if(t instanceof Fi)Br.warn(t.message);else{const a=Ri.create("idb-get",{originalErrorMessage:t?.message});Br.warn(a.message)}}}async function P1(r,t){try{const i=(await AE()).transaction(du,"readwrite");await i.objectStore(du).put(t,wE(r)),await i.done}catch(a){if(a instanceof Fi)Br.warn(a.message);else{const i=Ri.create("idb-set",{originalErrorMessage:a?.message});Br.warn(i.message)}}}function wE(r){return`${r.name}!${r.options.appId}`}const a3=1024,r3=30;class i3{constructor(t){this.container=t,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new o3(a),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=B1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>r3){const o=l3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Br.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=B1(),{heartbeatsToSend:a,unsentEntries:i}=s3(this._heartbeatsCache.heartbeats),o=bf(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Br.warn(t),""}}}function B1(){return new Date().toISOString().substring(0,10)}function s3(r,t=a3){const a=[];let i=r.slice();for(const o of r){const u=a.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),F1(a)>t){u.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),F1(a)>t){a.pop();break}i=i.slice(1)}return{heartbeatsToSend:a,unsentEntries:i}}class o3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yE()?vE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await n3(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function F1(r){return bf(JSON.stringify({version:2,heartbeats:r})).length}function l3(r){if(r.length===0)return-1;let t=0,a=r[0].date;for(let i=1;i<r.length;i++)r[i].date<a&&(a=r[i].date,t=i);return t}function u3(r){Vi(new Pr("platform-logger",t=>new bN(t),"PRIVATE")),Vi(new Pr("heartbeat",t=>new i3(t),"PRIVATE")),or(Hm,L1,r),or(Hm,L1,"esm2020"),or("fire-js","")}u3("");var c3="firebase",f3="12.7.0";or(c3,f3,"app");var q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ii,CE;(function(){var r;function t(N,C){function I(){}I.prototype=C.prototype,N.F=C.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,O,L){for(var x=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)x[ie-2]=arguments[ie];return C.prototype[O].apply(V,x)}}function a(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,a),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,C,I){I||(I=0);const V=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)V[O]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=N.g[0],I=N.g[1],O=N.g[2];let L=N.g[3],x;x=C+(L^I&(O^L))+V[0]+3614090360&4294967295,C=I+(x<<7&4294967295|x>>>25),x=L+(O^C&(I^O))+V[1]+3905402710&4294967295,L=C+(x<<12&4294967295|x>>>20),x=O+(I^L&(C^I))+V[2]+606105819&4294967295,O=L+(x<<17&4294967295|x>>>15),x=I+(C^O&(L^C))+V[3]+3250441966&4294967295,I=O+(x<<22&4294967295|x>>>10),x=C+(L^I&(O^L))+V[4]+4118548399&4294967295,C=I+(x<<7&4294967295|x>>>25),x=L+(O^C&(I^O))+V[5]+1200080426&4294967295,L=C+(x<<12&4294967295|x>>>20),x=O+(I^L&(C^I))+V[6]+2821735955&4294967295,O=L+(x<<17&4294967295|x>>>15),x=I+(C^O&(L^C))+V[7]+4249261313&4294967295,I=O+(x<<22&4294967295|x>>>10),x=C+(L^I&(O^L))+V[8]+1770035416&4294967295,C=I+(x<<7&4294967295|x>>>25),x=L+(O^C&(I^O))+V[9]+2336552879&4294967295,L=C+(x<<12&4294967295|x>>>20),x=O+(I^L&(C^I))+V[10]+4294925233&4294967295,O=L+(x<<17&4294967295|x>>>15),x=I+(C^O&(L^C))+V[11]+2304563134&4294967295,I=O+(x<<22&4294967295|x>>>10),x=C+(L^I&(O^L))+V[12]+1804603682&4294967295,C=I+(x<<7&4294967295|x>>>25),x=L+(O^C&(I^O))+V[13]+4254626195&4294967295,L=C+(x<<12&4294967295|x>>>20),x=O+(I^L&(C^I))+V[14]+2792965006&4294967295,O=L+(x<<17&4294967295|x>>>15),x=I+(C^O&(L^C))+V[15]+1236535329&4294967295,I=O+(x<<22&4294967295|x>>>10),x=C+(O^L&(I^O))+V[1]+4129170786&4294967295,C=I+(x<<5&4294967295|x>>>27),x=L+(I^O&(C^I))+V[6]+3225465664&4294967295,L=C+(x<<9&4294967295|x>>>23),x=O+(C^I&(L^C))+V[11]+643717713&4294967295,O=L+(x<<14&4294967295|x>>>18),x=I+(L^C&(O^L))+V[0]+3921069994&4294967295,I=O+(x<<20&4294967295|x>>>12),x=C+(O^L&(I^O))+V[5]+3593408605&4294967295,C=I+(x<<5&4294967295|x>>>27),x=L+(I^O&(C^I))+V[10]+38016083&4294967295,L=C+(x<<9&4294967295|x>>>23),x=O+(C^I&(L^C))+V[15]+3634488961&4294967295,O=L+(x<<14&4294967295|x>>>18),x=I+(L^C&(O^L))+V[4]+3889429448&4294967295,I=O+(x<<20&4294967295|x>>>12),x=C+(O^L&(I^O))+V[9]+568446438&4294967295,C=I+(x<<5&4294967295|x>>>27),x=L+(I^O&(C^I))+V[14]+3275163606&4294967295,L=C+(x<<9&4294967295|x>>>23),x=O+(C^I&(L^C))+V[3]+4107603335&4294967295,O=L+(x<<14&4294967295|x>>>18),x=I+(L^C&(O^L))+V[8]+1163531501&4294967295,I=O+(x<<20&4294967295|x>>>12),x=C+(O^L&(I^O))+V[13]+2850285829&4294967295,C=I+(x<<5&4294967295|x>>>27),x=L+(I^O&(C^I))+V[2]+4243563512&4294967295,L=C+(x<<9&4294967295|x>>>23),x=O+(C^I&(L^C))+V[7]+1735328473&4294967295,O=L+(x<<14&4294967295|x>>>18),x=I+(L^C&(O^L))+V[12]+2368359562&4294967295,I=O+(x<<20&4294967295|x>>>12),x=C+(I^O^L)+V[5]+4294588738&4294967295,C=I+(x<<4&4294967295|x>>>28),x=L+(C^I^O)+V[8]+2272392833&4294967295,L=C+(x<<11&4294967295|x>>>21),x=O+(L^C^I)+V[11]+1839030562&4294967295,O=L+(x<<16&4294967295|x>>>16),x=I+(O^L^C)+V[14]+4259657740&4294967295,I=O+(x<<23&4294967295|x>>>9),x=C+(I^O^L)+V[1]+2763975236&4294967295,C=I+(x<<4&4294967295|x>>>28),x=L+(C^I^O)+V[4]+1272893353&4294967295,L=C+(x<<11&4294967295|x>>>21),x=O+(L^C^I)+V[7]+4139469664&4294967295,O=L+(x<<16&4294967295|x>>>16),x=I+(O^L^C)+V[10]+3200236656&4294967295,I=O+(x<<23&4294967295|x>>>9),x=C+(I^O^L)+V[13]+681279174&4294967295,C=I+(x<<4&4294967295|x>>>28),x=L+(C^I^O)+V[0]+3936430074&4294967295,L=C+(x<<11&4294967295|x>>>21),x=O+(L^C^I)+V[3]+3572445317&4294967295,O=L+(x<<16&4294967295|x>>>16),x=I+(O^L^C)+V[6]+76029189&4294967295,I=O+(x<<23&4294967295|x>>>9),x=C+(I^O^L)+V[9]+3654602809&4294967295,C=I+(x<<4&4294967295|x>>>28),x=L+(C^I^O)+V[12]+3873151461&4294967295,L=C+(x<<11&4294967295|x>>>21),x=O+(L^C^I)+V[15]+530742520&4294967295,O=L+(x<<16&4294967295|x>>>16),x=I+(O^L^C)+V[2]+3299628645&4294967295,I=O+(x<<23&4294967295|x>>>9),x=C+(O^(I|~L))+V[0]+4096336452&4294967295,C=I+(x<<6&4294967295|x>>>26),x=L+(I^(C|~O))+V[7]+1126891415&4294967295,L=C+(x<<10&4294967295|x>>>22),x=O+(C^(L|~I))+V[14]+2878612391&4294967295,O=L+(x<<15&4294967295|x>>>17),x=I+(L^(O|~C))+V[5]+4237533241&4294967295,I=O+(x<<21&4294967295|x>>>11),x=C+(O^(I|~L))+V[12]+1700485571&4294967295,C=I+(x<<6&4294967295|x>>>26),x=L+(I^(C|~O))+V[3]+2399980690&4294967295,L=C+(x<<10&4294967295|x>>>22),x=O+(C^(L|~I))+V[10]+4293915773&4294967295,O=L+(x<<15&4294967295|x>>>17),x=I+(L^(O|~C))+V[1]+2240044497&4294967295,I=O+(x<<21&4294967295|x>>>11),x=C+(O^(I|~L))+V[8]+1873313359&4294967295,C=I+(x<<6&4294967295|x>>>26),x=L+(I^(C|~O))+V[15]+4264355552&4294967295,L=C+(x<<10&4294967295|x>>>22),x=O+(C^(L|~I))+V[6]+2734768916&4294967295,O=L+(x<<15&4294967295|x>>>17),x=I+(L^(O|~C))+V[13]+1309151649&4294967295,I=O+(x<<21&4294967295|x>>>11),x=C+(O^(I|~L))+V[4]+4149444226&4294967295,C=I+(x<<6&4294967295|x>>>26),x=L+(I^(C|~O))+V[11]+3174756917&4294967295,L=C+(x<<10&4294967295|x>>>22),x=O+(C^(L|~I))+V[2]+718787259&4294967295,O=L+(x<<15&4294967295|x>>>17),x=I+(L^(O|~C))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}i.prototype.v=function(N,C){C===void 0&&(C=N.length);const I=C-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<C;){if(O==0)for(;L<=I;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<C;)if(V[O++]=N.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<C;)if(V[O++]=N[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=C},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[C++]=this.g[I]>>>V&255;return N};function u(N,C){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=C(N)}function f(N,C){this.h=C;const I=[];let V=!0;for(let O=N.length-1;O>=0;O--){const L=N[O]|0;V&&L==C||(I[O]=L,V=!1)}this.g=I}var m={};function g(N){return-128<=N&&N<128?u(N,function(C){return new f([C|0],C<0?-1:0)}):new f([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return q(p(-N));const C=[];let I=1;for(let V=0;N>=I;V++)C[V]=N/I|0,I*=4294967296;return new f(C,0)}function _(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return q(_(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(C,8));let V=E;for(let L=0;L<N.length;L+=8){var O=Math.min(8,N.length-L);const x=parseInt(N.substring(L,L+O),C);O<8?(O=p(Math.pow(C,O)),V=V.j(O).add(p(x))):(V=V.j(I),V=V.add(p(x)))}return V}var E=g(0),w=g(1),D=g(16777216);r=f.prototype,r.m=function(){if(Y(this))return-q(this).m();let N=0,C=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*C,C*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(P(this))return"0";if(Y(this))return"-"+q(this).toString(N);const C=p(Math.pow(N,6));var I=this;let V="";for(;;){const O=yt(I,C).g;I=lt(I,O.j(C));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=O,P(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function P(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function Y(N){return N.h==-1}r.l=function(N){return N=lt(this,N),Y(N)?-1:P(N)?0:1};function q(N){const C=N.g.length,I=[];for(let V=0;V<C;V++)I[V]=~N.g[V];return new f(I,~N.h).add(w)}r.abs=function(){return Y(this)?q(this):this},r.add=function(N){const C=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let O=0;O<=C;O++){let L=V+(this.i(O)&65535)+(N.i(O)&65535),x=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=x>>>16,L&=65535,x&=65535,I[O]=x<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function lt(N,C){return N.add(q(C))}r.j=function(N){if(P(this)||P(N))return E;if(Y(this))return Y(N)?q(this).j(q(N)):q(q(this).j(N));if(Y(N))return q(this.j(q(N)));if(this.l(D)<0&&N.l(D)<0)return p(this.m()*N.m());const C=this.g.length+N.g.length,I=[];for(var V=0;V<2*C;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const L=this.i(V)>>>16,x=this.i(V)&65535,ie=N.i(O)>>>16,ye=N.i(O)&65535;I[2*V+2*O]+=x*ye,at(I,2*V+2*O),I[2*V+2*O+1]+=L*ye,at(I,2*V+2*O+1),I[2*V+2*O+1]+=x*ie,at(I,2*V+2*O+1),I[2*V+2*O+2]+=L*ie,at(I,2*V+2*O+2)}for(N=0;N<C;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=C;N<2*C;N++)I[N]=0;return new f(I,0)};function at(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function rt(N,C){this.g=N,this.h=C}function yt(N,C){if(P(C))throw Error("division by zero");if(P(N))return new rt(E,E);if(Y(N))return C=yt(q(N),C),new rt(q(C.g),q(C.h));if(Y(C))return C=yt(N,q(C)),new rt(q(C.g),C.h);if(N.g.length>30){if(Y(N)||Y(C))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=C;V.l(N)<=0;)I=st(I),V=st(V);var O=It(I,1),L=It(V,1);for(V=It(V,2),I=It(I,2);!P(V);){var x=L.add(V);x.l(N)<=0&&(O=O.add(I),L=x),V=It(V,1),I=It(I,1)}return C=lt(N,O.j(C)),new rt(O,C)}for(O=E;N.l(C)>=0;){for(I=Math.max(1,Math.floor(N.m()/C.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=p(I),x=L.j(C);Y(x)||x.l(N)>0;)I-=V,L=p(I),x=L.j(C);P(L)&&(L=w),O=O.add(L),N=lt(N,x)}return new rt(O,N)}r.B=function(N){return yt(this,N).h},r.and=function(N){const C=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)&N.i(V);return new f(I,this.h&N.h)},r.or=function(N){const C=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)|N.i(V);return new f(I,this.h|N.h)},r.xor=function(N){const C=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)^N.i(V);return new f(I,this.h^N.h)};function st(N){const C=N.g.length+1,I=[];for(let V=0;V<C;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(I,N.h)}function It(N,C){const I=C>>5;C%=32;const V=N.g.length-I,O=[];for(let L=0;L<V;L++)O[L]=C>0?N.i(L+I)>>>C|N.i(L+I+1)<<32-C:N.i(L+I);return new f(O,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,CE=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=_,Ii=f}).apply(typeof q1<"u"?q1:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xE,Zl,NE,cf,Km,RE,IE,DE;(function(){var r,t=Object.defineProperty;function a(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=a(this);function o(c,y){if(y)t:{var b=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in b))break t;b=b[z]}c=c[c.length-1],A=b[c],y=y(A),y!=A&&y!=null&&t(b,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var b=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&b.push([A,y[A]]);return b}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,b){return c.call.apply(c.bind,arguments)}function p(c,y,b){return p=g,p.apply(null,arguments)}function _(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function E(c,y){function b(){}b.prototype=y.prototype,c.Z=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(A,z,H){for(var ft=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)ft[Vt-2]=arguments[Vt];return y.prototype[z].apply(A,ft)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const y=c.length;if(y>0){const b=Array(y);for(let A=0;A<y;A++)b[A]=c[A];return b}return[]}function P(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var b=typeof z;if(b=b!="object"?b:z?Array.isArray(z)?"array":b:"null",b=="array"||b=="object"&&typeof z.length=="number"){b=c.length||0;const H=z.length||0;c.length=b+H;for(let ft=0;ft<H;ft++)c[b+ft]=z[ft]}else c.push(z)}}class Y{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){f.setTimeout(()=>{throw c},0)}function lt(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class at{constructor(){this.h=this.g=null}add(y,b){const A=rt.get();A.set(y,b),this.h?this.h.next=A:this.g=A,this.h=A}}var rt=new Y(()=>new yt,c=>c.reset());class yt{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let st,It=!1,N=new at,C=()=>{const c=Promise.resolve(void 0);st=()=>{c.then(I)}};function I(){for(var c;c=lt();){try{c.h.call(c.g)}catch(b){q(b)}var y=rt;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}It=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,y),f.removeEventListener("test",b,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function ie(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}E(ie,O),ie.prototype.init=function(c,y){const b=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ct(c,y,b,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!A,this.ha=z,this.key=++Q,this.da=this.fa=!1}function Et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function tt(c,y,b){for(const A in c)y.call(b,c[A],A,c)}function gt(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function R(c){const y={};for(const b in c)y[b]=c[b];return y}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(c,y){let b,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(b in A)c[b]=A[b];for(let H=0;H<K.length;H++)b=K[H],Object.prototype.hasOwnProperty.call(A,b)&&(c[b]=A[b])}}function ht(c){this.src=c,this.g={},this.h=0}ht.prototype.add=function(c,y,b,A,z){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ft=Dt(c,y,A,z);return ft>-1?(y=c[ft],b||(y.fa=!1)):(y=new ct(y,this.src,H,!!A,z),y.fa=b,c.push(y)),y};function xt(c,y){const b=y.type;if(b in c.g){var A=c.g[b],z=Array.prototype.indexOf.call(A,y,void 0),H;(H=z>=0)&&Array.prototype.splice.call(A,z,1),H&&(Et(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Dt(c,y,b,A){for(let z=0;z<c.length;++z){const H=c[z];if(!H.da&&H.listener==y&&H.capture==!!b&&H.ha==A)return z}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Se={};function fe(c,y,b,A,z){if(Array.isArray(y)){for(let H=0;H<y.length;H++)fe(c,y[H],b,A,z);return null}return b=Kr(b),c&&c[ye]?c.J(y,b,m(A)?!!A.capture:!1,z):La(c,y,b,!1,A,z)}function La(c,y,b,A,z,H){if(!y)throw Error("Invalid event type");const ft=m(z)?!!z.capture:!!z;let Vt=ba(c);if(Vt||(c[Ut]=Vt=new ht(c)),b=Vt.add(y,b,A,ft,H),b.proxy)return b;if(A=ya(),b.proxy=A,A.src=c,A.listener=b,c.addEventListener)L||(z=ft),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(Ln(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ya(){function c(b){return y.call(c.src,c.listener,b)}const y=Gi;return c}function va(c,y,b,A,z){if(Array.isArray(y))for(var H=0;H<y.length;H++)va(c,y[H],b,A,z);else A=m(A)?!!A.capture:!!A,b=Kr(b),c&&c[ye]?(c=c.i,H=String(y).toString(),H in c.g&&(y=c.g[H],b=Dt(y,b,A,z),b>-1&&(Et(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete c.g[H],c.h--)))):c&&(c=ba(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Dt(y,b,A,z)),(b=c>-1?y[c]:null)&&ta(b))}function ta(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ye])xt(y.i,c);else{var b=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(b,A,c.capture):y.detachEvent?y.detachEvent(Ln(b),A):y.addListener&&y.removeListener&&y.removeListener(A),(b=ba(y))?(xt(b,c),b.h==0&&(b.src=null,y[Ut]=null)):Et(c)}}}function Ln(c){return c in Se?Se[c]:Se[c]="on"+c}function Gi(c,y){if(c.da)c=!0;else{y=new ie(y,this);const b=c.listener,A=c.ha||c.src;c.fa&&ta(c),c=b.call(A,y)}return c}function ba(c){return c=c[Ut],c instanceof ht?c:null}var Yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kr(c){return typeof c=="function"?c:(c[Yr]||(c[Yr]=function(y){return c.handleEvent(y)}),c[Yr])}function Ae(){V.call(this),this.i=new ht(this),this.M=this,this.G=null}E(Ae,V),Ae.prototype[ye]=!0,Ae.prototype.removeEventListener=function(c,y,b,A){va(this,c,y,b,A)};function ke(c,y){var b,A=c.G;if(A)for(b=[];A;A=A.G)b.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(A,c),ot(y,z)}z=!0;let H,ft;if(b)for(ft=b.length-1;ft>=0;ft--)H=y.g=b[ft],z=ea(H,A,!0,y)&&z;if(H=y.g=c,z=ea(H,A,!0,y)&&z,z=ea(H,A,!1,y)&&z,b)for(ft=0;ft<b.length;ft++)H=y.g=b[ft],z=ea(H,A,!1,y)&&z}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const b=c.g[y];for(let A=0;A<b.length;A++)Et(b[A]);delete c.g[y],c.h--}}this.G=null},Ae.prototype.J=function(c,y,b,A){return this.i.add(String(c),y,!1,b,A)},Ae.prototype.K=function(c,y,b,A){return this.i.add(String(c),y,!0,b,A)};function ea(c,y,b,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let H=0;H<y.length;++H){const ft=y[H];if(ft&&!ft.da&&ft.capture==b){const Vt=ft.listener,Oe=ft.ha||ft.src;ft.fa&&xt(c.i,ft),z=Vt.call(Oe,A)!==!1&&z}}return z&&!A.defaultPrevented}function za(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Yi(c){c.g=za(()=>{c.g=null,c.i&&(c.i=!1,Yi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends V{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Yi(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(c){V.call(this),this.h=c,this.g={}}E(Ua,V);var Qr=[];function Ki(c){tt(c.g,function(y,b){this.g.hasOwnProperty(b)&&ta(y)},c),c.g={}}Ua.prototype.N=function(){Ua.Z.N.call(this),Ki(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=f.JSON.stringify,Qo=f.JSON.parse,Os=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ms(){}function Vs(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){O.call(this,"d")}E(Qe,O);function wn(){O.call(this,"c")}E(wn,O);var xe={},js=null;function X(){return js=js||new Ae}xe.Ia="serverreachability";function Z(c){O.call(this,xe.Ia,c)}E(Z,O);function ut(c){const y=X();ke(y,new Z(y))}xe.STAT_EVENT="statevent";function dt(c,y){O.call(this,xe.STAT_EVENT,c),this.stat=y}E(dt,O);function Tt(c){const y=X();ke(y,new dt(y,c))}xe.Ja="timingevent";function St(c,y){O.call(this,xe.Ja,c),this.size=y}E(St,O);function Jt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Re(){this.g=!0}Re.prototype.ua=function(){this.g=!1};function _n(c,y,b,A,z,H){c.info(function(){if(c.g)if(H){var ft="",Vt=H.split("&");for(let ne=0;ne<Vt.length;ne++){var Oe=Vt[ne].split("=");if(Oe.length>1){const we=Oe[0];Oe=Oe[1];const sa=we.split("_");ft=sa.length>=2&&sa[1]=="type"?ft+(we+"="+Oe+"&"):ft+(we+"=redacted&")}}}else ft=null;else ft=H;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+b+`
`+ft})}function Cn(c,y,b,A,z,H,ft){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+b+`
`+H+" "+ft})}function an(c,y,b,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ea(c,b)+(A?" "+A:"")})}function ve(c,y){c.info(function(){return"TIMEOUT: "+y})}Re.prototype.info=function(){};function Ea(c,y){if(!c.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var b=H[c];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ft=1;ft<A.length;ft++)A[ft]=""}}}}return _a(H)}catch{return y}}var gn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},na;function Ta(){}E(Ta,Ms),Ta.prototype.g=function(){return new XMLHttpRequest},na=new Ta;function En(c){return encodeURIComponent(String(c))}function Qi(c){var y=1;c=c.split(":");const b=[];for(;y>0&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function Sa(c,y,b,A){this.j=c,this.i=y,this.l=b,this.S=A||1,this.V=new Ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Aa}function Aa(){this.i=null,this.g="",this.h=!1}var Le={},Je={};function Pa(c,y,b){c.M=1,c.A=$i(Ue(y)),c.u=b,c.R=!0,Ls(c,null)}function Ls(c,y){c.F=Date.now(),Ba(c),c.B=Ue(c.A);var b=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Bs(b.i,"t",A),c.C=0,b=c.j.L,c.h=new Aa,c.g=Gu(c.j,b?y:null,!c.u),c.P>0&&(c.O=new nn(p(c.Y,c,c.g),c.P)),y=c.V,b=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Qr[0]=z.toString()),z=Qr);for(let H=0;H<z.length;H++){const ft=fe(b,z[H],A||y.handleEvent,!1,y.h||y);if(!ft)break;y.g[ft.key]=ft}y=c.J?R(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ut(),_n(c.i,c.v,c.B,c.l,c.S,c.u)}Sa.prototype.ba=function(c){c=c.target;const y=this.O;y&&xa(c)==3?y.j():this.Y(c)},Sa.prototype.Y=function(c){try{if(c==this.g)t:{const Vt=xa(this.g),Oe=this.g.ya(),ne=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Vt!=4||Oe==7||(Oe==8||ne<=0?ut(3):ut(2)),Fa(this);var y=this.g.ca();this.X=y;var b=oh(this);if(this.o=y==200,Cn(this.i,this.v,this.B,this.l,this.S,Vt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var H=A;break e}}H=null}if(c=H)an(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qa(this,c);else{this.o=!1,this.m=3,Tt(12),Un(this),aa(this);break t}}if(this.R){c=!0;let we;for(;!this.K&&this.C<b.length;)if(we=ku(this,b),we==Je){Vt==4&&(this.m=4,Tt(14),c=!1),an(this.i,this.l,null,"[Incomplete Response]");break}else if(we==Le){this.m=4,Tt(15),an(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else an(this.i,this.l,we,null),qa(this,we);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||b.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)an(this.i,this.l,b,"[Invalid Chunked Response]"),Un(this),aa(this);else if(b.length>0&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.aa&&!ft.P&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),ul(ft),ft.P=!0,Tt(11))}}else an(this.i,this.l,b,null),qa(this,b);Vt==4&&Un(this),this.o&&!this.K&&(Vt==4?Bu(this.j,this):(this.o=!1,Ba(this)))}else pr(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),Un(this),aa(this)}}}catch{}};function oh(c){if(!Du(c))return c.g.la();const y=sn(c.g);if(y==="")return"";let b="";const A=y.length,z=xa(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Un(c),aa(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,b+=c.h.i.decode(y[H],{stream:!(z&&H==A-1)});return y.length=0,c.h.g+=b,c.C=0,c.h.g}function Du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ku(c,y){var b=c.C,A=y.indexOf(`
`,b);return A==-1?Je:(b=Number(y.substring(b,A)),isNaN(b)?Le:(A+=1,A+b>y.length?Je:(y=y.slice(A,A+b),c.C=A+b,y)))}Sa.prototype.cancel=function(){this.K=!0,Un(this)};function Ba(c){c.T=Date.now()+c.H,zs(c,c.H)}function zs(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Jt(p(c.aa,c),y)}function Fa(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Sa.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ve(this.i,this.B),this.M!=2&&(ut(),Tt(17)),Un(this),this.m=2,aa(this)):zs(this,this.T-c)};function aa(c){c.j.I==0||c.K||Bu(c.j,c)}function Un(c){Fa(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ki(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function qa(c,y){try{var b=c.j;if(b.I!=0&&(b.g==c||Ga(b.h,c))){if(!c.L&&Ga(b.h,c)&&b.I==3){try{var A=b.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Ys(b),ni(b);else break t;ns(b),Tt(18)}}else b.xa=z[1],0<b.xa-b.K&&z[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Jt(p(b.Va,b),6e3));Ha(b.h)<=1&&b.ta&&(b.ta=void 0)}else Za(b,11)}else if((c.L||b.g==c)&&Ys(b),!x(y))for(z=b.Ba.g.parse(y),y=0;y<z.length;y++){let ne=z[y];const we=ne[0];if(!(we<=b.K))if(b.K=we,ne=ne[1],b.I==2)if(ne[0]=="c"){b.M=ne[1],b.ba=ne[2];const sa=ne[3];sa!=null&&(b.ka=sa,b.j.info("VER="+b.ka));const Ja=ne[4];Ja!=null&&(b.za=Ja,b.j.info("SVER="+b.za));const Na=ne[5];Na!=null&&typeof Na=="number"&&Na>0&&(A=1.5*Na,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Ra=c.g;if(Ra){const as=Ra.g?Ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(as){var H=A.h;H.g||as.indexOf("spdy")==-1&&as.indexOf("quic")==-1&&as.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Zo(H,H.h),H.h=null))}if(A.G){const Ks=Ra.g?Ra.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(A.wa=Ks,se(A.J,A.G,Ks))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var ft=c;if(A.na=Hu(A,A.L?A.ba:null,A.W),ft.L){Jo(A.h,ft);var Vt=ft,Oe=A.O;Oe&&(Vt.H=Oe),Vt.D&&(Fa(Vt),Ba(Vt)),A.g=ft}else Uu(A);b.i.length>0&&Xa(b)}else ne[0]!="stop"&&ne[0]!="close"||Za(b,7);else b.I==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?Za(b,7):ol(b):ne[0]!="noop"&&b.l&&b.l.qa(ne),b.A=0)}}ut(4)}catch{}}var ze=class{constructor(c,y){this.g=c,this.map=y}};function $o(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ha(c){return c.h?1:c.g?c.g.size:0}function Ga(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Zo(c,y){c.g?c.g.add(y):c.h=y}function Jo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}$o.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.G);return y}return D(c.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Us(c,y){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const A=c[b].indexOf("=");let z,H=null;A>=0?(z=c[b].substring(0,A),H=c[b].substring(A+1)):z=c[b],y(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Pn?(this.l=c.l,We(this,c.j),this.o=c.o,this.g=c.g,$r(this,c.u),this.h=c.h,tl(this,Lu(c.i)),this.m=c.m):c&&(y=String(c).match(Ou))?(this.l=!1,We(this,y[1]||"",!0),this.o=Ya(y[2]||""),this.g=Ya(y[3]||"",!0),$r(this,y[4]),this.h=Ya(y[5]||"",!0),tl(this,y[6]||"",!0),this.m=Ya(y[7]||"")):(this.l=!1,this.i=new Zr(null,this.l))}Pn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Xi(y,Ps,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Xi(y,Ps,!0),"@"),c.push(En(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Xi(b,b.charAt(0)=="/"?el:Mu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Xi(b,Vu)),c.join("")},Pn.prototype.resolve=function(c){const y=Ue(this);let b=!!c.j;b?We(y,c.j):b=!!c.o,b?y.o=c.o:b=!!c.g,b?y.g=c.g:b=c.u!=null;var A=c.h;if(b)$r(y,c.u);else if(b=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let ft=0;ft<z.length;){const Vt=z[ft++];Vt=="."?A&&ft==z.length&&H.push(""):Vt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ft==z.length&&H.push("")):(H.push(Vt),A=!0)}A=H.join("/")}else A=z}return b?y.h=A:b=c.i.toString()!=="",b?tl(y,Lu(c.i)):b=!!c.m,b&&(y.m=c.m),y};function Ue(c){return new Pn(c)}function We(c,y,b){c.j=b?Ya(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function $r(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function tl(c,y,b){y instanceof Zr?(c.i=y,Fs(c.i,c.l)):(b||(y=Xi(y,Xr)),c.i=new Zr(y,c.l))}function se(c,y,b){c.i.set(y,b)}function $i(c){return se(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ya(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Xi(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,xn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ps=/[#\/\?@]/g,Mu=/[#\?:]/g,el=/[#\?]/g,Xr=/[#\?@]/g,Vu=/#/g;function Zr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Us(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=Zr.prototype,r.add=function(c,y){Nn(this),this.i=null,c=Jr(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function ju(c,y){Nn(c),y=Jr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function nl(c,y){return Nn(c),y=Jr(c,y),c.g.has(y)}r.forEach=function(c,y){Nn(this),this.g.forEach(function(b,A){b.forEach(function(z){c.call(y,z,A,this)},this)},this)};function al(c,y){Nn(c);let b=[];if(typeof y=="string")nl(c,y)&&(b=b.concat(c.g.get(Jr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)b=b.concat(c[y]);return b}r.set=function(c,y){return Nn(this),this.i=null,c=Jr(this,c),nl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=al(this,c),c.length>0?String(c[0]):y):y};function Bs(c,y,b){ju(c,y),b.length>0&&(c.i=null,c.g.set(Jr(c,y),D(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var b=y[A];const z=En(b);b=al(this,b);for(let H=0;H<b.length;H++){let ft=z;b[H]!==""&&(ft+="="+En(b[H])),c.push(ft)}}return this.i=c.join("&")};function Lu(c){const y=new Zr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Jr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fs(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(b,A){const z=A.toLowerCase();A!=z&&(ju(this,A),Bs(this,z,b))},c)),c.j=y}function wa(c,y){const b=new Re;if(f.Image){const A=new Image;A.onload=_(ra,b,"TestLoadImage: loaded",!0,y,A),A.onerror=_(ra,b,"TestLoadImage: error",!1,y,A),A.onabort=_(ra,b,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(ra,b,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function rl(c,y){const b=new Re,A=new AbortController,z=setTimeout(()=>{A.abort(),ra(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(z),H.ok?ra(b,"TestPingServer: ok",!0,y):ra(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),ra(b,"TestPingServer: error",!1,y)})}function ra(c,y,b,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(b)}catch{}}function Wr(){this.g=new Os}function Ka(c){this.i=c.Sb||null,this.h=c.ab||!1}E(Ka,Ms),Ka.prototype.g=function(){return new Zi(this.i,this.h)};function Zi(c,y){Ae.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Zi,Ae),r=Zi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ca(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function qs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ti(this):Ca(this),this.readyState==3&&qs(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,ti(this))},r.Na=function(c){this.g&&(this.response=c,ti(this))},r.ga=function(){this.g&&ti(this)};function ti(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ca(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Ca(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ia(c){let y="";return tt(c,function(b,A){y+=A,y+=":",y+=b,y+=`\r
`}),y}function Ji(c,y,b){t:{for(A in b){var A=!1;break t}A=!0}A||(b=ia(b),typeof c=="string"?b!=null&&En(b):se(c,y,b))}function he(c){Ae.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(he,Ae);var Qa=/^https?$/i,il=["POST","PUT"];r=he.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():na.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(H){Wi(this,H);return}if(c=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)b.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())b.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(il,y,void 0)>=0)||A||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ft]of b)this.g.setRequestHeader(H,ft);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Wi(this,H)}};function Wi(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,sl(c),gr(c)}function sl(c){c.A||(c.A=!0,ke(c,"complete"),ke(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ke(this,"complete"),ke(this,"abort"),gr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),he.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ts(this):this.Xa())},r.Xa=function(){ts(this)};function ts(c){if(c.h&&typeof u<"u"){if(c.v&&xa(c)==4)setTimeout(c.Ca.bind(c),0);else if(ke(c,"readystatechange"),xa(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var b;if(!(b=y)){var A;if(A=H===0){let ft=String(c.D).match(Ou)[1]||null;!ft&&f.self&&f.self.location&&(ft=f.self.location.protocol.slice(0,-1)),A=!Qa.test(ft?ft.toLowerCase():"")}b=A}if(b)ke(c,"complete"),ke(c,"success");else{c.o=6;try{var z=xa(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",sl(c)}}finally{gr(c)}}}}function gr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,y||ke(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function xa(c){return c.g?c.g.readyState:0}r.ca=function(){try{return xa(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Qo(y)}};function sn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pr(c){const y={};c=(c.g&&xa(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(x(c[A]))continue;var b=Qi(c[A]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=y[z]||[];y[z]=H,H.push(b)}gt(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function ei(c){this.za=0,this.i=[],this.j=new Re,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$a("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$a("baseRetryDelayMs",5e3,c),this.Za=$a("retryDelaySeedMs",1e4,c),this.Ta=$a("forwardChannelMaxRetries",2,c),this.va=$a("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(c&&c.concurrentRequestLimit),this.Ba=new Wr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ei.prototype,r.ka=8,r.I=1,r.connect=function(c,y,b,A){Tt(0),this.W=c,this.H=y||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=Hu(this,null,this.W),Xa(this)};function ol(c){if(Hs(c),c.I==3){var y=c.V++,b=Ue(c.J);if(se(b,"SID",c.M),se(b,"RID",y),se(b,"TYPE","terminate"),es(c,b),y=new Sa(c,c.j,y),y.M=2,y.A=$i(Ue(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=y.A,b=!0),b||(y.g=Gu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ba(y)}qu(c)}function ni(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function Hs(c){ni(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ys(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Xa(c){if(!Xo(c.h)&&!c.m){c.m=!0;var y=c.Ea;st||C(),It||(st(),It=!0),N.add(y,c),c.D=0}}function Gs(c,y){return Ha(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Jt(p(c.Ea,c,y),Fu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Sa(this,this.j,c);let H=this.o;if(this.U&&(H?(H=R(H),ot(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)t:{for(var y=0,b=0;b<this.i.length;b++){e:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=b;break t}if(y===4096||b===this.i.length-1){y=b+1;break t}}y=1e3}else y=1e3;y=zu(this,z,y),b=Ue(this.J),se(b,"RID",c),se(b,"CVER",22),this.G&&se(b,"X-HTTP-Session-Id",this.G),es(this,b),H&&(this.R?y="headers="+En(ia(H))+"&"+y:this.u&&Ji(b,this.u,H)),Zo(this.h,z),this.Ra&&se(b,"TYPE","init"),this.S?(se(b,"$req",y),se(b,"SID","null"),z.U=!0,Pa(z,b,null)):Pa(z,b,y),this.I=2}}else this.I==3&&(c?ll(this,c):this.i.length==0||Xo(this.h)||ll(this))};function ll(c,y){var b;y?b=y.l:b=c.V++;const A=Ue(c.J);se(A,"SID",c.M),se(A,"RID",b),se(A,"AID",c.K),es(c,A),c.u&&c.o&&Ji(A,c.u,c.o),b=new Sa(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),y&&(c.i=y.G.concat(c.i)),y=zu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Zo(c.h,b),Pa(b,A,y)}function es(c,y){c.H&&tt(c.H,function(b,A){se(y,A,b)}),c.l&&tt({},function(b,A){se(y,A,b)})}function zu(c,y,b){b=Math.min(c.i.length,b);const A=c.l?p(c.l.Ka,c.l,c):null;t:{var z=c.i;let Vt=-1;for(;;){const Oe=["count="+b];Vt==-1?b>0?(Vt=z[0].g,Oe.push("ofs="+Vt)):Vt=0:Oe.push("ofs="+Vt);let ne=!0;for(let we=0;we<b;we++){var H=z[we].g;const sa=z[we].map;if(H-=Vt,H<0)Vt=Math.max(0,z[we].g-100),ne=!1;else try{H="req"+H+"_"||"";try{var ft=sa instanceof Map?sa:Object.entries(sa);for(const[Ja,Na]of ft){let Ra=Na;m(Na)&&(Ra=_a(Na)),Oe.push(H+Ja+"="+encodeURIComponent(Ra))}}catch(Ja){throw Oe.push(H+"type="+encodeURIComponent("_badmap")),Ja}}catch{A&&A(sa)}}if(ne){ft=Oe.join("&");break t}}ft=void 0}return c=c.i.splice(0,b),y.G=c,ft}function Uu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;st||C(),It||(st(),It=!0),N.add(y,c),c.A=0}}function ns(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Jt(p(c.Da,c),Fu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Jt(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),ni(this),Pu(this))};function ul(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Sa(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Ue(c.na);se(y,"RID","rpc"),se(y,"SID",c.M),se(y,"AID",c.K),se(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&se(y,"TO",c.ia),se(y,"TYPE","xmlhttp"),es(c,y),c.u&&c.o&&Ji(y,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=$i(Ue(y)),b.u=null,b.R=!0,Ls(b,c)}r.Va=function(){this.C!=null&&(this.C=null,ni(this),ns(this),Tt(19))};function Ys(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Bu(c,y){var b=null;if(c.g==y){Ys(c),ul(c),c.g=null;var A=2}else if(Ga(c.h,y))b=y.G,Jo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=X(),ke(A,new St(A,b)),Xa(c)}else Uu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&Gs(c,y)||A==2&&ns(c)))switch(b&&b.length>0&&(y=c.h,y.i=y.i.concat(b)),z){case 1:Za(c,5);break;case 4:Za(c,10);break;case 3:Za(c,6);break;default:Za(c,2)}}}function Fu(c,y){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*y}function Za(c,y){if(c.j.info("Error code "+y),y==2){var b=p(c.bb,c),A=c.Ua;const z=!A;A=new Pn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||We(A,"https"),$i(A),z?wa(A.toString(),b):rl(A.toString(),b)}else Tt(2);c.I=0,c.l&&c.l.pa(y),qu(c),Hs(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function qu(c){if(c.I=0,c.ja=[],c.l){const y=Wo(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ja,y),P(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function Hu(c,y,b){var A=b instanceof Pn?Ue(b):new Pn(b);if(A.g!="")y&&(A.g=y+"."+A.g),$r(A,A.u);else{var z=f.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const H=new Pn(null);A&&We(H,A),y&&(H.g=y),z&&$r(H,z),b&&(H.h=b),A=H}return b=c.G,y=c.wa,b&&y&&se(A,b,y),se(A,"VER",c.ka),es(c,A),A}function Gu(c,y,b){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new he(new Ka({ab:b})):new he(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ai(){}ai.prototype.g=function(c,y){return new Tn(c,y)};function Tn(c,y){Ae.call(this),this.g=new ei(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yr(this)}E(Tn,Ae),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){ol(this.g)},Tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=_a(c),c=b);y.i.push(new ze(y.Ya++,c)),y.I==3&&Xa(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Tn.Z.N.call(this)};function Ku(c){Qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const b in y){c=b;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}E(Ku,Qe);function Qu(){wn.call(this),this.status=1}E(Qu,wn);function yr(c){this.g=c}E(yr,Yu),yr.prototype.ra=function(){ke(this.g,"a")},yr.prototype.qa=function(c){ke(this.g,new Ku(c))},yr.prototype.pa=function(c){ke(this.g,new Qu)},yr.prototype.oa=function(){ke(this.g,"b")},ai.prototype.createWebChannel=ai.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,DE=function(){return new ai},IE=function(){return X()},RE=xe,Km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gn.NO_ERROR=0,gn.TIMEOUT=8,gn.HTTP_ERROR=6,cf=gn,rn.COMPLETE="complete",NE=rn,Vs.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Zl=Vs,he.prototype.listenOnce=he.prototype.K,he.prototype.getLastError=he.prototype.Ha,he.prototype.getLastErrorCode=he.prototype.ya,he.prototype.getStatus=he.prototype.ca,he.prototype.getResponseJson=he.prototype.La,he.prototype.getResponseText=he.prototype.la,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Fa,xE=he}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const H1="@firebase/firestore",G1="4.9.3";class vn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Ho="12.7.0";const xs=new kg("@firebase/firestore");function Co(){return xs.logLevel}function pt(r,...t){if(xs.logLevel<=$t.DEBUG){const a=t.map(Mg);xs.debug(`Firestore (${Ho}): ${r}`,...a)}}function Fr(r,...t){if(xs.logLevel<=$t.ERROR){const a=t.map(Mg);xs.error(`Firestore (${Ho}): ${r}`,...a)}}function jo(r,...t){if(xs.logLevel<=$t.WARN){const a=t.map(Mg);xs.warn(`Firestore (${Ho}): ${r}`,...a)}}function Mg(r){if(typeof r=="string")return r;try{return(function(a){return JSON.stringify(a)})(r)}catch{return r}}function Rt(r,t,a){let i="Unexpected state";typeof t=="string"?i=t:a=t,kE(r,i,a)}function kE(r,t,a){let i=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(a!==void 0)try{i+=" CONTEXT: "+JSON.stringify(a)}catch{i+=" CONTEXT: "+a}throw Fr(i),new Error(i)}function re(r,t,a,i){let o="Unexpected state";typeof a=="string"?o=a:i=a,r||kE(t,o,i)}function Mt(r,t){return r}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends Fi{constructor(t,a){super(t,a),this.code=t,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((t,a)=>{this.resolve=t,this.reject=a}))}}class OE{constructor(t,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class h3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,a){t.enqueueRetryable((()=>a(vn.UNAUTHENTICATED)))}shutdown(){}}class d3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,a){this.changeListener=a,t.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class m3{constructor(t){this.t=t,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,a){re(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,a(g)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}}),0),f()}getToken(){const t=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((i=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(re(typeof i.accessToken=="string",31837,{l:i}),new OE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new vn(t)}}class g3{constructor(t,a,i){this.P=t,this.T=a,this.I=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p3{constructor(t,a,i){this.P=t,this.T=a,this.I=i}getToken(){return Promise.resolve(new g3(this.P,this.T,this.I))}start(t,a){t.enqueueRetryable((()=>a(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y3{constructor(t,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,XN(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,a){re(this.o===void 0,3512);const i=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?a(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>i(u)))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((a=>a?(re(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new Y1(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function v3(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(a);else for(let i=0;i<r;i++)a[i]=Math.floor(256*Math.random());return a}class Vg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=v3(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<a&&(i+=t.charAt(o[u]%62))}return i}}function Gt(r,t){return r<t?-1:r>t?1:0}function Qm(r,t){const a=Math.min(r.length,t.length);for(let i=0;i<a;i++){const o=r.charAt(i),u=t.charAt(i);if(o!==u)return bm(o)===bm(u)?Gt(o,u):bm(o)?1:-1}return Gt(r.length,t.length)}const b3=55296,_3=57343;function bm(r){const t=r.charCodeAt(0);return t>=b3&&t<=_3}function Lo(r,t,a){return r.length===t.length&&r.every(((i,o)=>a(i,t[o])))}const K1="__name__";class ir{constructor(t,a,i){a===void 0?a=0:a>t.length&&Rt(637,{offset:a,range:t.length}),i===void 0?i=t.length-a:i>t.length-a&&Rt(1746,{length:i,range:t.length-a}),this.segments=t,this.offset=a,this.len=i}get length(){return this.len}isEqual(t){return ir.comparator(this,t)===0}child(t){const a=this.segments.slice(this.offset,this.limit());return t instanceof ir?t.forEach((i=>{a.push(i)})):a.push(t),this.construct(a)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}forEach(t){for(let a=this.offset,i=this.limit();a<i;a++)t(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,a){const i=Math.min(t.length,a.length);for(let o=0;o<i;o++){const u=ir.compareSegments(t.get(o),a.get(o));if(u!==0)return u}return Gt(t.length,a.length)}static compareSegments(t,a){const i=ir.isNumericId(t),o=ir.isNumericId(a);return i&&!o?-1:!i&&o?1:i&&o?ir.extractNumericId(t).compare(ir.extractNumericId(a)):Qm(t,a)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ii.fromString(t.substring(4,t.length-2))}}class Ee extends ir{construct(t,a,i){return new Ee(t,a,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const a=[];for(const i of t){if(i.indexOf("//")>=0)throw new bt(nt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);a.push(...i.split("/").filter((o=>o.length>0)))}return new Ee(a)}static emptyPath(){return new Ee([])}}const E3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends ir{construct(t,a,i){return new hn(t,a,i)}static isValidIdentifier(t){return E3.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K1}static keyField(){return new hn([K1])}static fromServerFormat(t){const a=[];let i="",o=0;const u=()=>{if(i.length===0)throw new bt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(i),i=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new bt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new bt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(i+=m,o++):(u(),o++)}if(u(),f)throw new bt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hn(a)}static emptyPath(){return new hn([])}}class Ct{constructor(t){this.path=t}static fromPath(t){return new Ct(Ee.fromString(t))}static fromName(t){return new Ct(Ee.fromString(t).popFirst(5))}static empty(){return new Ct(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,a){return Ee.comparator(t.path,a.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ct(new Ee(t.slice()))}}function ME(r,t,a){if(!a)throw new bt(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function T3(r,t,a,i){if(t===!0&&i===!0)throw new bt(nt.INVALID_ARGUMENT,`${r} and ${a} cannot be used together.`)}function Q1(r){if(!Ct.isDocumentKey(r))throw new bt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $1(r){if(Ct.isDocumentKey(r))throw new bt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function VE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Rt(12329,{type:typeof r})}function qr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new bt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=jg(r);throw new bt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${a}`)}}return r}function Ye(r,t){const a={typeString:r};return t&&(a.value=t),a}function wu(r,t){if(!VE(r))throw new bt(nt.INVALID_ARGUMENT,"JSON must be an object");let a;for(const i in t)if(t[i]){const o=t[i].typeString,u="value"in t[i]?{value:t[i].value}:void 0;if(!(i in r)){a=`JSON missing required field: '${i}'`;break}const f=r[i];if(o&&typeof f!==o){a=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){a=`Expected '${i}' field to equal '${u.value}'`;break}}if(a)throw new bt(nt.INVALID_ARGUMENT,a);return!0}const X1=-62135596800,Z1=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(t){return Pt.fromMillis(t.getTime())}static fromMillis(t){const a=Math.floor(t/1e3),i=Math.floor((t-1e3*a)*Z1);return new Pt(a,i)}constructor(t,a){if(this.seconds=t,this.nanoseconds=a,a<0)throw new bt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new bt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(t<X1)throw new bt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z1}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wu(t,Pt._jsonSchema))return new Pt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-X1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:Ye("string",Pt._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};class kt{static fromTimestamp(t){return new kt(t)}static min(){return new kt(new Pt(0,0))}static max(){return new kt(new Pt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mu=-1;function S3(r,t){const a=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=kt.fromTimestamp(i===1e9?new Pt(a+1,0):new Pt(a,i));return new ji(o,Ct.empty(),t)}function A3(r){return new ji(r.readTime,r.key,mu)}class ji{constructor(t,a,i){this.readTime=t,this.documentKey=a,this.largestBatchId=i}static min(){return new ji(kt.min(),Ct.empty(),mu)}static max(){return new ji(kt.max(),Ct.empty(),mu)}}function w3(r,t){let a=r.readTime.compareTo(t.readTime);return a!==0?a:(a=Ct.comparator(r.documentKey,t.documentKey),a!==0?a:Gt(r.largestBatchId,t.largestBatchId))}const C3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Go(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==C3)throw r;pt("LocalStore","Unexpectedly lost primary lease")}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(t){return this.next(void 0,t)}next(t,a){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(t,this.result):new et(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(a,u).next(i,o)}}))}toPromise(){return new Promise(((t,a)=>{this.next(t,a)}))}wrapUserFunction(t){try{const a=t();return a instanceof et?a:et.resolve(a)}catch(a){return et.reject(a)}}wrapSuccess(t,a){return t?this.wrapUserFunction((()=>t(a))):et.resolve(a)}wrapFailure(t,a){return t?this.wrapUserFunction((()=>t(a))):et.reject(a)}static resolve(t){return new et(((a,i)=>{a(t)}))}static reject(t){return new et(((a,i)=>{i(t)}))}static waitFor(t){return new et(((a,i)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&a()}),(g=>i(g)))})),f=!0,u===o&&a()}))}static or(t){let a=et.resolve(!1);for(const i of t)a=a.next((o=>o?et.resolve(o):i()));return a}static forEach(t,a){const i=[];return t.forEach(((o,u)=>{i.push(a.call(this,o,u))})),this.waitFor(i)}static mapArray(t,a){return new et(((i,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;a(t[p]).next((_=>{f[p]=_,++m,m===u&&i(f)}),(_=>o(_)))}}))}static doWhile(t,a){return new et(((i,o)=>{const u=()=>{t()===!0?a().next((()=>{u()}),o):i()};u()}))}}function N3(r){const t=r.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function Yo(r){return r.name==="IndexedDbTransactionError"}class Bf{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>a.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bf.ce=-1;const Lg=-1;function Ff(r){return r==null}function _f(r){return r===0&&1/r==-1/0}function R3(r){return typeof r=="number"&&Number.isInteger(r)&&!_f(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const jE="";function I3(r){let t="";for(let a=0;a<r.length;a++)t.length>0&&(t=J1(t)),t=D3(r.get(a),t);return J1(t)}function D3(r,t){let a=t;const i=r.length;for(let o=0;o<i;o++){const u=r.charAt(o);switch(u){case"\0":a+="";break;case jE:a+="";break;default:a+=u}}return a}function J1(r){return r+jE+""}function W1(r){let t=0;for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&t++;return t}function qi(r,t){for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&t(a,r[a])}function LE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class Ne{constructor(t,a){this.comparator=t,this.root=a||fn.EMPTY}insert(t,a){return new Ne(this.comparator,this.root.insert(t,a,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(t){return new Ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fn.BLACK,null,null))}get(t){let a=this.root;for(;!a.isEmpty();){const i=this.comparator(t,a.key);if(i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}indexOf(t){let a=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return a+i.left.size;o<0?i=i.left:(a+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((a,i)=>(t(a,i),!1)))}toString(){const t=[];return this.inorderTraversal(((a,i)=>(t.push(`${a}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ef(this.root,t,this.comparator,!0)}}class ef{constructor(t,a,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=a?i(t.key,a):1,a&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const a={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fn{constructor(t,a,i,o,u){this.key=t,this.value=a,this.color=i??fn.RED,this.left=o??fn.EMPTY,this.right=u??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,a,i,o,u){return new fn(t??this.key,a??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,a,i){let o=this;const u=i(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,a,i),null):u===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(t,a,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,a){let i,o=this;if(a(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(t,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,a)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,a,i,o,u){return this}insert(t,a,i){return new fn(t,a)}remove(t,a){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ze{constructor(t){this.comparator=t,this.data=new Ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((a,i)=>(t(a),!1)))}forEachInRange(t,a){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;a(o.key)}}forEachWhile(t,a){let i;for(i=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const a=this.data.getIteratorFrom(t);return a.hasNext()?a.getNext().key:null}getIterator(){return new tb(this.data.getIterator())}getIteratorFrom(t){return new tb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let a=this;return a.size<t.size&&(a=t,t=this),t.forEach((i=>{a=a.add(i)})),a}isEqual(t){if(!(t instanceof Ze)||this.size!==t.size)return!1;const a=this.data.getIterator(),i=t.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((a=>{t.push(a)})),t}toString(){const t=[];return this.forEach((a=>t.push(a))),"SortedSet("+t.toString()+")"}copy(t){const a=new Ze(this.comparator);return a.data=t,a}}class tb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(t){this.fields=t,t.sort(hn.comparator)}static empty(){return new Zn([])}unionWith(t){let a=new Ze(hn.comparator);for(const i of this.fields)a=a.add(i);for(const i of t)a=a.add(i);return new Zn(a.toArray())}covers(t){for(const a of this.fields)if(a.isPrefixOf(t))return!0;return!1}isEqual(t){return Lo(this.fields,t.fields,((a,i)=>a.isEqual(i)))}}class zE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(t){this.binaryString=t}static fromBase64String(t){const a=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new zE("Invalid base64 string: "+u):u}})(t);return new mn(a)}static fromUint8Array(t){const a=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new mn(a)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const i=new Uint8Array(a.length);for(let o=0;o<a.length;o++)i[o]=a.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const k3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(r){if(re(!!r,39018),typeof r=="string"){let t=0;const a=k3.exec(r);if(re(!!a,46558,{timestamp:r}),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:je(r.seconds),nanos:je(r.nanos)}}function je(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function zi(r){return typeof r=="string"?mn.fromBase64String(r):mn.fromUint8Array(r)}const UE="server_timestamp",PE="__type__",BE="__previous_value__",FE="__local_write_time__";function zg(r){return(r?.mapValue?.fields||{})[PE]?.stringValue===UE}function qf(r){const t=r.mapValue.fields[BE];return zg(t)?qf(t):t}function gu(r){const t=Li(r.mapValue.fields[FE].timestampValue);return new Pt(t.seconds,t.nanos)}class O3{constructor(t,a,i,o,u,f,m,g,p,_){this.databaseId=t,this.appId=a,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=_}}const Ef="(default)";class pu{constructor(t,a){this.projectId=t,this.database=a||Ef}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(t){return t instanceof pu&&t.projectId===this.projectId&&t.database===this.database}}const qE="__type__",M3="__max__",nf={mapValue:{}},HE="__vector__",Tf="value";function Ui(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zg(r)?4:j3(r)?9007199254740991:V3(r)?10:11:Rt(28295,{value:r})}function dr(r,t){if(r===t)return!0;const a=Ui(r);if(a!==Ui(t))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return gu(r).isEqual(gu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Li(o.timestampValue),m=Li(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return zi(o.bytesValue).isEqual(zi(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return je(o.geoPointValue.latitude)===je(u.geoPointValue.latitude)&&je(o.geoPointValue.longitude)===je(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return je(o.integerValue)===je(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=je(o.doubleValue),m=je(u.doubleValue);return f===m?_f(f)===_f(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return Lo(r.arrayValue.values||[],t.arrayValue.values||[],dr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(W1(f)!==W1(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!dr(f[g],m[g])))return!1;return!0})(r,t);default:return Rt(52216,{left:r})}}function yu(r,t){return(r.values||[]).find((a=>dr(a,t)))!==void 0}function zo(r,t){if(r===t)return 0;const a=Ui(r),i=Ui(t);if(a!==i)return Gt(a,i);switch(a){case 0:case 9007199254740991:return 0;case 1:return Gt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=je(u.integerValue||u.doubleValue),g=je(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return eb(r.timestampValue,t.timestampValue);case 4:return eb(gu(r),gu(t));case 5:return Qm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=zi(u),g=zi(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const _=Gt(m[p],g[p]);if(_!==0)return _}return Gt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Gt(je(u.latitude),je(f.latitude));return m!==0?m:Gt(je(u.longitude),je(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return nb(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[Tf]?.arrayValue,_=g[Tf]?.arrayValue,E=Gt(p?.values?.length||0,_?.values?.length||0);return E!==0?E:nb(p,_)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===nf.mapValue&&f===nf.mapValue)return 0;if(u===nf.mapValue)return 1;if(f===nf.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},_=Object.keys(p);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const w=Qm(g[E],_[E]);if(w!==0)return w;const D=zo(m[g[E]],p[_[E]]);if(D!==0)return D}return Gt(g.length,_.length)})(r.mapValue,t.mapValue);default:throw Rt(23264,{he:a})}}function eb(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Gt(r,t);const a=Li(r),i=Li(t),o=Gt(a.seconds,i.seconds);return o!==0?o:Gt(a.nanos,i.nanos)}function nb(r,t){const a=r.values||[],i=t.values||[];for(let o=0;o<a.length&&o<i.length;++o){const u=zo(a[o],i[o]);if(u)return u}return Gt(a.length,i.length)}function Uo(r){return $m(r)}function $m(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(a){const i=Li(a);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(a){return zi(a).toBase64()})(r.bytesValue):"referenceValue"in r?(function(a){return Ct.fromName(a).toString()})(r.referenceValue):"geoPointValue"in r?(function(a){return`geo(${a.latitude},${a.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(a){let i="[",o=!0;for(const u of a.values||[])o?o=!1:i+=",",i+=$m(u);return i+"]"})(r.arrayValue):"mapValue"in r?(function(a){const i=Object.keys(a.fields||{}).sort();let o="{",u=!0;for(const f of i)u?u=!1:o+=",",o+=`${f}:${$m(a.fields[f])}`;return o+"}"})(r.mapValue):Rt(61005,{value:r})}function ff(r){switch(Ui(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qf(r);return t?16+ff(t):16;case 5:return 2*r.stringValue.length;case 6:return zi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+ff(u)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return qi(i.fields,((u,f)=>{o+=u.length+ff(f)})),o})(r.mapValue);default:throw Rt(13486,{value:r})}}function Xm(r){return!!r&&"integerValue"in r}function Ug(r){return!!r&&"arrayValue"in r}function ab(r){return!!r&&"nullValue"in r}function rb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hf(r){return!!r&&"mapValue"in r}function V3(r){return(r?.mapValue?.fields||{})[qE]?.stringValue===HE}function iu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return qi(r.mapValue.fields,((a,i)=>t.mapValue.fields[a]=iu(i))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let a=0;a<(r.arrayValue.values||[]).length;++a)t.arrayValue.values[a]=iu(r.arrayValue.values[a]);return t}return{...r}}function j3(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===M3}class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let a=this.value;for(let i=0;i<t.length-1;++i)if(a=(a.mapValue.fields||{})[t.get(i)],!hf(a))return null;return a=(a.mapValue.fields||{})[t.lastSegment()],a||null}}set(t,a){this.getFieldsMap(t.popLast())[t.lastSegment()]=iu(a)}setAll(t){let a=hn.emptyPath(),i={},o=[];t.forEach(((f,m)=>{if(!a.isImmediateParentOf(m)){const g=this.getFieldsMap(a);this.applyChanges(g,i,o),i={},o=[],a=m.popLast()}f?i[m.lastSegment()]=iu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(a);this.applyChanges(u,i,o)}delete(t){const a=this.field(t.popLast());hf(a)&&a.mapValue.fields&&delete a.mapValue.fields[t.lastSegment()]}isEqual(t){return dr(this.value,t.value)}getFieldsMap(t){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=a.mapValue.fields[t.get(i)];hf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[t.get(i)]=o),a=o}return a.mapValue.fields}applyChanges(t,a,i){qi(a,((o,u)=>t[o]=u));for(const o of i)delete t[o]}clone(){return new Vn(iu(this.value))}}function GE(r){const t=[];return qi(r.fields,((a,i)=>{const o=new hn([a]);if(hf(i)){const u=GE(i.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Zn(t)}class bn{constructor(t,a,i,o,u,f,m){this.key=t,this.documentType=a,this.version=i,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new bn(t,0,kt.min(),kt.min(),kt.min(),Vn.empty(),0)}static newFoundDocument(t,a,i,o){return new bn(t,1,a,kt.min(),i,o,0)}static newNoDocument(t,a){return new bn(t,2,a,kt.min(),kt.min(),Vn.empty(),0)}static newUnknownDocument(t,a){return new bn(t,3,a,kt.min(),kt.min(),Vn.empty(),2)}convertToFoundDocument(t,a){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof bn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sf{constructor(t,a){this.position=t,this.inclusive=a}}function ib(r,t,a){let i=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?i=Ct.comparator(Ct.fromName(f.referenceValue),a.key):i=zo(f,a.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function sb(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let a=0;a<r.position.length;a++)if(!dr(r.position[a],t.position[a]))return!1;return!0}class Af{constructor(t,a="asc"){this.field=t,this.dir=a}}function L3(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class YE{}class Xe extends YE{constructor(t,a,i){super(),this.field=t,this.op=a,this.value=i}static create(t,a,i){return t.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(t,a,i):new U3(t,a,i):a==="array-contains"?new F3(t,i):a==="in"?new q3(t,i):a==="not-in"?new H3(t,i):a==="array-contains-any"?new G3(t,i):new Xe(t,a,i)}static createKeyFieldInFilter(t,a,i){return a==="in"?new P3(t,i):new B3(t,i)}matches(t){const a=t.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(zo(a,this.value)):a!==null&&Ui(this.value)===Ui(a)&&this.matchesComparison(zo(a,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends YE{constructor(t,a){super(),this.filters=t,this.op=a,this.Pe=null}static create(t,a){return new mr(t,a)}matches(t){return KE(this)?this.filters.find((a=>!a.matches(t)))===void 0:this.filters.find((a=>a.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,a)=>t.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KE(r){return r.op==="and"}function QE(r){return z3(r)&&KE(r)}function z3(r){for(const t of r.filters)if(t instanceof mr)return!1;return!0}function Zm(r){if(r instanceof Xe)return r.field.canonicalString()+r.op.toString()+Uo(r.value);if(QE(r))return r.filters.map((t=>Zm(t))).join(",");{const t=r.filters.map((a=>Zm(a))).join(",");return`${r.op}(${t})`}}function $E(r,t){return r instanceof Xe?(function(i,o){return o instanceof Xe&&i.op===o.op&&i.field.isEqual(o.field)&&dr(i.value,o.value)})(r,t):r instanceof mr?(function(i,o){return o instanceof mr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,f,m)=>u&&$E(f,o.filters[m])),!0):!1})(r,t):void Rt(19439)}function XE(r){return r instanceof Xe?(function(a){return`${a.field.canonicalString()} ${a.op} ${Uo(a.value)}`})(r):r instanceof mr?(function(a){return a.op.toString()+" {"+a.getFilters().map(XE).join(" ,")+"}"})(r):"Filter"}class U3 extends Xe{constructor(t,a,i){super(t,a,i),this.key=Ct.fromName(i.referenceValue)}matches(t){const a=Ct.comparator(t.key,this.key);return this.matchesComparison(a)}}class P3 extends Xe{constructor(t,a){super(t,"in",a),this.keys=ZE("in",a)}matches(t){return this.keys.some((a=>a.isEqual(t.key)))}}class B3 extends Xe{constructor(t,a){super(t,"not-in",a),this.keys=ZE("not-in",a)}matches(t){return!this.keys.some((a=>a.isEqual(t.key)))}}function ZE(r,t){return(t.arrayValue?.values||[]).map((a=>Ct.fromName(a.referenceValue)))}class F3 extends Xe{constructor(t,a){super(t,"array-contains",a)}matches(t){const a=t.data.field(this.field);return Ug(a)&&yu(a.arrayValue,this.value)}}class q3 extends Xe{constructor(t,a){super(t,"in",a)}matches(t){const a=t.data.field(this.field);return a!==null&&yu(this.value.arrayValue,a)}}class H3 extends Xe{constructor(t,a){super(t,"not-in",a)}matches(t){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=t.data.field(this.field);return a!==null&&a.nullValue===void 0&&!yu(this.value.arrayValue,a)}}class G3 extends Xe{constructor(t,a){super(t,"array-contains-any",a)}matches(t){const a=t.data.field(this.field);return!(!Ug(a)||!a.arrayValue.values)&&a.arrayValue.values.some((i=>yu(this.value.arrayValue,i)))}}class Y3{constructor(t,a=null,i=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=a,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function ob(r,t=null,a=[],i=[],o=null,u=null,f=null){return new Y3(r,t,a,i,o,u,f)}function Pg(r){const t=Mt(r);if(t.Te===null){let a=t.path.canonicalString();t.collectionGroup!==null&&(a+="|cg:"+t.collectionGroup),a+="|f:",a+=t.filters.map((i=>Zm(i))).join(","),a+="|ob:",a+=t.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Ff(t.limit)||(a+="|l:",a+=t.limit),t.startAt&&(a+="|lb:",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((i=>Uo(i))).join(",")),t.endAt&&(a+="|ub:",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((i=>Uo(i))).join(",")),t.Te=a}return t.Te}function Bg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!L3(r.orderBy[a],t.orderBy[a]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if(!$E(r.filters[a],t.filters[a]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!sb(r.startAt,t.startAt)&&sb(r.endAt,t.endAt)}function Jm(r){return Ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Hf{constructor(t,a=null,i=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=a,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function K3(r,t,a,i,o,u,f,m){return new Hf(r,t,a,i,o,u,f,m)}function Fg(r){return new Hf(r)}function lb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Q3(r){return r.collectionGroup!==null}function su(r){const t=Mt(r);if(t.Ie===null){t.Ie=[];const a=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),a.add(u.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ze(hn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(t).forEach((u=>{a.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Af(u,i))})),a.has(hn.keyField().canonicalString())||t.Ie.push(new Af(hn.keyField(),i))}return t.Ie}function lr(r){const t=Mt(r);return t.Ee||(t.Ee=$3(t,su(r))),t.Ee}function $3(r,t){if(r.limitType==="F")return ob(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Af(o.field,u)}));const a=r.endAt?new Sf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Sf(r.startAt.position,r.startAt.inclusive):null;return ob(r.path,r.collectionGroup,t,r.filters,r.limit,a,i)}}function Wm(r,t,a){return new Hf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,a,r.startAt,r.endAt)}function Gf(r,t){return Bg(lr(r),lr(t))&&r.limitType===t.limitType}function JE(r){return`${Pg(lr(r))}|lt:${r.limitType}`}function xo(r){return`Query(target=${(function(a){let i=a.path.canonicalString();return a.collectionGroup!==null&&(i+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(i+=`, filters: [${a.filters.map((o=>XE(o))).join(", ")}]`),Ff(a.limit)||(i+=", limit: "+a.limit),a.orderBy.length>0&&(i+=`, orderBy: [${a.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),a.startAt&&(i+=", startAt: ",i+=a.startAt.inclusive?"b:":"a:",i+=a.startAt.position.map((o=>Uo(o))).join(",")),a.endAt&&(i+=", endAt: ",i+=a.endAt.inclusive?"a:":"b:",i+=a.endAt.position.map((o=>Uo(o))).join(",")),`Target(${i})`})(lr(r))}; limitType=${r.limitType})`}function Yf(r,t){return t.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Ct.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(r,t)&&(function(i,o){for(const u of su(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(i,o){return!(i.startAt&&!(function(f,m,g){const p=ib(f,m,g);return f.inclusive?p<=0:p<0})(i.startAt,su(i),o)||i.endAt&&!(function(f,m,g){const p=ib(f,m,g);return f.inclusive?p>=0:p>0})(i.endAt,su(i),o))})(r,t)}function X3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function WE(r){return(t,a)=>{let i=!1;for(const o of su(r)){const u=Z3(o,t,a);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function Z3(r,t,a){const i=r.field.isKeyField()?Ct.comparator(t.key,a.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?zo(g,p):Rt(42886)})(r.field,t,a);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:r.dir})}}class Ds{constructor(t,a){this.mapKeyFn=t,this.equalsFn=a,this.inner={},this.innerSize=0}get(t){const a=this.mapKeyFn(t),i=this.inner[a];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,a){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return this.inner[i]=[[t,a]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,a]);o.push([t,a]),this.innerSize++}delete(t){const a=this.mapKeyFn(t),i=this.inner[a];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[a]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){qi(this.inner,((a,i)=>{for(const[o,u]of i)t(o,u)}))}isEmpty(){return LE(this.inner)}size(){return this.innerSize}}const J3=new Ne(Ct.comparator);function Hr(){return J3}const t2=new Ne(Ct.comparator);function Jl(...r){let t=t2;for(const a of r)t=t.insert(a.key,a);return t}function e2(r){let t=t2;return r.forEach(((a,i)=>t=t.insert(a,i.overlayedDocument))),t}function Ts(){return ou()}function n2(){return ou()}function ou(){return new Ds((r=>r.toString()),((r,t)=>r.isEqual(t)))}const W3=new Ne(Ct.comparator),tR=new Ze(Ct.comparator);function Yt(...r){let t=tR;for(const a of r)t=t.add(a);return t}const eR=new Ze(Gt);function nR(){return eR}function qg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(t)?"-0":t}}function a2(r){return{integerValue:""+r}}function aR(r,t){return R3(t)?a2(t):qg(r,t)}class Kf{constructor(){this._=void 0}}function rR(r,t,a){return r instanceof wf?(function(o,u){const f={fields:{[PE]:{stringValue:UE},[FE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zg(u)&&(u=qf(u)),u&&(f.fields[BE]=u),{mapValue:f}})(a,t):r instanceof vu?i2(r,t):r instanceof bu?s2(r,t):(function(o,u){const f=r2(o,u),m=ub(f)+ub(o.Ae);return Xm(f)&&Xm(o.Ae)?a2(m):qg(o.serializer,m)})(r,t)}function iR(r,t,a){return r instanceof vu?i2(r,t):r instanceof bu?s2(r,t):a}function r2(r,t){return r instanceof Cf?(function(i){return Xm(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(t)?t:{integerValue:0}:null}class wf extends Kf{}class vu extends Kf{constructor(t){super(),this.elements=t}}function i2(r,t){const a=o2(t);for(const i of r.elements)a.some((o=>dr(o,i)))||a.push(i);return{arrayValue:{values:a}}}class bu extends Kf{constructor(t){super(),this.elements=t}}function s2(r,t){let a=o2(t);for(const i of r.elements)a=a.filter((o=>!dr(o,i)));return{arrayValue:{values:a}}}class Cf extends Kf{constructor(t,a){super(),this.serializer=t,this.Ae=a}}function ub(r){return je(r.integerValue||r.doubleValue)}function o2(r){return Ug(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function sR(r,t){return r.field.isEqual(t.field)&&(function(i,o){return i instanceof vu&&o instanceof vu||i instanceof bu&&o instanceof bu?Lo(i.elements,o.elements,dr):i instanceof Cf&&o instanceof Cf?dr(i.Ae,o.Ae):i instanceof wf&&o instanceof wf})(r.transform,t.transform)}class oR{constructor(t,a){this.version=t,this.transformResults=a}}class ur{constructor(t,a){this.updateTime=t,this.exists=a}static none(){return new ur}static exists(t){return new ur(void 0,t)}static updateTime(t){return new ur(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function df(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Qf{}function l2(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new c2(r.key,ur.none()):new Cu(r.key,r.data,ur.none());{const a=r.data,i=Vn.empty();let o=new Ze(hn.comparator);for(let u of t.fields)if(!o.has(u)){let f=a.field(u);f===null&&u.length>1&&(u=u.popLast(),f=a.field(u)),f===null?i.delete(u):i.set(u,f),o=o.add(u)}return new Hi(r.key,i,new Zn(o.toArray()),ur.none())}}function lR(r,t,a){r instanceof Cu?(function(o,u,f){const m=o.value.clone(),g=fb(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,a):r instanceof Hi?(function(o,u,f){if(!df(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=fb(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(u2(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,a):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,a)}function lu(r,t,a,i){return r instanceof Cu?(function(u,f,m,g){if(!df(u.precondition,f))return m;const p=u.value.clone(),_=hb(u.fieldTransforms,g,f);return p.setAll(_),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,t,a,i):r instanceof Hi?(function(u,f,m,g){if(!df(u.precondition,f))return m;const p=hb(u.fieldTransforms,g,f),_=f.data;return _.setAll(u2(u)),_.setAll(p),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(r,t,a,i):(function(u,f,m){return df(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,a)}function uR(r,t){let a=null;for(const i of r.fieldTransforms){const o=t.data.field(i.field),u=r2(i.transform,o||null);u!=null&&(a===null&&(a=Vn.empty()),a.set(i.field,u))}return a||null}function cb(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Lo(i,o,((u,f)=>sR(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Cu extends Qf{constructor(t,a,i,o=[]){super(),this.key=t,this.value=a,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hi extends Qf{constructor(t,a,i,o,u=[]){super(),this.key=t,this.data=a,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function u2(r){const t=new Map;return r.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const i=r.data.field(a);t.set(a,i)}})),t}function fb(r,t,a){const i=new Map;re(r.length===a.length,32656,{Re:a.length,Ve:r.length});for(let o=0;o<a.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);i.set(u.field,iR(f,m,a[o]))}return i}function hb(r,t,a){const i=new Map;for(const o of r){const u=o.transform,f=a.data.field(o.field);i.set(o.field,rR(u,f,t))}return i}class c2 extends Qf{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cR extends Qf{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fR{constructor(t,a,i,o){this.batchId=t,this.localWriteTime=a,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,a){const i=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&lR(u,t,i[o])}}applyToLocalView(t,a){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(a=lu(i,t,a,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(a=lu(i,t,a,this.localWriteTime));return a}applyToLocalDocumentSet(t,a){const i=n2();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=a.has(o.key)?null:m;const g=l2(f,m);g!==null&&i.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(kt.min())})),i}keys(){return this.mutations.reduce(((t,a)=>t.add(a.key)),Yt())}isEqual(t){return this.batchId===t.batchId&&Lo(this.mutations,t.mutations,((a,i)=>cb(a,i)))&&Lo(this.baseMutations,t.baseMutations,((a,i)=>cb(a,i)))}}class Hg{constructor(t,a,i,o){this.batch=t,this.commitVersion=a,this.mutationResults=i,this.docVersions=o}static from(t,a,i){re(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let o=(function(){return W3})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,i[f].version);return new Hg(t,a,i,o)}}class hR{constructor(t,a){this.largestBatchId=t,this.mutation=a}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dR{constructor(t,a){this.count=t,this.unchangedNames=a}}var Ge,Qt;function mR(r){switch(r){case nt.OK:return Rt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Rt(15467,{code:r})}}function f2(r){if(r===void 0)return Fr("GRPC error has no .code"),nt.UNKNOWN;switch(r){case Ge.OK:return nt.OK;case Ge.CANCELLED:return nt.CANCELLED;case Ge.UNKNOWN:return nt.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return nt.INTERNAL;case Ge.UNAVAILABLE:return nt.UNAVAILABLE;case Ge.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ge.NOT_FOUND:return nt.NOT_FOUND;case Ge.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ge.ABORTED:return nt.ABORTED;case Ge.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ge.DATA_LOSS:return nt.DATA_LOSS;default:return Rt(39323,{code:r})}}(Qt=Ge||(Ge={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function gR(){return new TextEncoder}const pR=new Ii([4294967295,4294967295],0);function db(r){const t=gR().encode(r),a=new CE;return a.update(t),new Uint8Array(a.digest())}function mb(r){const t=new DataView(r.buffer),a=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ii([a,i],0),new Ii([o,u],0)]}class Gg{constructor(t,a,i){if(this.bitmap=t,this.padding=a,this.hashCount=i,a<0||a>=8)throw new Wl(`Invalid padding: ${a}`);if(i<0)throw new Wl(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${i}`);if(t.length===0&&a!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*t.length-a,this.pe=Ii.fromNumber(this.ge)}ye(t,a,i){let o=t.add(a.multiply(Ii.fromNumber(i)));return o.compare(pR)===1&&(o=new Ii([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const a=db(t),[i,o]=mb(a);for(let u=0;u<this.hashCount;u++){const f=this.ye(i,o,u);if(!this.we(f))return!1}return!0}static create(t,a,i){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Gg(u,o,a);return i.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const a=db(t),[i,o]=mb(a);for(let u=0;u<this.hashCount;u++){const f=this.ye(i,o,u);this.Se(f)}}Se(t){const a=Math.floor(t/8),i=t%8;this.bitmap[a]|=1<<i}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $f{constructor(t,a,i,o,u){this.snapshotVersion=t,this.targetChanges=a,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,a,i){const o=new Map;return o.set(t,xu.createSynthesizedTargetChangeForCurrentChange(t,a,i)),new $f(kt.min(),o,new Ne(Gt),Hr(),Yt())}}class xu{constructor(t,a,i,o,u){this.resumeToken=t,this.current=a,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,a,i){return new xu(i,a,Yt(),Yt(),Yt())}}class mf{constructor(t,a,i,o){this.be=t,this.removedTargetIds=a,this.key=i,this.De=o}}class h2{constructor(t,a){this.targetId=t,this.Ce=a}}class d2{constructor(t,a,i=mn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=a,this.resumeToken=i,this.cause=o}}class gb{constructor(){this.ve=0,this.Fe=pb(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Yt(),a=Yt(),i=Yt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:a=a.add(o);break;case 1:i=i.add(o);break;default:Rt(38017,{changeType:u})}})),new xu(this.Me,this.xe,t,a,i)}qe(){this.Oe=!1,this.Fe=pb()}Qe(t,a){this.Oe=!0,this.Fe=this.Fe.insert(t,a)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Hr(),this.Je=af(),this.He=af(),this.Ye=new Ne(Gt)}Ze(t){for(const a of t.be)t.De&&t.De.isFoundDocument()?this.Xe(a,t.De):this.et(a,t.key,t.De);for(const a of t.removedTargetIds)this.et(a,t.key,t.De)}tt(t){this.forEachTarget(t,(a=>{const i=this.nt(a);switch(t.state){case 0:this.rt(a)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(a)&&(this.it(a),i.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,a){t.targetIds.length>0?t.targetIds.forEach(a):this.ze.forEach(((i,o)=>{this.rt(o)&&a(o)}))}st(t){const a=t.targetId,i=t.Ce.count,o=this.ot(a);if(o){const u=o.target;if(Jm(u))if(i===0){const f=new Ct(u.path);this.et(a,f,bn.newNoDocument(f,kt.min()))}else re(i===1,20013,{expectedCount:i});else{const f=this._t(a);if(f!==i){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(a);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,p)}}}}}ut(t){const a=t.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=a;let f,m;try{f=zi(i).toUint8Array()}catch(g){if(g instanceof zE)return jo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Gg(f,o,u)}catch(g){return jo(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,a,i){return a.Ce.count===i-this.Pt(t,a.targetId)?0:2}Pt(t,a){const i=this.Ge.getRemoteKeysForTarget(a);let o=0;return i.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(a,u,null),o++)})),o}Tt(t){const a=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Jm(m.target)){const g=new Ct(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,bn.newNoDocument(g,t))}u.Be&&(a.set(f,u.ke()),u.qe())}}));let i=Yt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new $f(t,a,this.Ye,this.je,i);return this.je=Hr(),this.Je=af(),this.He=af(),this.Ye=new Ne(Gt),o}Xe(t,a){if(!this.rt(t))return;const i=this.Et(t,a.key)?2:0;this.nt(t).Qe(a.key,i),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(t)),this.He=this.He.insert(a.key,this.dt(a.key).add(t))}et(t,a,i){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,a)?o.Qe(a,1):o.$e(a),this.He=this.He.insert(a,this.dt(a).delete(t)),this.He=this.He.insert(a,this.dt(a).add(t)),i&&(this.je=this.je.insert(a,i))}removeTarget(t){this.ze.delete(t)}_t(t){const a=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+a.addedDocuments.size-a.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let a=this.ze.get(t);return a||(a=new gb,this.ze.set(t,a)),a}dt(t){let a=this.He.get(t);return a||(a=new Ze(Gt),this.He=this.He.insert(t,a)),a}It(t){let a=this.Je.get(t);return a||(a=new Ze(Gt),this.Je=this.Je.insert(t,a)),a}rt(t){const a=this.ot(t)!==null;return a||pt("WatchChangeAggregator","Detected inactive target",t),a}ot(t){const a=this.ze.get(t);return a&&a.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new gb),this.Ge.getRemoteKeysForTarget(t).forEach((a=>{this.et(t,a,null)}))}Et(t,a){return this.Ge.getRemoteKeysForTarget(t).has(a)}}function af(){return new Ne(Ct.comparator)}function pb(){return new Ne(Ct.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},bR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_R={and:"AND",or:"OR"};class ER{constructor(t,a){this.databaseId=t,this.useProto3Json=a}}function tg(r,t){return r.useProto3Json||Ff(t)?t:{value:t}}function xf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function m2(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function TR(r,t){return xf(r,t.toTimestamp())}function cr(r){return re(!!r,49232),kt.fromTimestamp((function(a){const i=Li(a);return new Pt(i.seconds,i.nanos)})(r))}function Yg(r,t){return eg(r,t).canonicalString()}function eg(r,t){const a=(function(o){return new Ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?a:a.child(t)}function g2(r){const t=Ee.fromString(r);return re(_2(t),10190,{key:t.toString()}),t}function ng(r,t){return Yg(r.databaseId,t.path)}function _m(r,t){const a=g2(t);if(a.get(1)!==r.databaseId.projectId)throw new bt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+r.databaseId.projectId);if(a.get(3)!==r.databaseId.database)throw new bt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+r.databaseId.database);return new Ct(y2(a))}function p2(r,t){return Yg(r.databaseId,t)}function SR(r){const t=g2(r);return t.length===4?Ee.emptyPath():y2(t)}function ag(r){return new Ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function y2(r){return re(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function yb(r,t,a){return{name:ng(r,t),fields:a.value.mapValue.fields}}function AR(r,t){let a;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Rt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(p,_){return p.useProto3Json?(re(_===void 0||typeof _=="string",58123),mn.fromBase64String(_||"")):(re(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),mn.fromUint8Array(_||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(p){const _=p.code===void 0?nt.UNKNOWN:f2(p.code);return new bt(_,p.message||"")})(f);a=new d2(i,o,u,m||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const o=_m(r,i.document.name),u=cr(i.document.updateTime),f=i.document.createTime?cr(i.document.createTime):kt.min(),m=new Vn({mapValue:{fields:i.document.fields}}),g=bn.newFoundDocument(o,u,f,m),p=i.targetIds||[],_=i.removedTargetIds||[];a=new mf(p,_,g.key,g)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const o=_m(r,i.document),u=i.readTime?cr(i.readTime):kt.min(),f=bn.newNoDocument(o,u),m=i.removedTargetIds||[];a=new mf([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const o=_m(r,i.document),u=i.removedTargetIds||[];a=new mf([],u,o,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,f=new dR(o,u),m=i.targetId;a=new h2(m,f)}}return a}function wR(r,t){let a;if(t instanceof Cu)a={update:yb(r,t.key,t.value)};else if(t instanceof c2)a={delete:ng(r,t.key)};else if(t instanceof Hi)a={update:yb(r,t.key,t.data),updateMask:MR(t.fieldMask)};else{if(!(t instanceof cR))return Rt(16599,{Vt:t.type});a={verify:ng(r,t.key)}}return t.fieldTransforms.length>0&&(a.updateTransforms=t.fieldTransforms.map((i=>(function(u,f){const m=f.transform;if(m instanceof wf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Cf)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Rt(20930,{transform:f.transform})})(0,i)))),t.precondition.isNone||(a.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:TR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Rt(27497)})(r,t.precondition)),a}function CR(r,t){return r&&r.length>0?(re(t!==void 0,14353),r.map((a=>(function(o,u){let f=o.updateTime?cr(o.updateTime):cr(u);return f.isEqual(kt.min())&&(f=cr(u)),new oR(f,o.transformResults||[])})(a,t)))):[]}function xR(r,t){return{documents:[p2(r,t.path)]}}function NR(r,t){const a={structuredQuery:{}},i=t.path;let o;t.collectionGroup!==null?(o=i,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=i.popLast(),a.structuredQuery.from=[{collectionId:i.lastSegment()}]),a.parent=p2(r,o);const u=(function(p){if(p.length!==0)return b2(mr.create(p,"and"))})(t.filters);u&&(a.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((_=>(function(w){return{field:No(w.field),direction:DR(w.dir)}})(_)))})(t.orderBy);f&&(a.structuredQuery.orderBy=f);const m=tg(r,t.limit);return m!==null&&(a.structuredQuery.limit=m),t.startAt&&(a.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(a.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:a,parent:o}}function RR(r){let t=SR(r.parent);const a=r.structuredQuery,i=a.from?a.from.length:0;let o=null;if(i>0){re(i===1,65062);const _=a.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];a.where&&(u=(function(E){const w=v2(E);return w instanceof mr&&QE(w)?w.getFilters():[w]})(a.where));let f=[];a.orderBy&&(f=(function(E){return E.map((w=>(function(P){return new Af(Ro(P.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(w)))})(a.orderBy));let m=null;a.limit&&(m=(function(E){let w;return w=typeof E=="object"?E.value:E,Ff(w)?null:w})(a.limit));let g=null;a.startAt&&(g=(function(E){const w=!!E.before,D=E.values||[];return new Sf(D,w)})(a.startAt));let p=null;return a.endAt&&(p=(function(E){const w=!E.before,D=E.values||[];return new Sf(D,w)})(a.endAt)),K3(t,o,f,u,m,"F",g,p)}function IR(r,t){const a=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:o})}})(t.purpose);return a==null?null:{"goog-listen-tags":a}}function v2(r){return r.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const i=Ro(a.unaryFilter.field);return Xe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(a.unaryFilter.field);return Xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ro(a.unaryFilter.field);return Xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ro(a.unaryFilter.field);return Xe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(r):r.fieldFilter!==void 0?(function(a){return Xe.create(Ro(a.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(a){return mr.create(a.compositeFilter.filters.map((i=>v2(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(a.compositeFilter.op))})(r):Rt(30097,{filter:r})}function DR(r){return vR[r]}function kR(r){return bR[r]}function OR(r){return _R[r]}function No(r){return{fieldPath:r.canonicalString()}}function Ro(r){return hn.fromServerFormat(r.fieldPath)}function b2(r){return r instanceof Xe?(function(a){if(a.op==="=="){if(rb(a.value))return{unaryFilter:{field:No(a.field),op:"IS_NAN"}};if(ab(a.value))return{unaryFilter:{field:No(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(rb(a.value))return{unaryFilter:{field:No(a.field),op:"IS_NOT_NAN"}};if(ab(a.value))return{unaryFilter:{field:No(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(a.field),op:kR(a.op),value:a.value}}})(r):r instanceof mr?(function(a){const i=a.getFilters().map((o=>b2(o)));return i.length===1?i[0]:{compositeFilter:{op:OR(a.op),filters:i}}})(r):Rt(54877,{filter:r})}function MR(r){const t=[];return r.fields.forEach((a=>t.push(a.canonicalString()))),{fieldPaths:t}}function _2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class xi{constructor(t,a,i,o,u=kt.min(),f=kt.min(),m=mn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=a,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new xi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,a){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class VR{constructor(t){this.yt=t}}function jR(r){const t=RR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wm(t,t.limit,"L"):t}class LR{constructor(){this.Cn=new zR}addToCollectionParentIndex(t,a){return this.Cn.add(a),et.resolve()}getCollectionParents(t,a){return et.resolve(this.Cn.getEntries(a))}addFieldIndex(t,a){return et.resolve()}deleteFieldIndex(t,a){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,a){return et.resolve()}getDocumentsMatchingTarget(t,a){return et.resolve(null)}getIndexType(t,a){return et.resolve(0)}getFieldIndexes(t,a){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,a){return et.resolve(ji.min())}getMinOffsetFromCollectionGroup(t,a){return et.resolve(ji.min())}updateCollectionGroup(t,a,i){return et.resolve()}updateIndexEntries(t,a){return et.resolve()}}class zR{constructor(){this.index={}}add(t){const a=t.lastSegment(),i=t.popLast(),o=this.index[a]||new Ze(Ee.comparator),u=!o.has(i);return this.index[a]=o.add(i),u}has(t){const a=t.lastSegment(),i=t.popLast(),o=this.index[a];return o&&o.has(i)}getEntries(t){return(this.index[t]||new Ze(Ee.comparator)).toArray()}}const vb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E2=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,a,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=i}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(E2,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class Po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}const bb="LruGarbageCollector",UR=1048576;function _b([r,t],[a,i]){const o=Gt(r,a);return o===0?Gt(t,i):o}class PR{constructor(t){this.Ir=t,this.buffer=new Ze(_b),this.Er=0}dr(){return++this.Er}Ar(t){const a=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const i=this.buffer.last();_b(a,i)<0&&(this.buffer=this.buffer.delete(i).add(a))}}get maxValue(){return this.buffer.last()[0]}}class BR{constructor(t,a,i){this.garbageCollector=t,this.asyncQueue=a,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pt(bb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){Yo(a)?pt(bb,"Ignoring IndexedDB error during garbage collection: ",a):await Go(a)}await this.Vr(3e5)}))}}class FR{constructor(t,a){this.mr=t,this.params=a}calculateTargetCount(t,a){return this.mr.gr(t).next((i=>Math.floor(a/100*i)))}nthSequenceNumber(t,a){if(a===0)return et.resolve(Bf.ce);const i=new PR(a);return this.mr.forEachTarget(t,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(t,a,i){return this.mr.removeTargets(t,a,i)}removeOrphanedDocuments(t,a){return this.mr.removeOrphanedDocuments(t,a)}collect(t,a){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(vb)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vb):this.yr(t,a)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,a){let i,o,u,f,m,g,p;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(i=E,m=Date.now(),this.removeTargets(t,i,a)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(t,i)))).next((E=>(p=Date.now(),Co()<=$t.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${E} documents in `+(p-g)+`ms
Total Duration: ${p-_}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function qR(r,t){return new FR(r,t)}class HR{constructor(){this.changes=new Ds((t=>t.toString()),((t,a)=>t.isEqual(a))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,a){this.assertNotApplied(),this.changes.set(t,bn.newInvalidDocument(t).setReadTime(a))}getEntry(t,a){this.assertNotApplied();const i=this.changes.get(a);return i!==void 0?et.resolve(i):this.getFromCache(t,a)}getEntries(t,a){return this.getAllFromCache(t,a)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class GR{constructor(t,a){this.overlayedDocument=t,this.mutatedFields=a}}class YR{constructor(t,a,i,o){this.remoteDocumentCache=t,this.mutationQueue=a,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,a){let i=null;return this.documentOverlayCache.getOverlay(t,a).next((o=>(i=o,this.remoteDocumentCache.getEntry(t,a)))).next((o=>(i!==null&&lu(i.mutation,o,Zn.empty(),Pt.now()),o)))}getDocuments(t,a){return this.remoteDocumentCache.getEntries(t,a).next((i=>this.getLocalViewOfDocuments(t,i,Yt()).next((()=>i))))}getLocalViewOfDocuments(t,a,i=Yt()){const o=Ts();return this.populateOverlays(t,o,a).next((()=>this.computeViews(t,a,o,i).next((u=>{let f=Jl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,a){const i=Ts();return this.populateOverlays(t,i,a).next((()=>this.computeViews(t,a,i,Yt())))}populateOverlays(t,a,i){const o=[];return i.forEach((u=>{a.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{a.set(f,m)}))}))}computeViews(t,a,i,o){let u=Hr();const f=ou(),m=(function(){return ou()})();return a.forEach(((g,p)=>{const _=i.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof Hi)?u=u.insert(p.key,p):_!==void 0?(f.set(p.key,_.mutation.getFieldMask()),lu(_.mutation,p,_.mutation.getFieldMask(),Pt.now())):f.set(p.key,Zn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((p,_)=>f.set(p,_))),a.forEach(((p,_)=>m.set(p,new GR(_,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(t,a){const i=ou();let o=new Ne(((f,m)=>f-m)),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,a).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=a.get(g);if(p===null)return;let _=i.get(g)||Zn.empty();_=m.applyToLocalView(p,_),i.set(g,_);const E=(o.get(m.batchId)||Yt()).add(g);o=o.insert(m.batchId,E)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,_=g.value,E=n2();_.forEach((w=>{if(!u.has(w)){const D=l2(a.get(w),i.get(w));D!==null&&E.set(w,D),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,p,E))}return et.waitFor(f)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,a){return this.remoteDocumentCache.getEntries(t,a).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,a,i,o){return(function(f){return Ct.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(t,a.path):Q3(a)?this.getDocumentsMatchingCollectionGroupQuery(t,a,i,o):this.getDocumentsMatchingCollectionQuery(t,a,i,o)}getNextDocuments(t,a,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,a,i,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,a,i.largestBatchId,o-u.size):et.resolve(Ts());let m=mu,g=u;return f.next((p=>et.forEach(p,((_,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(_)?et.resolve():this.remoteDocumentCache.getEntry(t,_).next((w=>{g=g.insert(_,w)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,g,p,Yt()))).next((_=>({batchId:m,changes:e2(_)})))))}))}getDocumentsMatchingDocumentQuery(t,a){return this.getDocument(t,new Ct(a)).next((i=>{let o=Jl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(t,a,i,o){const u=a.collectionGroup;let f=Jl();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(g=>{const p=(function(E,w){return new Hf(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(a,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,i,o).next((_=>{_.forEach(((E,w)=>{f=f.insert(E,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,a,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,a.path,i.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,a,i,u,o)))).next((f=>{u.forEach(((g,p)=>{const _=p.getKey();f.get(_)===null&&(f=f.insert(_,bn.newInvalidDocument(_)))}));let m=Jl();return f.forEach(((g,p)=>{const _=u.get(g);_!==void 0&&lu(_.mutation,p,Zn.empty(),Pt.now()),Yf(a,p)&&(m=m.insert(g,p))})),m}))}}class KR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,a){return et.resolve(this.Lr.get(a))}saveBundleMetadata(t,a){return this.Lr.set(a.id,(function(o){return{id:o.id,version:o.version,createTime:cr(o.createTime)}})(a)),et.resolve()}getNamedQuery(t,a){return et.resolve(this.kr.get(a))}saveNamedQuery(t,a){return this.kr.set(a.name,(function(o){return{name:o.name,query:jR(o.bundledQuery),readTime:cr(o.readTime)}})(a)),et.resolve()}}class QR{constructor(){this.overlays=new Ne(Ct.comparator),this.qr=new Map}getOverlay(t,a){return et.resolve(this.overlays.get(a))}getOverlays(t,a){const i=Ts();return et.forEach(a,(o=>this.getOverlay(t,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(t,a,i){return i.forEach(((o,u)=>{this.St(t,a,u)})),et.resolve()}removeOverlaysForBatchId(t,a,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(i)),et.resolve()}getOverlaysForCollection(t,a,i){const o=Ts(),u=a.length+1,f=new Ct(a.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!a.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return et.resolve(o)}getOverlaysForCollectionGroup(t,a,i,o){let u=new Ne(((p,_)=>p-_));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===a&&p.largestBatchId>i){let _=u.get(p.largestBatchId);_===null&&(_=Ts(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const m=Ts(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,_)=>m.set(p,_))),!(m.size()>=o)););return et.resolve(m)}St(t,a,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new hR(a,i));let u=this.qr.get(a);u===void 0&&(u=Yt(),this.qr.set(a,u)),this.qr.set(a,u.add(i.key))}}class $R{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,a){return this.sessionToken=a,et.resolve()}}class Kg{constructor(){this.Qr=new Ze(en.$r),this.Ur=new Ze(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,a){const i=new en(t,a);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,a){t.forEach((i=>this.addReference(i,a)))}removeReference(t,a){this.Gr(new en(t,a))}zr(t,a){t.forEach((i=>this.removeReference(i,a)))}jr(t){const a=new Ct(new Ee([])),i=new en(a,t),o=new en(a,t+1),u=[];return this.Ur.forEachInRange([i,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const a=new Ct(new Ee([])),i=new en(a,t),o=new en(a,t+1);let u=Yt();return this.Ur.forEachInRange([i,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const a=new en(t,0),i=this.Qr.firstAfterOrEqual(a);return i!==null&&t.isEqual(i.key)}}class en{constructor(t,a){this.key=t,this.Yr=a}static $r(t,a){return Ct.comparator(t.key,a.key)||Gt(t.Yr,a.Yr)}static Kr(t,a){return Gt(t.Yr,a.Yr)||Ct.comparator(t.key,a.key)}}class XR{constructor(t,a){this.indexManager=t,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(en.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,a,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new fR(u,a,i,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new en(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,a){return et.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(t,a){const i=a+1,o=this.ei(i),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Lg:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,a){const i=new en(a,0),o=new en(a,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,a){let i=new Ze(Gt);return a.forEach((o=>{const u=new en(o,0),f=new en(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{i=i.add(m.Yr)}))})),et.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,a){const i=a.path,o=i.length+1;let u=i;Ct.isDocumentKey(u)||(u=u.child(""));const f=new en(new Ct(u),0);let m=new Ze(Gt);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),et.resolve(this.ti(m))}ti(t){const a=[];return t.forEach((i=>{const o=this.Xr(i);o!==null&&a.push(o)})),a}removeMutationBatch(t,a){re(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return et.forEach(a.mutations,(o=>{const u=new en(o.key,a.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,a){const i=new en(a,0),o=this.Zr.firstAfterOrEqual(i);return et.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,a){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const a=this.ei(t);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}class ZR{constructor(t){this.ri=t,this.docs=(function(){return new Ne(Ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,a){const i=a.key,o=this.docs.get(i),u=o?o.size:0,f=this.ri(a);return this.docs=this.docs.insert(i,{document:a.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const a=this.docs.get(t);a&&(this.docs=this.docs.remove(t),this.size-=a.size)}getEntry(t,a){const i=this.docs.get(a);return et.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(a))}getEntries(t,a){let i=Hr();return a.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():bn.newInvalidDocument(o))})),et.resolve(i)}getDocumentsMatchingQuery(t,a,i,o){let u=Hr();const f=a.path,m=new Ct(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:_}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||w3(A3(_),i)<=0||(o.has(_.key)||Yf(a,_))&&(u=u.insert(_.key,_.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,a,i,o){Rt(9500)}ii(t,a){return et.forEach(this.docs,(i=>a(i)))}newChangeBuffer(t){return new JR(this)}getSize(t){return et.resolve(this.size)}}class JR extends HR{constructor(t){super(),this.Nr=t}applyChanges(t){const a=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?a.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(i)})),et.waitFor(a)}getFromCache(t,a){return this.Nr.getEntry(t,a)}getAllFromCache(t,a){return this.Nr.getEntries(t,a)}}class WR{constructor(t){this.persistence=t,this.si=new Ds((a=>Pg(a)),Bg),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.oi=0,this._i=new Kg,this.targetCount=0,this.ai=Po.ur()}forEachTarget(t,a){return this.si.forEach(((i,o)=>a(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,a,i){return i&&(this.lastRemoteSnapshotVersion=i),a>this.oi&&(this.oi=a),et.resolve()}Pr(t){this.si.set(t.target,t);const a=t.targetId;a>this.highestTargetId&&(this.ai=new Po(a),this.highestTargetId=a),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,a){return this.Pr(a),this.targetCount+=1,et.resolve()}updateTargetData(t,a){return this.Pr(a),et.resolve()}removeTargetData(t,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,a,i){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=a&&i.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,a){const i=this.si.get(a)||null;return et.resolve(i)}addMatchingKeys(t,a,i){return this._i.Wr(a,i),et.resolve()}removeMatchingKeys(t,a,i){this._i.zr(a,i);const o=this.persistence.referenceDelegate,u=[];return o&&a.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,a){return this._i.jr(a),et.resolve()}getMatchingKeysForTargetId(t,a){const i=this._i.Hr(a);return et.resolve(i)}containsKey(t,a){return et.resolve(this._i.containsKey(a))}}class T2{constructor(t,a){this.ui={},this.overlays={},this.ci=new Bf(0),this.li=!1,this.li=!0,this.hi=new $R,this.referenceDelegate=t(this),this.Pi=new WR(this),this.indexManager=new LR,this.remoteDocumentCache=(function(o){return new ZR(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new VR(a),this.Ii=new KR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let a=this.overlays[t.toKey()];return a||(a=new QR,this.overlays[t.toKey()]=a),a}getMutationQueue(t,a){let i=this.ui[t.toKey()];return i||(i=new XR(a,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,a,i){pt("MemoryPersistence","Starting transaction:",t);const o=new tI(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,a){return et.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,a))))}}class tI extends x3{constructor(t){super(),this.currentSequenceNumber=t}}class Qg{constructor(t){this.persistence=t,this.Ri=new Kg,this.Vi=null}static mi(t){return new Qg(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,a,i){return this.Ri.addReference(i,a),this.fi.delete(i.toString()),et.resolve()}removeReference(t,a,i){return this.Ri.removeReference(i,a),this.fi.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,a){return this.fi.add(a.toString()),et.resolve()}removeTarget(t,a){this.Ri.jr(a.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,a.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>i.removeTargetData(t,a)))}Ei(){this.Vi=new Set}di(t){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(i=>{const o=Ct.fromPath(i);return this.gi(t,o).next((u=>{u||a.removeEntry(o,kt.min())}))})).next((()=>(this.Vi=null,a.apply(t))))}updateLimboDocument(t,a){return this.gi(t,a).next((i=>{i?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(t){return 0}gi(t,a){return et.or([()=>et.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(t,a),()=>this.persistence.Ai(t,a)])}}class Nf{constructor(t,a){this.persistence=t,this.pi=new Ds((i=>I3(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=qR(this,a)}static mi(t,a){return new Nf(t,a)}Ei(){}di(t){return et.resolve()}forEachTarget(t,a){return this.persistence.getTargetCache().forEachTarget(t,a)}gr(t){const a=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>a.next((o=>i+o))))}wr(t){let a=0;return this.pr(t,(i=>{a++})).next((()=>a))}pr(t,a){return et.forEach(this.pi,((i,o)=>this.br(t,i,o).next((u=>u?et.resolve():a(o)))))}removeTargets(t,a,i){return this.persistence.getTargetCache().removeTargets(t,a,i)}removeOrphanedDocuments(t,a){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,a).next((m=>{m||(i++,u.removeEntry(f,kt.min()))})))).next((()=>u.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,a){return this.pi.set(a,t.currentSequenceNumber),et.resolve()}removeTarget(t,a){const i=a.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,a,i){return this.pi.set(i,t.currentSequenceNumber),et.resolve()}removeReference(t,a,i){return this.pi.set(i,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,a){return this.pi.set(a,t.currentSequenceNumber),et.resolve()}Ti(t){let a=t.key.toString().length;return t.isFoundDocument()&&(a+=ff(t.data.value)),a}br(t,a,i){return et.or([()=>this.persistence.Ai(t,a),()=>this.persistence.getTargetCache().containsKey(t,a),()=>{const o=this.pi.get(a);return et.resolve(o!==void 0&&o>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class $g{constructor(t,a,i,o){this.targetId=t,this.fromCache=a,this.Es=i,this.ds=o}static As(t,a){let i=Yt(),o=Yt();for(const u of a.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new $g(t,a.fromCache,i,o)}}class eI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class nI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Y4()?8:N3(q4())>0?6:4})()}initialize(t,a){this.ps=t,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(t,a,i,o){const u={result:null};return this.ys(t,a).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,a,o,i).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new eI;return this.Ss(t,a,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,a,f,m.size)}))})).next((()=>u.result))}bs(t,a,i,o){return i.documentReadCount<this.fs?(Co()<=$t.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",xo(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(Co()<=$t.DEBUG&&pt("QueryEngine","Query:",xo(a),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Co()<=$t.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",xo(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lr(a))):et.resolve())}ys(t,a){if(lb(a))return et.resolve(null);let i=lr(a);return this.indexManager.getIndexType(t,i).next((o=>o===0?null:(a.limit!==null&&o===1&&(a=Wm(a,null,"F"),i=lr(a)),this.indexManager.getDocumentsMatchingTarget(t,i).next((u=>{const f=Yt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,i).next((g=>{const p=this.Ds(a,m);return this.Cs(a,p,f,g.readTime)?this.ys(t,Wm(a,null,"F")):this.vs(t,p,a,g)}))))})))))}ws(t,a,i,o){return lb(a)||o.isEqual(kt.min())?et.resolve(null):this.ps.getDocuments(t,i).next((u=>{const f=this.Ds(a,u);return this.Cs(a,f,i,o)?et.resolve(null):(Co()<=$t.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(a)),this.vs(t,f,a,S3(o,mu)).next((m=>m)))}))}Ds(t,a){let i=new Ze(WE(t));return a.forEach(((o,u)=>{Yf(t,u)&&(i=i.add(u))})),i}Cs(t,a,i,o){if(t.limit===null)return!1;if(i.size!==a.size)return!0;const u=t.limitType==="F"?a.last():a.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,a,i){return Co()<=$t.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",xo(a)),this.ps.getDocumentsMatchingQuery(t,a,ji.min(),i)}vs(t,a,i,o){return this.ps.getDocumentsMatchingQuery(t,i,o).next((u=>(a.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Xg="LocalStore",aI=3e8;class rI{constructor(t,a,i,o){this.persistence=t,this.Fs=a,this.serializer=o,this.Ms=new Ne(Gt),this.xs=new Ds((u=>Pg(u)),Bg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>t.collect(a,this.Ms)))}}function iI(r,t,a,i){return new rI(r,t,a,i)}async function S2(r,t){const a=Mt(r);return await a.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return a.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,a.Bs(t),a.mutationQueue.getAllMutationBatches(i)))).next((u=>{const f=[],m=[];let g=Yt();for(const p of o){f.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}for(const p of u){m.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}return a.localDocuments.getDocuments(i,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function sI(r,t){const a=Mt(r);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=t.batch.keys(),u=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,_){const E=p.batch,w=E.keys();let D=et.resolve();return w.forEach((P=>{D=D.next((()=>_.getEntry(g,P))).next((Y=>{const q=p.docVersions.get(P);re(q!==null,48541),Y.version.compareTo(q)<0&&(E.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),_.addEntry(Y)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(g,E)))})(a,i,t,u).next((()=>u.apply(i))).next((()=>a.mutationQueue.performConsistencyCheck(i))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let g=Yt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(t)))).next((()=>a.localDocuments.getDocuments(i,o)))}))}function A2(r){const t=Mt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>t.Pi.getLastRemoteSnapshotVersion(a)))}function oI(r,t){const a=Mt(r),i=t.snapshotVersion;let o=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=a.Ns.newChangeBuffer({trackRemovals:!0});o=a.Ms;const m=[];t.targetChanges.forEach(((_,E)=>{const w=o.get(E);if(!w)return;m.push(a.Pi.removeMatchingKeys(u,_.removedDocuments,E).next((()=>a.Pi.addMatchingKeys(u,_.addedDocuments,E))));let D=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?D=D.withResumeToken(mn.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,i)),o=o.insert(E,D),(function(Y,q,lt){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=aI?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(w,D,_)&&m.push(a.Pi.updateTargetData(u,D))}));let g=Hr(),p=Yt();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&m.push(a.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(lI(u,f,t.documentUpdates).next((_=>{g=_.ks,p=_.qs}))),!i.isEqual(kt.min())){const _=a.Pi.getLastRemoteSnapshotVersion(u).next((E=>a.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i)));m.push(_)}return et.waitFor(m).next((()=>f.apply(u))).next((()=>a.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(a.Ms=o,u)))}function lI(r,t,a){let i=Yt(),o=Yt();return a.forEach((u=>i=i.add(u))),t.getEntries(r,i).next((u=>{let f=Hr();return a.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(kt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):pt(Xg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function uI(r,t){const a=Mt(r);return a.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Lg),a.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function cI(r,t){const a=Mt(r);return a.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return a.Pi.getTargetData(i,t).next((u=>u?(o=u,et.resolve(o)):a.Pi.allocateTargetId(i).next((f=>(o=new xi(t,f,"TargetPurposeListen",i.currentSequenceNumber),a.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=a.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(i.targetId,i),a.xs.set(t,i.targetId)),i}))}async function rg(r,t,a){const i=Mt(r),o=i.Ms.get(t),u=a?"readwrite":"readwrite-primary";try{a||await i.persistence.runTransaction("Release target",u,(f=>i.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Yo(f))throw f;pt(Xg,`Failed to update sequence numbers for target ${t}: ${f}`)}i.Ms=i.Ms.remove(t),i.xs.delete(o.target)}function Eb(r,t,a){const i=Mt(r);let o=kt.min(),u=Yt();return i.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,_){const E=Mt(g),w=E.xs.get(_);return w!==void 0?et.resolve(E.Ms.get(w)):E.Pi.getTargetData(p,_)})(i,f,lr(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(f,t,a?o:kt.min(),a?u:Yt()))).next((m=>(fI(i,X3(t),m),{documents:m,Qs:u})))))}function fI(r,t,a){let i=r.Os.get(t)||kt.min();a.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),r.Os.set(t,i)}class Tb{constructor(){this.activeTargetIds=nR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hI{constructor(){this.Mo=new Tb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,a,i){}addLocalQueryTarget(t,a=!0){return a&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,a,i){this.xo[t]=a}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Tb,Promise.resolve()}handleUserChange(t,a,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dI{Oo(t){}shutdown(){}}const Sb="ConnectivityMonitor";class Ab{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(Sb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pt(Sb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rf=null;function ig(){return rf===null?rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():rf++,"0x"+rf.toString(16)}const Em="RestConnection",mI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const a=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+t.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Ef?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(t,a,i,o,u){const f=ig(),m=this.zo(t,a.toUriEncodedString());pt(Em,`Sending RPC '${t}' ${f}:`,m,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),_=Dg(p);return this.Jo(t,m,g,i,_).then((E=>(pt(Em,`Received RPC '${t}' ${f}: `,E),E)),(E=>{throw jo(Em,`RPC '${t}' ${f} failed with error: `,E,"url: ",m,"request:",i),E}))}Ho(t,a,i,o,u,f){return this.Go(t,a,i,o,u)}jo(t,a,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((o,u)=>t[u]=o)),i&&i.headers.forEach(((o,u)=>t[u]=o))}zo(t,a){const i=mI[t];return`${this.Uo}/v1/${a}:${i}`}terminate(){}}class pI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const yn="WebChannelConnection";class yI extends gI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,a,i,o,u){const f=ig();return new Promise(((m,g)=>{const p=new xE;p.setWithCredentials(!0),p.listenOnce(NE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case cf.NO_ERROR:const E=p.getResponseJson();pt(yn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(E)),m(E);break;case cf.TIMEOUT:pt(yn,`RPC '${t}' ${f} timed out`),g(new bt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case cf.HTTP_ERROR:const w=p.getStatus();if(pt(yn,`RPC '${t}' ${f} failed with status:`,w,"response text:",p.getResponseText()),w>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D?.error;if(P&&P.status&&P.message){const Y=(function(lt){const at=lt.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(at)>=0?at:nt.UNKNOWN})(P.status);g(new bt(Y,P.message))}else g(new bt(nt.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new bt(nt.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pt(yn,`RPC '${t}' ${f} completed.`)}}));const _=JSON.stringify(o);pt(yn,`RPC '${t}' ${f} sending request:`,o),p.send(a,"POST",_,i,15)}))}T_(t,a,i){const o=ig(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=DE(),m=IE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,a,i),g.encodeInitMessageHeaders=!0;const _=u.join("");pt(yn,`Creating RPC '${t}' stream ${o}: ${_}`,g);const E=f.createWebChannel(_,g);this.I_(E);let w=!1,D=!1;const P=new pI({Yo:q=>{D?pt(yn,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(w||(pt(yn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),w=!0),pt(yn,`RPC '${t}' stream ${o} sending:`,q),E.send(q))},Zo:()=>E.close()}),Y=(q,lt,at)=>{q.listen(lt,(rt=>{try{at(rt)}catch(yt){setTimeout((()=>{throw yt}),0)}}))};return Y(E,Zl.EventType.OPEN,(()=>{D||(pt(yn,`RPC '${t}' stream ${o} transport opened.`),P.o_())})),Y(E,Zl.EventType.CLOSE,(()=>{D||(D=!0,pt(yn,`RPC '${t}' stream ${o} transport closed`),P.a_(),this.E_(E))})),Y(E,Zl.EventType.ERROR,(q=>{D||(D=!0,jo(yn,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),P.a_(new bt(nt.UNAVAILABLE,"The operation could not be completed")))})),Y(E,Zl.EventType.MESSAGE,(q=>{if(!D){const lt=q.data[0];re(!!lt,16349);const at=lt,rt=at?.error||at[0]?.error;if(rt){pt(yn,`RPC '${t}' stream ${o} received error:`,rt);const yt=rt.status;let st=(function(C){const I=Ge[C];if(I!==void 0)return f2(I)})(yt),It=rt.message;st===void 0&&(st=nt.INTERNAL,It="Unknown error status: "+yt+" with message "+rt.message),D=!0,P.a_(new bt(st,It)),E.close()}else pt(yn,`RPC '${t}' stream ${o} received:`,lt),P.u_(lt)}})),Y(m,RE.STAT_EVENT,(q=>{q.stat===Km.PROXY?pt(yn,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===Km.NOPROXY&&pt(yn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((a=>a===t))}}function Tm(){return typeof document<"u"?document:null}function Xf(r){return new ER(r,!0)}class w2{constructor(t,a,i=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=a,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const a=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,a-i);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const wb="PersistentStream";class C2{constructor(t,a,i,o,u,f,m,g){this.Mi=t,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w2(t,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():a&&a.code===nt.RESOURCE_EXHAUSTED?(Fr(a.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(a)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===a&&this.G_(i,o)}),(i=>{t((()=>{const o=new bt(nt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(t,a){const i=this.W_(this.D_);this.stream=this.j_(t,a),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(wb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return a=>{this.Mi.enqueueAndForget((()=>this.D_===t?a():(pt(wb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vI extends C2{constructor(t,a,i,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,i,o,f),this.serializer=u}j_(t,a){return this.connection.T_("Listen",t,a)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const a=AR(this.serializer,t),i=(function(u){if(!("targetChange"in u))return kt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?kt.min():f.readTime?cr(f.readTime):kt.min()})(t);return this.listener.H_(a,i)}Y_(t){const a={};a.database=ag(this.serializer),a.addTarget=(function(u,f){let m;const g=f.target;if(m=Jm(g)?{documents:xR(u,g)}:{query:NR(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=m2(u,f.resumeToken);const p=tg(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(kt.min())>0){m.readTime=xf(u,f.snapshotVersion.toTimestamp());const p=tg(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,t);const i=IR(this.serializer,t);i&&(a.labels=i),this.q_(a)}Z_(t){const a={};a.database=ag(this.serializer),a.removeTarget=t,this.q_(a)}}class bI extends C2{constructor(t,a,i,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,i,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,a){return this.connection.T_("Write",t,a)}J_(t){return re(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,re(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){re(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const a=CR(t.writeResults,t.commitTime),i=cr(t.commitTime);return this.listener.na(i,a)}ra(){const t={};t.database=ag(this.serializer),this.q_(t)}ea(t){const a={streamToken:this.lastStreamToken,writes:t.map((i=>wR(this.serializer,i)))};this.q_(a)}}class _I{}class EI extends _I{constructor(t,a,i,o){super(),this.authCredentials=t,this.appCheckCredentials=a,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new bt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,a,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,eg(a,i),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new bt(nt.UNKNOWN,u.toString())}))}Ho(t,a,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,eg(a,i),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new bt(nt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TI{constructor(t,a){this.asyncQueue=t,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const a=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fr(a),this.aa=!1):pt("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ns="RemoteStore";class SI{constructor(t,a,i,o,u){this.localStore=t,this.datastore=a,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{i.enqueueAndForget((async()=>{ks(this)&&(pt(Ns,"Restarting streams for network reachability change."),await(async function(g){const p=Mt(g);p.Ea.add(4),await Nu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Zf(p)})(this))}))})),this.Ra=new TI(i,o)}}async function Zf(r){if(ks(r))for(const t of r.da)await t(!0)}async function Nu(r){for(const t of r.da)await t(!1)}function x2(r,t){const a=Mt(r);a.Ia.has(t.targetId)||(a.Ia.set(t.targetId,t),tp(a)?Wg(a):Ko(a).O_()&&Jg(a,t))}function Zg(r,t){const a=Mt(r),i=Ko(a);a.Ia.delete(t),i.O_()&&N2(a,t),a.Ia.size===0&&(i.O_()?i.L_():ks(a)&&a.Ra.set("Unknown"))}function Jg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kt.min())>0){const a=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(a)}Ko(r).Y_(t)}function N2(r,t){r.Va.Ue(t),Ko(r).Z_(t)}function Wg(r){r.Va=new yR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ko(r).start(),r.Ra.ua()}function tp(r){return ks(r)&&!Ko(r).x_()&&r.Ia.size>0}function ks(r){return Mt(r).Ea.size===0}function R2(r){r.Va=void 0}async function AI(r){r.Ra.set("Online")}async function wI(r){r.Ia.forEach(((t,a)=>{Jg(r,t)}))}async function CI(r,t){R2(r),tp(r)?(r.Ra.ha(t),Wg(r)):r.Ra.set("Unknown")}async function xI(r,t,a){if(r.Ra.set("Online"),t instanceof d2&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(i){pt(Ns,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Rf(r,i)}else if(t instanceof mf?r.Va.Ze(t):t instanceof h2?r.Va.st(t):r.Va.tt(t),!a.isEqual(kt.min()))try{const i=await A2(r.localStore);a.compareTo(i)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(p);_&&u.Ia.set(p,_.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(mn.EMPTY_BYTE_STRING,_.snapshotVersion)),N2(u,g);const E=new xi(_.target,g,p,_.sequenceNumber);Jg(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(r,a)}catch(i){pt(Ns,"Failed to raise snapshot:",i),await Rf(r,i)}}async function Rf(r,t,a){if(!Yo(t))throw t;r.Ea.add(1),await Nu(r),r.Ra.set("Offline"),a||(a=()=>A2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pt(Ns,"Retrying IndexedDB access"),await a(),r.Ea.delete(1),await Zf(r)}))}function I2(r,t){return t().catch((a=>Rf(r,a,t)))}async function Jf(r){const t=Mt(r),a=Pi(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lg;for(;NI(t);)try{const o=await uI(t.localStore,i);if(o===null){t.Ta.length===0&&a.L_();break}i=o.batchId,RI(t,o)}catch(o){await Rf(t,o)}D2(t)&&k2(t)}function NI(r){return ks(r)&&r.Ta.length<10}function RI(r,t){r.Ta.push(t);const a=Pi(r);a.O_()&&a.X_&&a.ea(t.mutations)}function D2(r){return ks(r)&&!Pi(r).x_()&&r.Ta.length>0}function k2(r){Pi(r).start()}async function II(r){Pi(r).ra()}async function DI(r){const t=Pi(r);for(const a of r.Ta)t.ea(a.mutations)}async function kI(r,t,a){const i=r.Ta.shift(),o=Hg.from(i,t,a);await I2(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Jf(r)}async function OI(r,t){t&&Pi(r).X_&&await(async function(i,o){if((function(f){return mR(f)&&f!==nt.ABORTED})(o.code)){const u=i.Ta.shift();Pi(i).B_(),await I2(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Jf(i)}})(r,t),D2(r)&&k2(r)}async function Cb(r,t){const a=Mt(r);a.asyncQueue.verifyOperationInProgress(),pt(Ns,"RemoteStore received new credentials");const i=ks(a);a.Ea.add(3),await Nu(a),i&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(t),a.Ea.delete(3),await Zf(a)}async function MI(r,t){const a=Mt(r);t?(a.Ea.delete(2),await Zf(a)):t||(a.Ea.add(2),await Nu(a),a.Ra.set("Unknown"))}function Ko(r){return r.ma||(r.ma=(function(a,i,o){const u=Mt(a);return u.sa(),new vI(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:AI.bind(null,r),t_:wI.bind(null,r),r_:CI.bind(null,r),H_:xI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),tp(r)?Wg(r):r.Ra.set("Unknown")):(await r.ma.stop(),R2(r))}))),r.ma}function Pi(r){return r.fa||(r.fa=(function(a,i,o){const u=Mt(a);return u.sa(),new bI(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:II.bind(null,r),r_:OI.bind(null,r),ta:DI.bind(null,r),na:kI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Jf(r)):(await r.fa.stop(),r.Ta.length>0&&(pt(Ns,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ep{constructor(t,a,i,o,u){this.asyncQueue=t,this.timerId=a,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,a,i,o,u){const f=Date.now()+i,m=new ep(t,a,f,o,u);return m.start(i),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,t){if(Fr("AsyncQueue",`${t}: ${r}`),Yo(r))return new bt(nt.UNAVAILABLE,`${t}: ${r}`);throw r}class ko{static emptySet(t){return new ko(t.comparator)}constructor(t){this.comparator=t?(a,i)=>t(a,i)||Ct.comparator(a.key,i.key):(a,i)=>Ct.comparator(a.key,i.key),this.keyedMap=Jl(),this.sortedSet=new Ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const a=this.keyedMap.get(t);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((a,i)=>(t(a),!1)))}add(t){const a=this.delete(t.key);return a.copy(a.keyedMap.insert(t.key,t),a.sortedSet.insert(t,null))}delete(t){const a=this.get(t);return a?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(a)):this}isEqual(t){if(!(t instanceof ko)||this.size!==t.size)return!1;const a=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((a=>{t.push(a.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,a){const i=new ko;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=a,i}}class xb{constructor(){this.ga=new Ne(Ct.comparator)}track(t){const a=t.doc.key,i=this.ga.get(a);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(a,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(a,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(a,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(a):t.type===1&&i.type===2?this.ga=this.ga.insert(a,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(a,t)}ya(){const t=[];return this.ga.inorderTraversal(((a,i)=>{t.push(i)})),t}}class Bo{constructor(t,a,i,o,u,f,m,g,p){this.query=t,this.docs=a,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,a,i,o,u){const f=[];return a.forEach((m=>{f.push({type:0,doc:m})})),new Bo(t,a,ko.emptySet(a),f,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const a=this.docChanges,i=t.docChanges;if(a.length!==i.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==i[o].type||!a[o].doc.isEqual(i[o].doc))return!1;return!0}}class VI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class jI{constructor(){this.queries=Nb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,i){const o=Mt(a),u=o.queries;o.queries=Nb(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(i)}))})(this,new bt(nt.ABORTED,"Firestore shutting down"))}}function Nb(){return new Ds((r=>JE(r)),Gf)}async function O2(r,t){const a=Mt(r);let i=3;const o=t.query;let u=a.queries.get(o);u?!u.ba()&&t.Da()&&(i=2):(u=new VI,i=t.Da()?0:1);try{switch(i){case 0:u.wa=await a.onListen(o,!0);break;case 1:u.wa=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(f){const m=np(f,`Initialization of query '${xo(t.query)}' failed`);return void t.onError(m)}a.queries.set(o,u),u.Sa.push(t),t.va(a.onlineState),u.wa&&t.Fa(u.wa)&&ap(a)}async function M2(r,t){const a=Mt(r),i=t.query;let o=3;const u=a.queries.get(i);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return a.queries.delete(i),a.onUnlisten(i,!0);case 1:return a.queries.delete(i),a.onUnlisten(i,!1);case 2:return a.onLastRemoteStoreUnlisten(i);default:return}}function LI(r,t){const a=Mt(r);let i=!1;for(const o of t){const u=o.query,f=a.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(i=!0);f.wa=o}}i&&ap(a)}function zI(r,t,a){const i=Mt(r),o=i.queries.get(t);if(o)for(const u of o.Sa)u.onError(a);i.queries.delete(t)}function ap(r){r.Ca.forEach((t=>{t.next()}))}var sg,Rb;(Rb=sg||(sg={})).Ma="default",Rb.Cache="cache";class V2{constructor(t,a,i){this.query=t,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)o.type!==3&&i.push(o);t=new Bo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let a=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),a=!0):this.La(t,this.onlineState)&&(this.ka(t),a=!0),this.Na=t,a}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),a=!0),a}La(t,a){if(!t.fromCache||!this.Da())return!0;const i=a!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||a==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(t){t=Bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sg.Cache}}class j2{constructor(t){this.key=t}}class L2{constructor(t){this.key=t}}class UI{constructor(t,a){this.query=t,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Yt(),this.mutatedKeys=Yt(),this.eu=WE(t),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(t,a){const i=a?a.iu:new xb,o=a?a.tu:this.tu;let u=a?a.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,E)=>{const w=o.get(_),D=Yf(this.query,E)?E:null,P=!!w&&this.mutatedKeys.has(w.key),Y=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let q=!1;w&&D?w.data.isEqual(D.data)?P!==Y&&(i.track({type:3,doc:D}),q=!0):this.su(w,D)||(i.track({type:2,doc:D}),q=!0,(g&&this.eu(D,g)>0||p&&this.eu(D,p)<0)&&(m=!0)):!w&&D?(i.track({type:0,doc:D}),q=!0):w&&!D&&(i.track({type:1,doc:w}),q=!0,(g||p)&&(m=!0)),q&&(D?(f=f.add(D),u=Y?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),i.track({type:1,doc:_})}return{tu:f,iu:i,Cs:m,mutatedKeys:u}}su(t,a){return t.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(t,a,i,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((_,E)=>(function(D,P){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:q})}};return Y(D)-Y(P)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),o=o??!1;const m=a&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new Bo(this.query,t.tu,u,f,t.mutatedKeys,g===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((a=>this.Ya=this.Ya.add(a))),t.modifiedDocuments.forEach((a=>{})),t.removedDocuments.forEach((a=>this.Ya=this.Ya.delete(a))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Yt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const a=[];return t.forEach((i=>{this.Xa.has(i)||a.push(new L2(i))})),this.Xa.forEach((i=>{t.has(i)||a.push(new j2(i))})),a}cu(t){this.Ya=t.Qs,this.Xa=Yt();const a=this.ru(t.documents);return this.applyChanges(a,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rp="SyncEngine";class PI{constructor(t,a,i){this.query=t,this.targetId=a,this.view=i}}class BI{constructor(t){this.key=t,this.hu=!1}}class FI{constructor(t,a,i,o,u,f){this.localStore=t,this.remoteStore=a,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ds((m=>JE(m)),Gf),this.Iu=new Map,this.Eu=new Set,this.du=new Ne(Ct.comparator),this.Au=new Map,this.Ru=new Kg,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qI(r,t,a=!0){const i=q2(r);let o;const u=i.Tu.get(t);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await z2(i,t,a,!0),o}async function HI(r,t){const a=q2(r);await z2(a,t,!0,!1)}async function z2(r,t,a,i){const o=await cI(r.localStore,lr(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,a);let m;return i&&(m=await GI(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&a&&x2(r.remoteStore,o),m}async function GI(r,t,a,i,o){r.pu=(E,w,D)=>(async function(Y,q,lt,at){let rt=q.view.ru(lt);rt.Cs&&(rt=await Eb(Y.localStore,q.query,!1).then((({documents:N})=>q.view.ru(N,rt))));const yt=at&&at.targetChanges.get(q.targetId),st=at&&at.targetMismatches.get(q.targetId)!=null,It=q.view.applyChanges(rt,Y.isPrimaryClient,yt,st);return Db(Y,q.targetId,It.au),It.snapshot})(r,E,w,D);const u=await Eb(r.localStore,t,!0),f=new UI(t,u.Qs),m=f.ru(u.documents),g=xu.createSynthesizedTargetChangeForCurrentChange(a,i&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);Db(r,a,p.au);const _=new PI(t,a,f);return r.Tu.set(t,_),r.Iu.has(a)?r.Iu.get(a).push(t):r.Iu.set(a,[t]),p.snapshot}async function YI(r,t,a){const i=Mt(r),o=i.Tu.get(t),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((f=>!Gf(f,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await rg(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),a&&Zg(i.remoteStore,o.targetId),og(i,o.targetId)})).catch(Go)):(og(i,o.targetId),await rg(i.localStore,o.targetId,!0))}async function KI(r,t){const a=Mt(r),i=a.Tu.get(t),o=a.Iu.get(i.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(i.targetId),Zg(a.remoteStore,i.targetId))}async function QI(r,t,a){const i=e6(r);try{const o=await(function(f,m){const g=Mt(f),p=Pt.now(),_=m.reduce(((D,P)=>D.add(P.key)),Yt());let E,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let P=Hr(),Y=Yt();return g.Ns.getEntries(D,_).next((q=>{P=q,P.forEach(((lt,at)=>{at.isValidDocument()||(Y=Y.add(lt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,P))).next((q=>{E=q;const lt=[];for(const at of m){const rt=uR(at,E.get(at.key).overlayedDocument);rt!=null&&lt.push(new Hi(at.key,rt,GE(rt.value.mapValue),ur.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,lt,m)})).next((q=>{w=q;const lt=q.applyToLocalDocumentSet(E,Y);return g.documentOverlayCache.saveOverlays(D,q.batchId,lt)}))})).then((()=>({batchId:w.batchId,changes:e2(E)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new Ne(Gt)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(i,o.batchId,a),await Ru(i,o.changes),await Jf(i.remoteStore)}catch(o){const u=np(o,"Failed to persist write");a.reject(u)}}async function U2(r,t){const a=Mt(r);try{const i=await oI(a.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=a.Au.get(u);f&&(re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?re(f.hu,14607):o.removedDocuments.size>0&&(re(f.hu,42227),f.hu=!1))})),await Ru(a,i,t)}catch(i){await Go(i)}}function Ib(r,t,a){const i=Mt(r);if(i.isPrimaryClient&&a===0||!i.isPrimaryClient&&a===1){const o=[];i.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Mt(f);g.onlineState=m;let p=!1;g.queries.forEach(((_,E)=>{for(const w of E.Sa)w.va(m)&&(p=!0)})),p&&ap(g)})(i.eventManager,t),o.length&&i.Pu.H_(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function $I(r,t,a){const i=Mt(r);i.sharedClientState.updateQueryState(t,"rejected",a);const o=i.Au.get(t),u=o&&o.key;if(u){let f=new Ne(Ct.comparator);f=f.insert(u,bn.newNoDocument(u,kt.min()));const m=Yt().add(u),g=new $f(kt.min(),new Map,new Ne(Gt),f,m);await U2(i,g),i.du=i.du.remove(u),i.Au.delete(t),ip(i)}else await rg(i.localStore,t,!1).then((()=>og(i,t,a))).catch(Go)}async function XI(r,t){const a=Mt(r),i=t.batch.batchId;try{const o=await sI(a.localStore,t);B2(a,i,null),P2(a,i),a.sharedClientState.updateMutationState(i,"acknowledged"),await Ru(a,o)}catch(o){await Go(o)}}async function ZI(r,t,a){const i=Mt(r);try{const o=await(function(f,m){const g=Mt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return g.mutationQueue.lookupMutationBatch(p,m).next((E=>(re(E!==null,37113),_=E.keys(),g.mutationQueue.removeMutationBatch(p,E)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,_,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>g.localDocuments.getDocuments(p,_)))}))})(i.localStore,t);B2(i,t,a),P2(i,t),i.sharedClientState.updateMutationState(t,"rejected",a),await Ru(i,o)}catch(o){await Go(o)}}function P2(r,t){(r.mu.get(t)||[]).forEach((a=>{a.resolve()})),r.mu.delete(t)}function B2(r,t,a){const i=Mt(r);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(t);u&&(a?u.reject(a):u.resolve(),o=o.remove(t)),i.Vu[i.currentUser.toKey()]=o}}function og(r,t,a=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r.Iu.get(t))r.Tu.delete(i),a&&r.Pu.yu(i,a);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((i=>{r.Ru.containsKey(i)||F2(r,i)}))}function F2(r,t){r.Eu.delete(t.path.canonicalString());const a=r.du.get(t);a!==null&&(Zg(r.remoteStore,a),r.du=r.du.remove(t),r.Au.delete(a),ip(r))}function Db(r,t,a){for(const i of a)i instanceof j2?(r.Ru.addReference(i.key,t),JI(r,i)):i instanceof L2?(pt(rp,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,t),r.Ru.containsKey(i.key)||F2(r,i.key)):Rt(19791,{wu:i})}function JI(r,t){const a=t.key,i=a.path.canonicalString();r.du.get(a)||r.Eu.has(i)||(pt(rp,"New document in limbo: "+a),r.Eu.add(i),ip(r))}function ip(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const a=new Ct(Ee.fromString(t)),i=r.fu.next();r.Au.set(i,new BI(a)),r.du=r.du.insert(a,i),x2(r.remoteStore,new xi(lr(Fg(a.path)),i,"TargetPurposeLimboResolution",Bf.ce))}}async function Ru(r,t,a){const i=Mt(r),o=[],u=[],f=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,g)=>{f.push(i.pu(g,t,a).then((p=>{if((p||a)&&i.isPrimaryClient){const _=p?!p.fromCache:a?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(p){o.push(p);const _=$g.As(g.targetId,p);u.push(_)}})))})),await Promise.all(f),i.Pu.H_(o),await(async function(g,p){const _=Mt(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>et.forEach(p,(w=>et.forEach(w.Es,(D=>_.persistence.referenceDelegate.addReference(E,w.targetId,D))).next((()=>et.forEach(w.ds,(D=>_.persistence.referenceDelegate.removeReference(E,w.targetId,D)))))))))}catch(E){if(!Yo(E))throw E;pt(Xg,"Failed to update sequence numbers: "+E)}for(const E of p){const w=E.targetId;if(!E.fromCache){const D=_.Ms.get(w),P=D.snapshotVersion,Y=D.withLastLimboFreeSnapshotVersion(P);_.Ms=_.Ms.insert(w,Y)}}})(i.localStore,u))}async function WI(r,t){const a=Mt(r);if(!a.currentUser.isEqual(t)){pt(rp,"User change. New user:",t.toKey());const i=await S2(a.localStore,t);a.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new bt(nt.CANCELLED,f))}))})),u.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Ru(a,i.Ls)}}function t6(r,t){const a=Mt(r),i=a.Au.get(t);if(i&&i.hu)return Yt().add(i.key);{let o=Yt();const u=a.Iu.get(t);if(!u)return o;for(const f of u){const m=a.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function q2(r){const t=Mt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=U2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=t6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$I.bind(null,t),t.Pu.H_=LI.bind(null,t.eventManager),t.Pu.yu=zI.bind(null,t.eventManager),t}function e6(r){const t=Mt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZI.bind(null,t),t}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,a){return null}Mu(t,a){return null}vu(t){return iI(this.persistence,new nI,t.initialUser,this.serializer)}Cu(t){return new T2(Qg.mi,this.serializer)}Du(t){return new hI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class n6 extends If{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,a){re(this.persistence.referenceDelegate instanceof Nf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new BR(i,t.asyncQueue,a)}Cu(t){const a=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new T2((i=>Nf.mi(i,a)),this.serializer)}}class lg{async initialize(t,a){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ib(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WI.bind(null,this.syncEngine),await MI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jI})()}createDatastore(t){const a=Xf(t.databaseInfo.databaseId),i=(function(u){return new yI(u)})(t.databaseInfo);return(function(u,f,m,g){return new EI(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,i,a)}createRemoteStore(t){return(function(i,o,u,f,m){return new SI(i,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(a=>Ib(this.syncEngine,a,0)),(function(){return Ab.v()?new Ab:new dI})())}createSyncEngine(t,a){return(function(o,u,f,m,g,p,_){const E=new FI(o,u,f,m,g,p);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,a)}async terminate(){await(async function(a){const i=Mt(a);pt(Ns,"RemoteStore shutting down."),i.Ea.add(5),await Nu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lg.provider={build:()=>new lg};class H2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Fr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,a){setTimeout((()=>{this.muted||t(a)}),0)}}const Bi="FirestoreClient";class a6{constructor(t,a,i,o,u){this.authCredentials=t,this.appCheckCredentials=a,this.asyncQueue=i,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=Vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async f=>{pt(Bi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(i,(f=>(pt(Bi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(a){const i=np(a,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Sm(r,t){r.asyncQueue.verifyOperationInProgress(),pt(Bi,"Initializing OfflineComponentProvider");const a=r.configuration;await t.initialize(a);let i=a.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await S2(t.localStore,o),i=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function kb(r,t){r.asyncQueue.verifyOperationInProgress();const a=await r6(r);pt(Bi,"Initializing OnlineComponentProvider"),await t.initialize(a,r.configuration),r.setCredentialChangeListener((i=>Cb(t.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>Cb(t.remoteStore,o))),r._onlineComponents=t}async function r6(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pt(Bi,"Using user provided OfflineComponentProvider");try{await Sm(r,r._uninitializedComponentsProvider._offline)}catch(t){const a=t;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(a))throw a;jo("Error using user provided cache. Falling back to memory cache: "+a),await Sm(r,new If)}}else pt(Bi,"Using default OfflineComponentProvider"),await Sm(r,new n6(void 0));return r._offlineComponents}async function G2(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pt(Bi,"Using user provided OnlineComponentProvider"),await kb(r,r._uninitializedComponentsProvider._online)):(pt(Bi,"Using default OnlineComponentProvider"),await kb(r,new lg))),r._onlineComponents}function i6(r){return G2(r).then((t=>t.syncEngine))}async function Y2(r){const t=await G2(r),a=t.eventManager;return a.onListen=qI.bind(null,t.syncEngine),a.onUnlisten=YI.bind(null,t.syncEngine),a.onFirstRemoteStoreListen=HI.bind(null,t.syncEngine),a.onLastRemoteStoreUnlisten=KI.bind(null,t.syncEngine),a}function s6(r,t,a={}){const i=new Lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const _=new H2({next:w=>{_.Nu(),f.enqueueAndForget((()=>M2(u,E)));const D=w.docs.has(m);!D&&w.fromCache?p.reject(new bt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&g&&g.source==="server"?p.reject(new bt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),E=new V2(Fg(m.path),_,{includeMetadataChanges:!0,qa:!0});return O2(u,E)})(await Y2(r),r.asyncQueue,t,a,i))),i.promise}function o6(r,t,a={}){const i=new Lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const _=new H2({next:w=>{_.Nu(),f.enqueueAndForget((()=>M2(u,E))),w.fromCache&&g.source==="server"?p.reject(new bt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),E=new V2(m,_,{includeMetadataChanges:!0,qa:!0});return O2(u,E)})(await Y2(r),r.asyncQueue,t,a,i))),i.promise}function K2(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Ob=new Map;const Q2="firestore.googleapis.com",Mb=!0;class Vb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new bt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q2,this.ssl=Mb}else this.host=t.host,this.ssl=t.ssl??Mb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=E2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<UR)throw new bt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}T3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K2(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new bt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new bt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new bt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wf{constructor(t,a,i,o){this._authCredentials=t,this._appCheckCredentials=a,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new bt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new h3;switch(i.type){case"firstParty":return new p3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new bt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const i=Ob.get(a);i&&(pt("ComponentProvider","Removing Datastore"),Ob.delete(a),i.terminate())})(this),Promise.resolve()}}function l6(r,t,a,i={}){r=qr(r,Wf);const o=Dg(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${a}`;o&&(z4(`https://${m}`),F4("Firestore",!0)),u.host!==Q2&&u.host!==m&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:i};if(!fu(g,f)&&(r._setSettings(g),i.mockUserToken)){let p,_;if(typeof i.mockUserToken=="string")p=i.mockUserToken,_=vn.MOCK_USER;else{p=U4(i.mockUserToken,r._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new bt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new vn(E)}r._authCredentials=new d3(new OE(p,_))}}class th{constructor(t,a,i){this.converter=a,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new th(this.firestore,t,this._query)}}class Ke{constructor(t,a,i){this.converter=a,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,a,i){if(wu(a,Ke._jsonSchema))return new Ke(t,i||null,new Ct(Ee.fromString(a.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Ye("string",Ke._jsonSchemaVersion),referencePath:Ye("string")};class Di extends th{constructor(t,a,i){super(t,a,Fg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new Ct(t))}withConverter(t){return new Di(this.firestore,t,this._path)}}function sf(r,t,...a){if(r=ja(r),ME("collection","path",t),r instanceof Wf){const i=Ee.fromString(t,...a);return $1(i),new Di(r,null,i)}{if(!(r instanceof Ke||r instanceof Di))throw new bt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Ee.fromString(t,...a));return $1(i),new Di(r.firestore,null,i)}}function ue(r,t,...a){if(r=ja(r),arguments.length===1&&(t=Vg.newId()),ME("doc","path",t),r instanceof Wf){const i=Ee.fromString(t,...a);return Q1(i),new Ke(r,null,new Ct(i))}{if(!(r instanceof Ke||r instanceof Di))throw new bt(nt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Ee.fromString(t,...a));return Q1(i),new Ke(r.firestore,r instanceof Di?r.converter:null,new Ct(i))}}const jb="AsyncQueue";class Lb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w2(this,"async_queue_retry"),this._c=()=>{const i=Tm();i&&pt(jb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const a=Tm();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const a=Tm();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Yo(t))throw t;pt(jb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const a=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Fr("INTERNAL UNHANDLED ERROR: ",zb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=a,a}enqueueAfterDelay(t,a,i){this.uc(),this.oc.indexOf(t)>-1&&(a=0);const o=ep.createAndSchedule(this,t,a,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Rt(47125,{Pc:zb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const a of this.tc)if(a.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((a,i)=>a.targetTimeMs-i.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),t!=="all"&&a.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const a=this.tc.indexOf(t);this.tc.splice(a,1)}}function zb(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Iu extends Wf{constructor(t,a,i,o){super(t,a,i,o),this.type="firestore",this._queue=new Lb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Lb(t),this._firestoreClient=void 0,await t}}}function u6(r,t){const a=typeof r=="object"?r:SE(),i=typeof r=="string"?r:Ef,o=Au(a,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=j4("firestore");u&&l6(o,...u)}return o}function sp(r){if(r._terminated)throw new bt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||c6(r),r._firestoreClient}function c6(r){const t=r._freezeSettings(),a=(function(o,u,f,m){return new O3(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,K2(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new a6(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class pa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new pa(mn.fromBase64String(t))}catch(a){throw new bt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(t){return new pa(mn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:pa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wu(t,pa._jsonSchema))return pa.fromBase64String(t.bytes)}}pa._jsonSchemaVersion="firestore/bytes/1.0",pa._jsonSchema={type:Ye("string",pa._jsonSchemaVersion),bytes:Ye("string")};class eh{constructor(...t){for(let a=0;a<t.length;++a)if(t[a].length===0)throw new bt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class op{constructor(t){this._methodName=t}}class fr{constructor(t,a){if(!isFinite(t)||t<-90||t>90)throw new bt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(a)||a<-180||a>180)throw new bt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=t,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(t){if(wu(t,fr._jsonSchema))return new fr(t.latitude,t.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:Ye("string",fr._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};class hr{constructor(t){this._values=(t||[]).map((a=>a))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wu(t,hr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((a=>typeof a=="number")))return new hr(t.vectorValues);throw new bt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:Ye("string",hr._jsonSchemaVersion),vectorValues:Ye("object")};const f6=/^__.*__$/;class h6{constructor(t,a,i){this.data=t,this.fieldMask=a,this.fieldTransforms=i}toMutation(t,a){return this.fieldMask!==null?new Hi(t,this.data,this.fieldMask,a,this.fieldTransforms):new Cu(t,this.data,a,this.fieldTransforms)}}class $2{constructor(t,a,i){this.data=t,this.fieldMask=a,this.fieldTransforms=i}toMutation(t,a){return new Hi(t,this.data,this.fieldMask,a,this.fieldTransforms)}}function X2(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:r})}}class lp{constructor(t,a,i,o,u,f){this.settings=t,this.databaseId=a,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new lp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const a=this.path?.child(t),i=this.Vc({path:a,fc:!1});return i.gc(t),i}yc(t){const a=this.path?.child(t),i=this.Vc({path:a,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Df(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((a=>t.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>t.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(X2(this.Ac)&&f6.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class d6{constructor(t,a,i){this.databaseId=t,this.ignoreUndefinedProperties=a,this.serializer=i||Xf(t)}Cc(t,a,i,o=!1){return new lp({Ac:t,methodName:a,Dc:i,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Z2(r){const t=r._freezeSettings(),a=Xf(r._databaseId);return new d6(r._databaseId,!!t.ignoreUndefinedProperties,a)}function m6(r,t,a,i,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,a,o);up("Data must be an object, but it was:",f,i);const m=J2(i,f);let g,p;if(u.merge)g=new Zn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const w=ug(t,E,a);if(!f.contains(w))throw new bt(nt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);tT(_,w)||_.push(w)}g=new Zn(_),p=f.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,p=f.fieldTransforms;return new h6(new Vn(m),g,p)}class nh extends op{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nh}}function g6(r,t,a,i){const o=r.Cc(1,t,a);up("Data must be an object, but it was:",o,i);const u=[],f=Vn.empty();qi(i,((g,p)=>{const _=cp(t,g,a);p=ja(p);const E=o.yc(_);if(p instanceof nh)u.push(_);else{const w=ah(p,E);w!=null&&(u.push(_),f.set(_,w))}}));const m=new Zn(u);return new $2(f,m,o.fieldTransforms)}function p6(r,t,a,i,o,u){const f=r.Cc(1,t,a),m=[ug(t,i,a)],g=[o];if(u.length%2!=0)throw new bt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(ug(t,u[w])),g.push(u[w+1]);const p=[],_=Vn.empty();for(let w=m.length-1;w>=0;--w)if(!tT(p,m[w])){const D=m[w];let P=g[w];P=ja(P);const Y=f.yc(D);if(P instanceof nh)p.push(D);else{const q=ah(P,Y);q!=null&&(p.push(D),_.set(D,q))}}const E=new Zn(p);return new $2(_,E,f.fieldTransforms)}function ah(r,t){if(W2(r=ja(r)))return up("Unsupported field value:",t,r),J2(r,t);if(r instanceof op)return(function(i,o){if(!X2(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,o){const u=[];let f=0;for(const m of i){let g=ah(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(i,o){if((i=ja(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return aR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=Pt.fromDate(i);return{timestampValue:xf(o.serializer,u)}}if(i instanceof Pt){const u=new Pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xf(o.serializer,u)}}if(i instanceof fr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pa)return{bytesValue:m2(o.serializer,i._byteString)};if(i instanceof Ke){const u=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Yg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof hr)return(function(f,m){return{mapValue:{fields:{[qE]:{stringValue:HE},[Tf]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return qg(m.serializer,p)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${jg(i)}`)})(r,t)}function J2(r,t){const a={};return LE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qi(r,((i,o)=>{const u=ah(o,t.mc(i));u!=null&&(a[i]=u)})),{mapValue:{fields:a}}}function W2(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Pt||r instanceof fr||r instanceof pa||r instanceof Ke||r instanceof op||r instanceof hr)}function up(r,t,a){if(!W2(a)||!VE(a)){const i=jg(a);throw i==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+i)}}function ug(r,t,a){if((t=ja(t))instanceof eh)return t._internalPath;if(typeof t=="string")return cp(r,t);throw Df("Field path arguments must be of type string or ",r,!1,void 0,a)}const y6=new RegExp("[~\\*/\\[\\]]");function cp(r,t,a){if(t.search(y6)>=0)throw Df(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,a);try{return new eh(...t.split("."))._internalPath}catch{throw Df(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,a)}}function Df(r,t,a,i,o){const u=i&&!i.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;a&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${i}`),f&&(g+=` in document ${o}`),g+=")"),new bt(nt.INVALID_ARGUMENT,m+r+g)}function tT(r,t){return r.some((a=>a.isEqual(t)))}class eT{constructor(t,a,i,o,u){this._firestore=t,this._userDataWriter=a,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new v6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const a=this._document.data.field(nT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a)}}}class v6 extends eT{data(){return super.data()}}function nT(r,t){return typeof t=="string"?cp(r,t):t instanceof eh?t._internalPath:t._delegate._internalPath}function b6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new bt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _6{convertValue(t,a="none"){switch(Ui(t)){case 0:return null;case 1:return t.booleanValue;case 2:return je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,a);case 5:return t.stringValue;case 6:return this.convertBytes(zi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,a);case 11:return this.convertObject(t.mapValue,a);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,a){return this.convertObjectMap(t.fields,a)}convertObjectMap(t,a="none"){const i={};return qi(t,((o,u)=>{i[o]=this.convertValue(u,a)})),i}convertVectorValue(t){const a=t.fields?.[Tf].arrayValue?.values?.map((i=>je(i.doubleValue)));return new hr(a)}convertGeoPoint(t){return new fr(je(t.latitude),je(t.longitude))}convertArray(t,a){return(t.values||[]).map((i=>this.convertValue(i,a)))}convertServerTimestamp(t,a){switch(a){case"previous":const i=qf(t);return i==null?null:this.convertValue(i,a);case"estimate":return this.convertTimestamp(gu(t));default:return null}}convertTimestamp(t){const a=Li(t);return new Pt(a.seconds,a.nanos)}convertDocumentKey(t,a){const i=Ee.fromString(t);re(_2(i),9688,{name:t});const o=new pu(i.get(1),i.get(3)),u=new Ct(i.popFirst(5));return o.isEqual(a)||Fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),u}}function E6(r,t,a){let i;return i=r?a&&(a.merge||a.mergeFields)?r.toFirestore(t,a):r.toFirestore(t):t,i}class tu{constructor(t,a){this.hasPendingWrites=t,this.fromCache=a}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class As extends eT{constructor(t,a,i,o,u,f){super(t,a,i,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const a=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,a={}){if(this._document){const i=this._document.data.field(nT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,a={};return a.type=As._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}As._jsonSchemaVersion="firestore/documentSnapshot/1.0",As._jsonSchema={type:Ye("string",As._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class gf extends As{data(t={}){return super.data(t)}}class Oo{constructor(t,a,i,o){this._firestore=t,this._userDataWriter=a,this._snapshot=o,this.metadata=new tu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach((a=>t.push(a))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,a){this._snapshot.docs.forEach((i=>{t.call(a,new gf(this._firestore,this._userDataWriter,i.key,i,new tu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const a=!!t.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new bt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new gf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new gf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),_=f.indexOf(m.doc.key)),{type:T6(m.type),doc:g,oldIndex:p,newIndex:_}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(a.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function T6(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:r})}}function Qn(r){r=qr(r,Ke);const t=qr(r.firestore,Iu);return s6(sp(t),r._key).then((a=>S6(t,r,a)))}Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:Ye("string",Oo._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class aT extends _6{constructor(t){super(),this.firestore=t}convertBytes(t){return new pa(t)}convertReference(t){const a=this.convertDocumentKey(t,this.firestore._databaseId);return new Ke(this.firestore,null,a)}}function Vr(r){r=qr(r,th);const t=qr(r.firestore,Iu),a=sp(t),i=new aT(t);return b6(r._query),o6(a,r._query).then((o=>new Oo(t,i,r,o)))}function He(r,t,a){r=qr(r,Ke);const i=qr(r.firestore,Iu),o=E6(r.converter,t,a);return rT(i,[m6(Z2(i),"setDoc",r._key,o,r.converter!==null,a).toMutation(r._key,ur.none())])}function rr(r,t,a,...i){r=qr(r,Ke);const o=qr(r.firestore,Iu),u=Z2(o);let f;return f=typeof(t=ja(t))=="string"||t instanceof eh?p6(u,"updateDoc",r._key,t,a,i):g6(u,"updateDoc",r._key,t),rT(o,[f.toMutation(r._key,ur.exists(!0))])}function rT(r,t){return(function(i,o){const u=new Lr;return i.asyncQueue.enqueueAndForget((async()=>QI(await i6(i),o,u))),u.promise})(sp(r),t)}function S6(r,t,a){const i=a.docs.get(t._key),o=new aT(r);return new As(r,o,t._key,i,new tu(a.hasPendingWrites,a.fromCache),t.converter)}(function(t,a=!0){(function(o){Ho=o})(WN),Vi(new Pr("firestore",((i,{instanceIdentifier:o,options:u})=>{const f=i.getProvider("app").getImmediate(),m=new Iu(new m3(i.getProvider("auth-internal")),new y3(f,i.getProvider("app-check-internal")),(function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new bt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(p.options.projectId,_)})(f,o),f);return u={useFetchStreams:a,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),or(H1,G1,t),or(H1,G1,"esm2020")})();const iT="@firebase/installations",fp="0.6.19";const sT=1e4,oT=`w:${fp}`,lT="FIS_v2",A6="https://firebaseinstallations.googleapis.com/v1",w6=3600*1e3,C6="installations",x6="Installations";const N6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rs=new Pf(C6,x6,N6);function uT(r){return r instanceof Fi&&r.code.includes("request-failed")}function cT({projectId:r}){return`${A6}/projects/${r}/installations`}function fT(r){return{token:r.token,requestStatus:2,expiresIn:I6(r.expiresIn),creationTime:Date.now()}}async function hT(r,t){const i=(await t.json()).error;return Rs.create("request-failed",{requestName:r,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function dT({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function R6(r,{refreshToken:t}){const a=dT(r);return a.append("Authorization",D6(t)),a}async function mT(r){const t=await r();return t.status>=500&&t.status<600?r():t}function I6(r){return Number(r.replace("s","000"))}function D6(r){return`${lT} ${r}`}async function k6({appConfig:r,heartbeatServiceProvider:t},{fid:a}){const i=cT(r),o=dT(r),u=t.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={fid:a,authVersion:lT,appId:r.appId,sdkVersion:oT},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await mT(()=>fetch(i,m));if(g.ok){const p=await g.json();return{fid:p.fid||a,registrationStatus:2,refreshToken:p.refreshToken,authToken:fT(p.authToken)}}else throw await hT("Create Installation",g)}function gT(r){return new Promise(t=>{setTimeout(t,r)})}function O6(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const M6=/^[cdef][\w-]{21}$/,cg="";function V6(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const a=j6(r);return M6.test(a)?a:cg}catch{return cg}}function j6(r){return O6(r).substr(0,22)}function rh(r){return`${r.appName}!${r.appId}`}const pT=new Map;function yT(r,t){const a=rh(r);vT(a,t),L6(a,t)}function vT(r,t){const a=pT.get(r);if(a)for(const i of a)i(t)}function L6(r,t){const a=z6();a&&a.postMessage({key:r,fid:t}),U6()}let Ss=null;function z6(){return!Ss&&"BroadcastChannel"in self&&(Ss=new BroadcastChannel("[Firebase] FID Change"),Ss.onmessage=r=>{vT(r.data.key,r.data.fid)}),Ss}function U6(){pT.size===0&&Ss&&(Ss.close(),Ss=null)}const P6="firebase-installations-database",B6=1,Is="firebase-installations-store";let Am=null;function hp(){return Am||(Am=EE(P6,B6,{upgrade:(r,t)=>{t===0&&r.createObjectStore(Is)}})),Am}async function kf(r,t){const a=rh(r),o=(await hp()).transaction(Is,"readwrite"),u=o.objectStore(Is),f=await u.get(a);return await u.put(t,a),await o.done,(!f||f.fid!==t.fid)&&yT(r,t.fid),t}async function bT(r){const t=rh(r),i=(await hp()).transaction(Is,"readwrite");await i.objectStore(Is).delete(t),await i.done}async function ih(r,t){const a=rh(r),o=(await hp()).transaction(Is,"readwrite"),u=o.objectStore(Is),f=await u.get(a),m=t(f);return m===void 0?await u.delete(a):await u.put(m,a),await o.done,m&&(!f||f.fid!==m.fid)&&yT(r,m.fid),m}async function dp(r){let t;const a=await ih(r.appConfig,i=>{const o=F6(i),u=q6(r,o);return t=u.registrationPromise,u.installationEntry});return a.fid===cg?{installationEntry:await t}:{installationEntry:a,registrationPromise:t}}function F6(r){const t=r||{fid:V6(),registrationStatus:0};return _T(t)}function q6(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Rs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const a={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=H6(r,a);return{installationEntry:a,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:G6(r)}:{installationEntry:t}}async function H6(r,t){try{const a=await k6(r,t);return kf(r.appConfig,a)}catch(a){throw uT(a)&&a.customData.serverCode===409?await bT(r.appConfig):await kf(r.appConfig,{fid:t.fid,registrationStatus:0}),a}}async function G6(r){let t=await Ub(r.appConfig);for(;t.registrationStatus===1;)await gT(100),t=await Ub(r.appConfig);if(t.registrationStatus===0){const{installationEntry:a,registrationPromise:i}=await dp(r);return i||a}return t}function Ub(r){return ih(r,t=>{if(!t)throw Rs.create("installation-not-found");return _T(t)})}function _T(r){return Y6(r)?{fid:r.fid,registrationStatus:0}:r}function Y6(r){return r.registrationStatus===1&&r.registrationTime+sT<Date.now()}async function K6({appConfig:r,heartbeatServiceProvider:t},a){const i=Q6(r,a),o=R6(r,a),u=t.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={installation:{sdkVersion:oT,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await mT(()=>fetch(i,m));if(g.ok){const p=await g.json();return fT(p)}else throw await hT("Generate Auth Token",g)}function Q6(r,{fid:t}){return`${cT(r)}/${t}/authTokens:generate`}async function mp(r,t=!1){let a;const i=await ih(r.appConfig,u=>{if(!ET(u))throw Rs.create("not-registered");const f=u.authToken;if(!t&&Z6(f))return u;if(f.requestStatus===1)return a=$6(r,t),u;{if(!navigator.onLine)throw Rs.create("app-offline");const m=W6(u);return a=X6(r,m),m}});return a?await a:i.authToken}async function $6(r,t){let a=await Pb(r.appConfig);for(;a.authToken.requestStatus===1;)await gT(100),a=await Pb(r.appConfig);const i=a.authToken;return i.requestStatus===0?mp(r,t):i}function Pb(r){return ih(r,t=>{if(!ET(t))throw Rs.create("not-registered");const a=t.authToken;return tD(a)?{...t,authToken:{requestStatus:0}}:t})}async function X6(r,t){try{const a=await K6(r,t),i={...t,authToken:a};return await kf(r.appConfig,i),a}catch(a){if(uT(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await bT(r.appConfig);else{const i={...t,authToken:{requestStatus:0}};await kf(r.appConfig,i)}throw a}}function ET(r){return r!==void 0&&r.registrationStatus===2}function Z6(r){return r.requestStatus===2&&!J6(r)}function J6(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+w6}function W6(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function tD(r){return r.requestStatus===1&&r.requestTime+sT<Date.now()}async function eD(r){const t=r,{installationEntry:a,registrationPromise:i}=await dp(t);return i?i.catch(console.error):mp(t).catch(console.error),a.fid}async function nD(r,t=!1){const a=r;return await aD(a),(await mp(a,t)).token}async function aD(r){const{registrationPromise:t}=await dp(r);t&&await t}function rD(r){if(!r||!r.options)throw wm("App Configuration");if(!r.name)throw wm("App Name");const t=["projectId","apiKey","appId"];for(const a of t)if(!r.options[a])throw wm(a);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function wm(r){return Rs.create("missing-app-config-values",{valueName:r})}const TT="installations",iD="installations-internal",sD=r=>{const t=r.getProvider("app").getImmediate(),a=rD(t),i=Au(t,"heartbeat");return{app:t,appConfig:a,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},oD=r=>{const t=r.getProvider("app").getImmediate(),a=Au(t,TT).getImmediate();return{getId:()=>eD(a),getToken:o=>nD(a,o)}};function lD(){Vi(new Pr(TT,sD,"PUBLIC")),Vi(new Pr(iD,oD,"PRIVATE"))}lD();or(iT,fp);or(iT,fp,"esm2020");const Of="analytics",uD="firebase_id",cD="origin",fD=60*1e3,hD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gp="https://www.googletagmanager.com/gtag/js";const An=new kg("@firebase/analytics");const dD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jn=new Pf("analytics","Analytics",dD);function mD(r){if(!r.startsWith(gp)){const t=Jn.create("invalid-gtag-resource",{gtagURL:r});return An.warn(t.message),""}return r}function ST(r){return Promise.all(r.map(t=>t.catch(a=>a)))}function gD(r,t){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(r,t)),a}function pD(r,t){const a=gD("firebase-js-sdk-policy",{createScriptURL:mD}),i=document.createElement("script"),o=`${gp}?l=${r}&id=${t}`;i.src=a?a?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function yD(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function vD(r,t,a,i,o,u){const f=i[o];try{if(f)await t[f];else{const g=(await ST(a)).find(p=>p.measurementId===o);g&&await t[g.appId]}}catch(m){An.error(m)}r("config",o,u)}async function bD(r,t,a,i,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await ST(a);for(const g of f){const p=m.find(E=>E.measurementId===g),_=p&&t[p.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",i,o||{})}catch(u){An.error(u)}}function _D(r,t,a,i){async function o(u,...f){try{if(u==="event"){const[m,g]=f;await bD(r,t,a,m,g)}else if(u==="config"){const[m,g]=f;await vD(r,t,a,i,m,g)}else if(u==="consent"){const[m,g]=f;r("consent",m,g)}else if(u==="get"){const[m,g,p]=f;r("get",m,g,p)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){An.error(m)}}return o}function ED(r,t,a,i,o){let u=function(...f){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=_D(u,r,t,a),{gtagCore:u,wrappedGtag:window[o]}}function TD(r){const t=window.document.getElementsByTagName("script");for(const a of Object.values(t))if(a.src&&a.src.includes(gp)&&a.src.includes(r))return a;return null}const SD=30,AD=1e3;class wD{constructor(t={},a=AD){this.throttleMetadata=t,this.intervalMillis=a}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,a){this.throttleMetadata[t]=a}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const AT=new wD;function CD(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function xD(r){const{appId:t,apiKey:a}=r,i={method:"GET",headers:CD(a)},o=hD.replace("{app-id}",t),u=await fetch(o,i);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function ND(r,t=AT,a){const{appId:i,apiKey:o,measurementId:u}=r.options;if(!i)throw Jn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:i};throw Jn.create("no-api-key")}const f=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new DD;return setTimeout(async()=>{m.abort()},fD),wT({appId:i,apiKey:o,measurementId:u},f,m,t)}async function wT(r,{throttleEndTimeMillis:t,backoffCount:a},i,o=AT){const{appId:u,measurementId:f}=r;try{await RD(i,t)}catch(m){if(f)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await xD(r);return o.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!ID(g)){if(o.deleteThrottleMetadata(u),f)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw m}const p=Number(g?.customData?.httpStatus)===503?O1(a,o.intervalMillis,SD):O1(a,o.intervalMillis),_={throttleEndTimeMillis:Date.now()+p,backoffCount:a+1};return o.setThrottleMetadata(u,_),An.debug(`Calling attemptFetch again in ${p} millis`),wT(r,_,i,o)}}function RD(r,t){return new Promise((a,i)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(a,o);r.addEventListener(()=>{clearTimeout(u),i(Jn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ID(r){if(!(r instanceof Fi)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class DD{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function kD(r,t,a,i,o){if(o&&o.global){r("event",a,i);return}else{const u=await t,f={...i,send_to:u};r("event",a,f)}}async function OD(r,t,a,i){if(i&&i.global){const o={};for(const u of Object.keys(a))o[`user_properties.${u}`]=a[u];return r("set",o),Promise.resolve()}else{const o=await t;r("config",o,{update:!0,user_properties:a})}}async function MD(){if(yE())try{await vE()}catch(r){return An.warn(Jn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return An.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VD(r,t,a,i,o,u,f){const m=ND(r);m.then(w=>{a[w.measurementId]=w.appId,r.options.measurementId&&w.measurementId!==r.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>An.error(w)),t.push(m);const g=MD().then(w=>{if(w)return i.getId()}),[p,_]=await Promise.all([m,g]);TD(u)||pD(u,p.measurementId),o("js",new Date);const E=f?.config??{};return E[cD]="firebase",E.update=!0,_!=null&&(E[uD]=_),o("config",p.measurementId,E),p.measurementId}class jD{constructor(t){this.app=t}_delete(){return delete Mo[this.app.options.appId],Promise.resolve()}}let Mo={},Bb=[];const Fb={};let Cm="dataLayer",LD="gtag",qb,pp,Hb=!1;function zD(){const r=[];if(G4()&&r.push("This is a browser extension environment."),K4()||r.push("Cookies are not available."),r.length>0){const t=r.map((i,o)=>`(${o+1}) ${i}`).join(" "),a=Jn.create("invalid-analytics-context",{errorInfo:t});An.warn(a.message)}}function UD(r,t,a){zD();const i=r.options.appId;if(!i)throw Jn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jn.create("no-api-key");if(Mo[i]!=null)throw Jn.create("already-exists",{id:i});if(!Hb){yD(Cm);const{wrappedGtag:u,gtagCore:f}=ED(Mo,Bb,Fb,Cm,LD);pp=u,qb=f,Hb=!0}return Mo[i]=VD(r,Bb,Fb,t,qb,Cm,a),new jD(r)}function PD(r=SE()){r=ja(r);const t=Au(r,Of);return t.isInitialized()?t.getImmediate():BD(r)}function BD(r,t={}){const a=Au(r,Of);if(a.isInitialized()){const o=a.getImmediate();if(fu(t,a.getOptions()))return o;throw Jn.create("already-initialized")}return a.initialize({options:t})}function FD(r,t,a){r=ja(r),OD(pp,Mo[r.app.options.appId],t,a).catch(i=>An.error(i))}function qD(r,t,a,i){r=ja(r),kD(pp,Mo[r.app.options.appId],t,a,i).catch(o=>An.error(o))}const Gb="@firebase/analytics",Yb="0.10.19";function HD(){Vi(new Pr(Of,(t,{options:a})=>{const i=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return UD(i,o,a)},"PUBLIC")),Vi(new Pr("analytics-internal",r,"PRIVATE")),or(Gb,Yb),or(Gb,Yb,"esm2020");function r(t){try{const a=t.getProvider(Of).getImmediate();return{logEvent:(i,o,u)=>qD(a,i,o,u),setUserProperties:(i,o)=>FD(a,i,o)}}catch(a){throw Jn.create("interop-component-reg-failed",{reason:a})}}}HD();const GD={apiKey:"AIzaSyCw347LXoh-s4ZQXRsdwnwqcrQjfJiixyY",authDomain:"care-notebook-ccb1d.firebaseapp.com",projectId:"care-notebook-ccb1d",storageBucket:"care-notebook-ccb1d.firebasestorage.app",messagingSenderId:"251384508478",appId:"1:251384508478:web:13fa89bf593f89c25de16f",measurementId:"G-N133F28XZ5"},CT=U1().length===0?TE(GD):U1()[0],Xt=u6(CT);let Kb=null;try{typeof window<"u"&&typeof document<"u"&&(Kb=PD(CT))}catch{Kb=null}class xT{notebookId;constructor(t){this.notebookId=t}async withRetry(t,a=3,i=1e3){let o=null;for(let u=0;u<=a;u++)try{return await t()}catch(f){if(o=f,f?.code==="resource-exhausted"||f?.code==="quota-exceeded"||f?.message&&f.message.includes("quota"))throw f;if(u<a){const g=i*Math.pow(2,u),p=new Date().toISOString();console.warn(`[${p}] Firestore error (attempt ${u+1}/${a+1}). Retrying in ${g}ms...`),await new Promise(_=>setTimeout(_,g));continue}throw f}throw o||new Error("Operation failed after retries")}getCaretakersCollection(){return sf(Xt,"notebooks",this.notebookId,"caretakers")}firestoreCaretakerToDomain(t,a){return{id:a.id||t,name:a.name,isPrimary:a.isPrimary,isActive:a.isActive}}async findCaretakerByName(t){const a=t.trim();if(!a)return null;const i=this.getCaretakersCollection(),o=await Vr(i);for(const u of o.docs){const f=u.data();if(f.name.toLowerCase()===a.toLowerCase())return{id:u.id,data:f}}return null}async findCaretakerByIdOrName(t){try{const a=ue(Xt,"notebooks",this.notebookId,"caretakers",t),i=await Qn(a);if(i.exists())return{id:i.id,data:i.data()}}catch{}return this.findCaretakerByName(t)}async loadCaretakersFromFirestore(){try{const t=this.getCaretakersCollection(),a=await Vr(t),i=[];return a.forEach(o=>{const u=o.data();i.push(this.firestoreCaretakerToDomain(o.id,u))}),i}catch(t){return t instanceof Error&&t.name==="AbortError"?[]:[]}}async loadCaretakers(){try{const t=this.getCaretakersCollection(),a=await Vr(t),i=[];return a.forEach(o=>{const u=o.data(),f=this.firestoreCaretakerToDomain(o.id,u);f.isActive&&i.push(f)}),i}catch(t){return t instanceof Error&&t.name==="AbortError"?[]:[]}}async getPrimaryCaretakerName(){try{return(await this.loadCaretakersFromFirestore()).find(i=>i.isPrimary&&i.isActive)?.name||""}catch(t){return t instanceof Error&&t.name==="AbortError",""}}async ensureNotebookInitialized(){const t=Zt(),a=ue(Xt,"notebooks",this.notebookId,"today",t);if((await Qn(a)).exists())return;const o={careNotes:[],tasks:[],currentCaregiver:"",lastUpdatedBy:""};try{await this.withRetry(async()=>{await He(a,{...o,createdAt:Pt.now(),version:1})})}catch(u){if(u?.code==="resource-exhausted"||u?.code==="quota-exceeded"){const f=new Date().toISOString();console.error(`[${f}] Firestore quota exceeded during notebook initialization. Will retry on next operation.`);return}throw u}}async ensureTodayDocument(){const t=Zt(),a=ue(Xt,"notebooks",this.notebookId,"today",t),i=await Qn(a),o=i.exists()?i.data():null,u=await this.loadCaretakers();if(u.length>0){let p=(u.find(D=>D.isPrimary)??u[0])?.name??"";o?.currentCaregiver&&u.some(P=>P.name.toLowerCase()===o.currentCaregiver.toLowerCase())&&(p=o.currentCaregiver);const _=(o?.tasks||[]).map(D=>({id:D.id,text:D.text,completed:D.completed!==void 0?D.completed:!1})),E={careNotes:o?.careNotes??[],tasks:_,currentCaregiver:p,lastUpdatedBy:o?.lastUpdatedBy??p};if(!o||o.currentCaregiver!==E.currentCaregiver||o.lastUpdatedBy!==E.lastUpdatedBy)try{await this.withRetry(async()=>{const D={currentCaregiver:E.currentCaregiver,lastUpdatedBy:E.lastUpdatedBy,createdAt:o?.createdAt??Pt.now(),version:1};o||(D.tasks=E.tasks,D.careNotes=E.careNotes),await He(a,D,{merge:!0})})}catch(D){if(D?.code==="resource-exhausted"||D?.code==="quota-exceeded"){const P=new Date().toISOString();return console.error(`[${P}] Firestore quota exceeded. Returning existing or computed state without writing.`),o||E}throw D}return E}if(o?.currentCaregiver)return o;const f=(o?.tasks||[]).map(g=>({id:g.id,text:g.text,completed:g.completed!==void 0?g.completed:!1})),m={careNotes:o?.careNotes??[],tasks:f,currentCaregiver:"",lastUpdatedBy:""};if(!o)try{await this.withRetry(async()=>{await He(a,{...m,createdAt:Pt.now(),version:1},{merge:!0})})}catch(g){if(g?.code==="resource-exhausted"||g?.code==="quota-exceeded"){const p=new Date().toISOString();return console.error(`[${p}] Firestore quota exceeded. Returning computed state without writing.`),m}throw g}return m}async loadToday(){try{return await this.ensureNotebookInitialized(),await this.ensureTodayDocument()}catch(t){if(t?.code==="resource-exhausted"||t?.code==="quota-exceeded"){const i=new Date().toISOString();return console.error(`[${i}] Firestore quota exceeded in loadToday. Returning empty state.`),{careNotes:[],tasks:[],currentCaregiver:"",lastUpdatedBy:""}}const a=new Date().toISOString();return console.error(`[${a}] Error loading today state:`,t),{careNotes:[],tasks:[],currentCaregiver:"",lastUpdatedBy:""}}}async addNote(t){await this.ensureNotebookInitialized();const a=Zt(),i=ue(Xt,"notebooks",this.notebookId,"today",a),o=await this.withRetry(async()=>await Qn(i));let u;if(o.exists()){const _=o.data(),E=(_.tasks||[]).map(w=>({id:w.id,text:w.text,completed:w.completed!==void 0?w.completed:!1}));u={careNotes:_.careNotes||[],tasks:E,currentCaregiver:_.currentCaregiver||"",lastUpdatedBy:_.lastUpdatedBy||""}}else{const _=await this.getPrimaryCaretakerName();u={careNotes:[],tasks:[],currentCaregiver:_,lastUpdatedBy:_}}const f=u.currentCaregiver,m=nE(t,f),g=[m,...u.careNotes],p={...u,careNotes:g,lastUpdatedBy:f};return await this.withRetry(async()=>{await He(i,p,{merge:!0})}),m}async updateNote(t,a){await this.ensureNotebookInitialized();const i=Zt(),o=ue(Xt,"notebooks",this.notebookId,"today",i),u=await this.withRetry(async()=>await Qn(o));let f;if(u.exists()){const _=u.data();f={careNotes:_.careNotes||[],tasks:_.tasks||[],currentCaregiver:_.currentCaregiver||"",lastUpdatedBy:_.lastUpdatedBy||""}}else throw new Error("Cannot update note: today document does not exist");if(t<0||t>=f.careNotes.length)throw new Error("Invalid note index");const m=rE(f.careNotes[t],a),g=[...f.careNotes];g[t]=m;const p={...f,careNotes:g,lastUpdatedBy:f.currentCaregiver};return await this.withRetry(async()=>{await He(o,p,{merge:!0})}),m}async deleteNote(t){await this.ensureNotebookInitialized();const a=Zt(),i=ue(Xt,"notebooks",this.notebookId,"today",a),o=await Qn(i);let u;if(o.exists()){const p=o.data();u={careNotes:p.careNotes||[],tasks:p.tasks||[],currentCaregiver:p.currentCaregiver||"",lastUpdatedBy:p.lastUpdatedBy||""}}else throw new Error("Cannot delete note: today document does not exist");if(t<0||t>=u.careNotes.length)throw new Error("Invalid note index");const f=u.careNotes[t];let m=[...u.careNotes];if(f.author!=="System"){const p=cE(f.author,f.note);m.splice(t,1,p)}else m=m.filter((p,_)=>_!==t);const g={...u,careNotes:m,lastUpdatedBy:u.currentCaregiver};await He(i,g,{merge:!0})}async toggleTask(t){await this.ensureNotebookInitialized();const a=Zt(),i=ue(Xt,"notebooks",this.notebookId,"today",a),o=await this.withRetry(async()=>await Qn(i));let u;if(o.exists()){const P=o.data(),Y=(P.tasks||[]).map(q=>({id:q.id,text:q.text,completed:q.completed!==void 0?q.completed:!1}));u={careNotes:P.careNotes||[],tasks:Y,currentCaregiver:P.currentCaregiver||"",lastUpdatedBy:P.lastUpdatedBy||""}}else{const P=await this.getPrimaryCaretakerName();u={careNotes:[],tasks:[],currentCaregiver:P,lastUpdatedBy:P}}const f=u.tasks.findIndex(P=>P.id===t);if(f===-1)return;const m=u.tasks[f],g=m.completed,p=[...u.tasks];p[f]={...p[f],completed:!g};const _=u.currentCaregiver,w=[g?b4(_,m.text):v4(_,m.text),...u.careNotes],D={...u,tasks:p,careNotes:w,lastUpdatedBy:_};await this.withRetry(async()=>{await He(i,D,{merge:!0})})}async addTask(t){await this.ensureNotebookInitialized();const a=Zt(),i=ue(Xt,"notebooks",this.notebookId,"today",a),o=await this.withRetry(async()=>await Qn(i));let u;if(o.exists()){const w=o.data(),D=(w.tasks||[]).map(P=>({id:P.id,text:P.text,completed:P.completed!==void 0?P.completed:!1}));u={careNotes:w.careNotes||[],tasks:D,currentCaregiver:w.currentCaregiver||"",lastUpdatedBy:w.lastUpdatedBy||""}}else{const w=await this.getPrimaryCaretakerName();u={careNotes:[],tasks:[],currentCaregiver:w,lastUpdatedBy:w}}const f={id:ga(),text:t.trim(),completed:!1},m=[f,...u.tasks],g=u.currentCaregiver,_=[y4(g,f.text),...u.careNotes],E={...u,tasks:m,careNotes:_,lastUpdatedBy:g};return await this.withRetry(async()=>{await He(i,E,{merge:!0})}),f}async updateTask(t,a){await this.ensureNotebookInitialized();const i=Zt(),o=ue(Xt,"notebooks",this.notebookId,"today",i),u=await this.withRetry(async()=>await Qn(o));let f;if(u.exists()){const q=u.data(),lt=(q.tasks||[]).map(at=>({id:at.id,text:at.text,completed:at.completed!==void 0?at.completed:!1}));f={careNotes:q.careNotes||[],tasks:lt,currentCaregiver:q.currentCaregiver||"",lastUpdatedBy:q.lastUpdatedBy||""}}else{const q=await this.getPrimaryCaretakerName();f={careNotes:[],tasks:[],currentCaregiver:q,lastUpdatedBy:q}}const m=f.tasks.findIndex(q=>q.id===t);if(m===-1)throw new Error("Task not found");const p=f.tasks[m].text,_=a.trim(),E=[...f.tasks];E[m]={...E[m],text:_};const w=f.currentCaregiver,P=[_4(w,p,_),...f.careNotes],Y={...f,tasks:E,careNotes:P,lastUpdatedBy:w};return await this.withRetry(async()=>{await He(o,Y,{merge:!0})}),E[m]}async deleteTask(t){await this.ensureNotebookInitialized();const a=Zt(),i=ue(Xt,"notebooks",this.notebookId,"today",a),o=await this.withRetry(async()=>await Qn(i));let u;if(o.exists()){const w=o.data(),D=(w.tasks||[]).map(P=>({id:P.id,text:P.text,completed:P.completed!==void 0?P.completed:!1}));u={careNotes:w.careNotes||[],tasks:D,currentCaregiver:w.currentCaregiver||"",lastUpdatedBy:w.lastUpdatedBy||""}}else return;const f=u.tasks.find(w=>w.id===t),m=u.tasks.filter(w=>w.id!==t);if(m.length===u.tasks.length)return;const g=u.currentCaregiver,_=[E4(g,f.text),...u.careNotes],E={...u,tasks:m,careNotes:_,lastUpdatedBy:g};await this.withRetry(async()=>{await He(i,E,{merge:!0})})}async handoff(t){await this.ensureNotebookInitialized();const a=Zt(),i=ue(Xt,"notebooks",this.notebookId,"today",a),o=await Qn(i);let u;if(o.exists()){const _=o.data(),E=(_.tasks||[]).map(w=>({id:w.id,text:w.text,completed:w.completed!==void 0?w.completed:!1}));u={careNotes:_.careNotes||[],tasks:E,currentCaregiver:_.currentCaregiver||"",lastUpdatedBy:_.lastUpdatedBy||""}}else{const _=await this.getPrimaryCaretakerName();u={careNotes:[],tasks:[],currentCaregiver:_,lastUpdatedBy:_}}const f=u.currentCaregiver,g=[aE(f,t),...u.careNotes],p={...u,careNotes:g,currentCaregiver:t,lastUpdatedBy:t};await He(i,p,{merge:!0})}async getNotesByDate(){try{const t=sf(Xt,"notebooks",this.notebookId,"today"),a=await Vr(t),i={};return a.forEach(o=>{const u=o.data(),f=o.id,m=u.careNotes||[];m.length>0&&(i[f]=m)}),i}catch(t){return t instanceof Error&&t.name==="AbortError"?{}:{}}}async notebookExists(){try{if((await this.loadCaretakersFromFirestore()).length>0)return!0;const a=sf(Xt,"notebooks",this.notebookId,"today");return!(await Vr(a)).empty}catch(t){return t instanceof Error&&t.name==="AbortError",!1}}async addCaretaker(t){await this.ensureNotebookInitialized();const a=t.trim();if(!a)return;const i=await this.loadCaretakersFromFirestore();if(i.some(q=>q.name.toLowerCase()===a.toLowerCase()))throw new Error("Caretaker already exists");const o=Ag(i,a);if(o.length===i.length)return;const u=o.find(q=>q.name.toLowerCase()===a.toLowerCase());if(!u)return;const f=ga(),m=ga(),g=ue(Xt,"notebooks",this.notebookId,"caretakers",m),p={id:f,name:u.name,isPrimary:u.isPrimary,isActive:u.isActive,createdAt:Pt.now()};if(await He(g,p),u.isPrimary){const q=this.getCaretakersCollection(),lt=await Vr(q),at=[];lt.forEach(rt=>{if(rt.id!==m&&rt.data().isPrimary){const st=ue(Xt,"notebooks",this.notebookId,"caretakers",rt.id);at.push(rr(st,{isPrimary:!1}))}}),await Promise.all(at)}const _=iE(a),E=Zt(),w=ue(Xt,"notebooks",this.notebookId,"today",E),D=await this.loadToday(),P=[_,...D.careNotes],Y={...D,careNotes:P};await He(w,Y,{merge:!0}),await this.ensureTodayDocument()}async archiveCaretaker(t){await this.ensureNotebookInitialized();const a=await this.loadCaretakersFromFirestore(),i=await this.loadToday(),o=i.currentCaregiver,{canArchive:u,reason:f}=Cg(a,t,o);if(!u)throw new Error(f||"Cannot archive this caretaker");const m=await this.findCaretakerByIdOrName(t);if(!m)throw new Error("Caretaker not found");const g=ue(Xt,"notebooks",this.notebookId,"caretakers",m.id);await rr(g,{isActive:!1});const p=sE(m.data.name),_=Zt(),E=ue(Xt,"notebooks",this.notebookId,"today",_),w=[p,...i.careNotes],D={...i,careNotes:w};await He(E,D,{merge:!0}),await this.ensureTodayDocument()}async restoreCaretaker(t){await this.ensureNotebookInitialized();const a=await this.loadCaretakersFromFirestore(),{canRestore:i,reason:o}=xg(a,t);if(!i)throw new Error(o||"Cannot restore this caretaker");const u=await this.findCaretakerByIdOrName(t);if(!u)throw new Error("Caretaker not found");const f=ue(Xt,"notebooks",this.notebookId,"caretakers",u.id);await rr(f,{isActive:!0});const m=oE(u.data.name),g=Zt(),p=ue(Xt,"notebooks",this.notebookId,"today",g),_=await this.loadToday(),E=[m,..._.careNotes],w={..._,careNotes:E};await He(p,w,{merge:!0}),await this.ensureTodayDocument()}async updateCaretakerName(t,a){await this.ensureNotebookInitialized();const i=t.trim(),o=a.trim();if(!i||!o)throw new Error("Invalid name");if(i.toLowerCase()===o.toLowerCase())return;if((await this.loadCaretakersFromFirestore()).some(lt=>lt.name.toLowerCase()===o.toLowerCase()))throw new Error("A caretaker with this name already exists");const f=await this.findCaretakerByIdOrName(i);if(!f)throw new Error("Caretaker not found");const m=ue(Xt,"notebooks",this.notebookId,"caretakers",f.id);await rr(m,{name:o});const g=sf(Xt,"notebooks",this.notebookId,"today"),p=await Vr(g),_=[];p.forEach(lt=>{const at=lt.data(),rt={};let yt=!1;if(at.currentCaregiver===i&&(rt.currentCaregiver=o,yt=!0),at.lastUpdatedBy===i&&(rt.lastUpdatedBy=o,yt=!0),at.careNotes&&Array.isArray(at.careNotes)){const st=at.careNotes.map(N=>N.author===i?{...N,author:o}:N);st.some((N,C)=>N.author!==at.careNotes[C].author)&&(rt.careNotes=st,yt=!0)}if(yt){const st=ue(Xt,"notebooks",this.notebookId,"today",lt.id);_.push(rr(st,rt))}}),await Promise.all(_);const E=uE(i,o),w=Zt(),D=ue(Xt,"notebooks",this.notebookId,"today",w),P=await this.loadToday(),Y=[E,...P.careNotes],q={...P,careNotes:Y};await He(D,q,{merge:!0})}async setPrimaryCaretaker(t){await this.ensureNotebookInitialized();const a=await this.loadCaretakersFromFirestore(),{canSetPrimary:i,reason:o}=wg(a,t);if(!i)throw new Error(o||"Cannot set this caretaker as primary");const u=await this.findCaretakerByIdOrName(t);if(!u)throw new Error("Caretaker not found");const f=this.getCaretakersCollection(),m=await Vr(f),g=[];m.forEach(Y=>{const q=ue(Xt,"notebooks",this.notebookId,"caretakers",Y.id);Y.id===u.id?g.push(rr(q,{isPrimary:!0})):Y.data().isPrimary&&g.push(rr(q,{isPrimary:!1}))}),await Promise.all(g);const p=lE(u.data.name),_=Zt(),E=ue(Xt,"notebooks",this.notebookId,"today",_),w=await this.loadToday(),D=[p,...w.careNotes],P={...w,careNotes:D};await He(E,P,{merge:!0}),await this.ensureTodayDocument()}async createNotebook(t){const a=ue(Xt,"notebooks",this.notebookId),i=Pt.now();await He(a,{careeName:t.trim(),createdAt:i,lastOpenedAt:i})}async updateNotebookMetadata(t){const a=ue(Xt,"notebooks",this.notebookId),i=await Qn(a),o=i.exists()&&i.data().careeName||"Care recipient",u=t.trim();if(o!==u){await rr(a,{careeName:u,lastOpenedAt:Pt.now()});const f=p4(o,u),m=Zt(),g=ue(Xt,"notebooks",this.notebookId,"today",m),p=await this.loadToday(),_=[f,...p.careNotes],E={...p,careNotes:_};await He(g,E,{merge:!0})}else await rr(a,{lastOpenedAt:Pt.now()})}async getNotebookMetadata(){try{const t=ue(Xt,"notebooks",this.notebookId),a=await Qn(t);if(a.exists()){const i=a.data();return{careeName:i.careeName||"Care recipient",createdAt:i.createdAt||Pt.now(),lastOpenedAt:i.lastOpenedAt||Pt.now()}}return{careeName:"Care recipient",createdAt:Pt.now(),lastOpenedAt:Pt.now()}}catch(t){return t instanceof Error&&t.name,{careeName:"Care recipient",createdAt:Pt.now(),lastOpenedAt:Pt.now()}}}async getCaretakers(){try{let t=await this.loadCaretakersFromFirestore();const i=(await this.loadToday()).currentCaregiver;if(i&&i.trim()){const f=i.trim();if(!t.some(g=>g.name.toLowerCase()===f.toLowerCase())){const g=ga(),p=ga(),_=ue(Xt,"notebooks",this.notebookId,"caretakers",p),E=t.length===0,w={id:g,name:f,isPrimary:E,isActive:!0,createdAt:Pt.now()};if(await He(_,w),E&&t.length>0){const D=this.getCaretakersCollection(),P=await Vr(D),Y=[];P.forEach(q=>{if(q.id!==p&&q.data().isPrimary){const at=ue(Xt,"notebooks",this.notebookId,"caretakers",q.id);Y.push(rr(at,{isPrimary:!1}))}}),Y.length>0&&await Promise.all(Y)}t=await this.loadCaretakersFromFirestore()}}const o=[],u=new Set;for(const f of t){const m=f.name.toLowerCase();if(!u.has(m))o.push(f),u.add(m);else{const g=o.findIndex(_=>_.name.toLowerCase()===m),p=o[g];(f.isActive&&!p.isActive||f.isPrimary&&!p.isPrimary&&f.isActive===p.isActive)&&(o[g]=f)}}return o}catch(t){return t instanceof Error&&t.name==="AbortError"?[]:[]}}}function YD(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=Math.random()*16|0;return(r==="x"?t:t&3|8).toString(16)})}function sh(r){if(typeof window>"u")return;const t=new URL(window.location.href);t.searchParams.set("notebook",r),window.history.replaceState({},"",t.toString())}function Fo(){if(typeof window<"u"){const a=new URLSearchParams(window.location.search).get("notebook");if(a&&a.trim().length>0){const i=a.trim();return Rg(i),Ng(i),i}}const r=T4();return r?(sh(r),r):null}function KD(){const r=YD();return Ng(r),Rg(r),sh(r),r}function QD(r){sh(r),Rg(r),Ng(r)}class $D{firebaseAdapter;localStorageAdapter;constructor(t){this.firebaseAdapter=new xT(t),this.localStorageAdapter=new w4(t)}async loadToday(){return this.firebaseAdapter.loadToday()}async addNote(t){return this.firebaseAdapter.addNote(t)}async updateNote(t,a){return this.firebaseAdapter.updateNote(t,a)}async deleteNote(t){return this.firebaseAdapter.deleteNote(t)}async toggleTask(t){return this.firebaseAdapter.toggleTask(t)}async addTask(t){return this.firebaseAdapter.addTask(t)}async updateTask(t,a){return this.firebaseAdapter.updateTask(t,a)}async deleteTask(t){return this.firebaseAdapter.deleteTask(t)}async handoff(t){return this.localStorageAdapter.handoff(t)}async getNotesByDate(){return this.localStorageAdapter.getNotesByDate()}async notebookExists(){return this.localStorageAdapter.notebookExists()}async addCaretaker(t){return this.firebaseAdapter.addCaretaker(t)}async archiveCaretaker(t){return this.firebaseAdapter.archiveCaretaker(t)}async restoreCaretaker(t){return this.firebaseAdapter.restoreCaretaker(t)}async setPrimaryCaretaker(t){return this.firebaseAdapter.setPrimaryCaretaker(t)}async updateCaretakerName(t,a){return this.firebaseAdapter.updateCaretakerName(t,a)}async getCaretakers(){try{return await this.firebaseAdapter.getCaretakers()}catch(t){return t instanceof Error&&t.name==="AbortError"?[]:[]}}}function Qb(r){return new $D(r)}Fo();function _u(r){return new xT(r)}function XD({onStartNotebook:r,onSwitchNotebook:t,onCreateAnotherNotebook:a,notebookIndex:i}){const o=i.length>0,[u,f]=mt.useState({});return mt.useEffect(()=>{o&&(async()=>{const g={};await Promise.all(i.map(async p=>{try{const E=await _u(p.id).getNotebookMetadata();g[p.id]=E.careeName}catch{g[p.id]="Care recipient"}})),f(g)})()},[i,o]),T.jsx("main",{className:"min-h-screen",style:{backgroundColor:"var(--bg-primary)"},children:T.jsxs("section",{className:"px-6 py-12 max-w-2xl mx-auto","aria-labelledby":"landing-heading",children:[T.jsx("h1",{id:"landing-heading",className:"text-3xl md:text-4xl font-normal mb-6 leading-tight",style:{color:"var(--text-primary)"},children:"Care, shared simply."}),T.jsx("p",{className:"text-lg md:text-xl mb-8 leading-relaxed",style:{color:"var(--text-secondary)"},children:"A calm, shared notebook for families coordinating daily care  notes, tasks, and handoffs, all in one place."}),o?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-normal mb-4",style:{color:"var(--text-primary)"},children:"Your care notebooks"}),T.jsx("ul",{className:"space-y-3 mb-6",role:"list",children:i.map(m=>{const p=`${u[m.id]||"Care recipient"}'s notebook`;return T.jsx("li",{children:T.jsx("button",{type:"button",onClick:()=>t(m.id),className:"w-full px-4 py-3 rounded-md text-left focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors cursor-pointer hover:opacity-80 border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-color)","--tw-ring-color":"var(--button-bg)"},onMouseEnter:_=>{_.currentTarget.style.backgroundColor="var(--button-bg-hover)",_.currentTarget.style.color="var(--button-text)"},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="var(--bg-primary)",_.currentTarget.style.color="var(--text-primary)"},"aria-label":`Continue with ${p}`,children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:"font-medium",children:p}),T.jsx(ce,{icon:ee.back,className:"opacity-60 transform rotate-180",style:{fontSize:"0.85em"},"aria-hidden":"true"})]})})},m.id)})})]}),T.jsx("button",{type:"button",onClick:a,className:"px-6 py-3 rounded-md text-base font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors cursor-pointer hover:opacity-80",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)","--tw-ring-color":"var(--button-bg)"},onMouseEnter:m=>{m.currentTarget.style.backgroundColor="var(--button-bg-hover)"},onMouseLeave:m=>{m.currentTarget.style.backgroundColor="var(--button-bg)"},"aria-label":"Start another care notebook",children:"Start another care notebook"})]}):T.jsxs(T.Fragment,{children:[T.jsxs("ul",{className:"space-y-4 mb-10",style:{color:"var(--text-secondary)"},"aria-label":"Features",children:[T.jsxs("li",{className:"flex items-start",children:[T.jsx(ce,{icon:ee.listItem,className:"mr-3 opacity-55 mt-0.5",style:{fontSize:"0.85em"},"aria-hidden":"true"}),T.jsx("span",{children:"Keep daily notes about care, symptoms, and observations"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ce,{icon:ee.listItem,className:"mr-3 opacity-55 mt-0.5",style:{fontSize:"0.85em"},"aria-hidden":"true"}),T.jsx("span",{children:"See what matters today at a glance"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ce,{icon:ee.listItem,className:"mr-3 opacity-55 mt-0.5",style:{fontSize:"0.85em"},"aria-hidden":"true"}),T.jsx("span",{children:"Hand off responsibility clearly between caregivers"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ce,{icon:ee.listItem,className:"mr-3 opacity-55 mt-0.5",style:{fontSize:"0.85em"},"aria-hidden":"true"}),T.jsx("span",{children:"Reduce mental load during care transitions"})]})]}),T.jsx("p",{className:"text-sm mb-8 leading-relaxed opacity-75",style:{color:"var(--text-secondary)"},children:"No accounts. No setup. Just a shared care notebook."}),T.jsx("button",{type:"button",onClick:r,className:"px-6 py-3 rounded-md text-base font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors cursor-pointer hover:opacity-80",style:{backgroundColor:"var(--button-bg)",color:"var(--button-text)","--tw-ring-color":"var(--button-bg)"},onMouseEnter:m=>{m.currentTarget.style.backgroundColor="var(--button-bg-hover)"},onMouseLeave:m=>{m.currentTarget.style.backgroundColor="var(--button-bg)"},"aria-label":"Start care notebook",children:"Start care notebook"})]})]})})}const NT=mt.createContext(null);function RT(){const r=mt.useContext(NT);if(!r)throw new Error("useDataAdapter must be used within a DataAdapterProvider");return r}const ZD={sm:{width:"1rem",height:"1rem",borderWidth:"2px"},md:{width:"1.5rem",height:"1.5rem",borderWidth:"2px"},lg:{width:"2rem",height:"2rem",borderWidth:"3px"}};function yp({size:r="md",className:t=""}){const a=ZD[r];return T.jsxs("div",{className:`inline-block ${t}`,role:"status","aria-busy":"true","aria-live":"polite",children:[T.jsx("span",{className:"sr-only",children:"Loading"}),T.jsx("div",{className:"rounded-full border-solid animate-spin",style:{width:a.width,height:a.height,borderWidth:a.borderWidth,borderTopColor:"var(--text-muted)",borderRightColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent"},"aria-hidden":"true"})]})}function Xn({size:r="sm",className:t=""}){return T.jsx("span",{className:`inline-flex items-center ${t}`,children:T.jsx(yp,{size:r})})}function IT({isOpen:r,onClose:t,onSubmit:a,initialValue:i="",title:o,submitLabel:u}){const[f,m]=mt.useState(i),g=mt.useRef(null);mt.useEffect(()=>{r&&(m(i),g.current&&(g.current.focus(),g.current.select()))},[r,i]);const p=_=>{_.preventDefault();const E=f.trim();E&&(a(E),m(""))};return r?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"caree-name-modal-title",children:T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-md w-full p-6",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},onClick:_=>_.stopPropagation(),children:[T.jsx("h2",{id:"caree-name-modal-title",className:"text-xl font-normal mb-4",style:{color:"var(--text-primary)"},children:o||"Start new notebook"}),T.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Who are you caring for?"}),T.jsxs("form",{onSubmit:p,children:[T.jsx("label",{htmlFor:"caree-name-input",className:"sr-only",children:"Care recipient name"}),T.jsx("input",{id:"caree-name-input",ref:g,type:"text",value:f,onChange:_=>m(_.target.value),placeholder:"e.g. Mom, Dad, Wela",className:"w-full px-4 py-3 text-base rounded-lg border focus:outline-none focus:ring-2 focus:border-transparent mb-4",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderColor:"var(--border-color)","--tw-ring-color":"var(--focus-ring)"},required:!0,"aria-label":"Care recipient name","aria-required":"true"}),T.jsxs("div",{className:"flex gap-3 justify-end",children:[T.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-base font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Cancel",children:"Cancel"}),T.jsx("button",{type:"submit",className:"px-6 py-2 text-base font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80",style:{color:"var(--button-secondary-text)",backgroundColor:"var(--button-secondary-bg)","--tw-ring-color":"var(--focus-ring)"},onMouseEnter:_=>{_.currentTarget.style.backgroundColor="var(--button-secondary-bg-hover)"},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="var(--button-secondary-bg)"},"aria-label":u||"Create notebook",children:u||"Create notebook"})]})]})]})}):null}function JD(){const r=RT(),[t,a]=mt.useState({}),[i,o]=mt.useState([]),[u,f]=mt.useState([]),[m,g]=mt.useState(""),[p,_]=mt.useState(""),[E,w]=mt.useState(""),[D,P]=mt.useState([]),[Y,q]=mt.useState(""),[lt,at]=mt.useState(null),[rt,yt]=mt.useState(""),[st,It]=mt.useState(!0),[N,C]=mt.useState(!0),[I,V]=mt.useState(!0),[O,L]=mt.useState(!1),[x,ie]=mt.useState(!1),[ye,Q]=mt.useState(null),[ct,Et]=mt.useState(null),[tt,gt]=mt.useState(""),[R,K]=mt.useState(!1),[ot,ht]=mt.useState(null),[xt,Dt]=mt.useState(""),[Ut,Se]=mt.useState(null),[fe,La]=mt.useState(null),[ya,va]=mt.useState(null),[ta,Ln]=mt.useState("Care recipient"),[Gi,ba]=mt.useState(!1),[Yr,Kr]=mt.useState(new Set),Ae=mt.useRef(Zt()),ke=mt.useRef(i),ea=mt.useRef(!1);mt.useEffect(()=>{ke.current=i},[i]);const za=mt.useCallback(async(X=!1)=>{try{X&&V(!0);const Z=await r.loadToday();o(Z.careNotes),f(Z.tasks),w(Z.currentCaregiver),_(Z.lastUpdatedBy);const ut=await r.getCaretakers();P(ut);const dt=ut.filter(Jt=>Jt.isActive&&Jt.name!==Z.currentCaregiver);dt.length>0?q(dt[0].name):q("");const Tt=await r.getNotesByDate();a(Tt);const St=Fo();if(St){const Re=await _u(St).getNotebookMetadata();Ln(Re.careeName)}Ae.current=Zt()}catch(Z){if(Z instanceof Error&&Z.name==="AbortError"){X&&V(!1);return}console.error("Error loading state:",Z),X&&V(!1)}finally{X&&V(!1)}},[r]);mt.useEffect(()=>{ea.current||(ea.current=!0,za(!0))},[]),mt.useEffect(()=>{const X=Qr();X.length>0&&Yr.size===0&&Kr(new Set([X[0].dateKey]))},[t]),mt.useEffect(()=>{const X=()=>{document.visibilityState==="visible"&&za()},Z=()=>{za()};return document.addEventListener("visibilitychange",X),window.addEventListener("focus",Z),()=>{document.removeEventListener("visibilitychange",X),window.removeEventListener("focus",Z)}},[za]),mt.useEffect(()=>{if(!ea.current)return;const X=setInterval(()=>{document.visibilityState==="visible"&&za()},3e4);return()=>clearInterval(X)},[za]),mt.useEffect(()=>{const X=async()=>{try{const ut=Zt(),dt=Ae.current;if(dt&&dt!==ut){const Tt=await r.loadToday();o(Tt.careNotes),f(Tt.tasks),w(Tt.currentCaregiver),_(Tt.lastUpdatedBy);const St=await r.getCaretakers();P(St);const Jt=St.filter(_n=>_n.isActive&&_n.name!==Tt.currentCaregiver);Jt.length>0&&q(Jt[0].name);const Re=await r.getNotesByDate();a(Re),Ae.current=ut}}catch(ut){if(ut instanceof Error&&ut.name==="AbortError")return}};X();const Z=setInterval(X,6e4);return()=>clearInterval(Z)},[]);const Yi=X=>{const Z=new Date(X+"T00:00:00"),ut=new Date,Tt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][Z.getDay()],St=Z.toLocaleDateString("en-US",{month:"short",day:"numeric",year:Z.getFullYear()!==ut.getFullYear()?"numeric":void 0});return`${Tt}, ${St}`},nn=X=>{Kr(Z=>{const ut=new Set(Z);return ut.has(X)?ut.delete(X):ut.add(X),ut})},Ua=()=>{const X=Zt(),Z=[],ut={};for(const Tt of i){let St=!1;for(const Jt of Object.keys(t))if((t[Jt]||[]).find(Cn=>Cn.time===Tt.time&&Cn.author===Tt.author&&Cn.note===Tt.note)){ut[Jt]||(ut[Jt]=[]),ut[Jt].push(Tt),St=!0;break}St||(ut[X]||(ut[X]=[]),ut[X].push(Tt))}const dt=Object.keys(ut).filter(Tt=>ut[Tt]&&ut[Tt].length>0).sort((Tt,St)=>St.localeCompare(Tt));for(const Tt of dt)Z.push({dateKey:Tt,dateLabel:Yi(Tt),notes:ut[Tt]});return Z},Qr=()=>{const X=Zt(),Z=[],ut=Object.keys(t).filter(dt=>dt!==X&&t[dt]&&t[dt].length>0).sort((dt,Tt)=>Tt.localeCompare(dt)).slice(0,3);for(const dt of ut)Z.push({dateKey:dt,dateLabel:Yi(dt),notes:t[dt]});return Z},Ki=async()=>{if(m.trim()&&!O)try{L(!0);const X=await r.addNote(m.trim());o([X,...i]),g("");const Z=await r.getNotesByDate();a(Z)}catch(X){if(X instanceof Error&&X.name==="AbortError")return;let Z="Failed to add comment. Please try again.";X instanceof Error&&(X.message.includes("quota")||X.message.includes("resource-exhausted")||X?.code==="resource-exhausted"?Z="Unable to add comment: Firebase quota exceeded. Please try again later or contact support.":Z=X.message||Z),alert(Z)}finally{L(!1)}},_a=async()=>{const X=D.filter(ut=>ut.isActive&&ut.name!==E);if(X.length===0||x)return;let Z;Y&&X.some(ut=>ut.name===Y)?Z=Y:Z=X[0].name;try{ie(!0),await r.handoff(Z);const ut=await r.loadToday();o(ut.careNotes),f(ut.tasks),w(ut.currentCaregiver),_(ut.lastUpdatedBy);const dt=await r.getCaretakers();P(dt);const Tt=dt.filter(Jt=>Jt.isActive&&Jt.name!==ut.currentCaregiver);Tt.length>0&&q(Tt[0].name);const St=await r.getNotesByDate();a(St)}catch(ut){if(ut instanceof Error&&ut.name==="AbortError")return}finally{ie(!1)}},Qo=X=>{Q(null),at(X),yt(i[X].note)},Os=()=>{at(null),yt("")},Ms=async X=>{if(rt.trim()&&ye!==X)try{Q(X);const Z=await r.updateNote(X,rt.trim()),ut=[...i];ut[X]=Z,o(ut);const dt=await r.getNotesByDate();a(dt),Q(null),at(null),yt("")}catch(Z){if(Z instanceof Error&&Z.name==="AbortError"){Q(null);return}let ut="Failed to save comment. Please try again.";Z instanceof Error&&(Z.message.includes("quota")||Z.message.includes("resource-exhausted")||Z?.code==="resource-exhausted"?ut="Unable to save comment: Firebase quota exceeded. Please try again later or contact support.":ut=Z.message||ut),alert(ut),Q(null)}},Vs=async X=>{if(ct!==X)try{Et(X),await r.deleteNote(X);const Z=i.filter((dt,Tt)=>Tt!==X);o(Z);const ut=await r.getNotesByDate();a(ut)}catch(Z){if(Z instanceof Error&&Z.name==="AbortError")return}finally{Et(null)}},zn=async()=>{if(tt.trim()&&!R)try{K(!0);const X=await r.addTask(tt.trim());f([X,...u]),gt("")}catch(X){if(X instanceof Error&&X.name==="AbortError")return;let Z="Failed to add task. Please try again.";X instanceof Error&&(X.message.includes("quota")||X.message.includes("resource-exhausted")||X?.code==="resource-exhausted"?Z="Unable to add task: Firebase quota exceeded. Please try again later or contact support.":Z=X.message||Z),alert(Z)}finally{K(!1)}},Qe=X=>{const Z=u.find(ut=>ut.id===X);Z&&(ht(X),Dt(Z.text))},wn=()=>{ht(null),Dt("")},xe=async X=>{if(xt.trim()&&Ut!==X)try{Se(X);const Z=await r.updateTask(X,xt.trim());f(u.map(ut=>ut.id===X?Z:ut)),Se(null),ht(null),Dt("")}catch(Z){if(Z instanceof Error&&Z.name==="AbortError"){Se(null);return}let ut="Failed to save task. Please try again.";Z instanceof Error&&(Z.message.includes("quota")||Z.message.includes("resource-exhausted")||Z?.code==="resource-exhausted"?ut="Unable to save task: Firebase quota exceeded. Please try again later or contact support.":ut=Z.message||ut),alert(ut),Se(null)}},js=async X=>{if(fe!==X)try{La(X),await r.deleteTask(X),f(u.filter(Z=>Z.id!==X))}catch(Z){if(Z instanceof Error&&Z.name==="AbortError")return}finally{La(null)}};return T.jsxs("main",{className:"min-h-screen",style:{backgroundColor:"var(--bg-primary)"},children:[T.jsx("div",{className:"px-6 py-8 max-w-2xl mx-auto",children:I?T.jsx("div",{className:"flex items-center justify-center py-16",children:T.jsx(yp,{size:"lg"})}):T.jsxs(T.Fragment,{children:[T.jsx("h1",{className:"text-3xl md:text-4xl font-normal mb-8 leading-tight",style:{color:"var(--text-primary)"},children:"Today"}),T.jsxs("header",{className:"mb-8 pb-6 border-b",style:{borderColor:"var(--border-color)"},children:[T.jsxs("h2",{className:"text-lg font-normal mb-2 inline-flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[T.jsx(ce,{icon:ee.notebook,className:"mr-2 opacity-75",style:{fontSize:"0.95em"},"aria-hidden":"true"}),T.jsxs("span",{children:["Today  ",ta]}),T.jsx("button",{type:"button",onClick:()=>ba(!0),className:"p-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80",style:{color:"var(--text-secondary)","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Edit care recipient name",title:"Edit care recipient name",children:T.jsx(ce,{icon:ee.quickNote,style:{fontSize:"0.75em"},"aria-hidden":"true"})})]}),T.jsxs("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:["Current caregiver: ",T.jsx("span",{className:"font-medium",style:{color:"var(--text-secondary)"},"aria-label":`Current caregiver is ${E}`,children:E})]})]}),i.length===0&&u.length===0&&T.jsx("section",{className:"mb-8",children:T.jsxs("p",{className:"text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:["This is today's shared care notebook. Add notes as things happen, and they'll be here for everyone helping care for ",ta,"."]})}),T.jsxs("section",{className:"mb-12","aria-labelledby":"quick-note-heading",children:[T.jsxs("h2",{id:"quick-note-heading",className:"text-xl font-normal mb-4",style:{color:"var(--text-primary)"},children:[T.jsx(ce,{icon:ee.quickNote,className:"mr-2 opacity-70",style:{fontSize:"0.85em"},"aria-hidden":"true"}),"Quick note"]}),T.jsxs("form",{className:"space-y-3",onSubmit:X=>{X.preventDefault(),Ki()},"aria-label":"Add a care note",children:[T.jsx("label",{htmlFor:"note-textarea",className:"sr-only",children:"Note text"}),T.jsx("textarea",{id:"note-textarea",value:m,onChange:X=>g(X.target.value),placeholder:"Add a note about care, symptoms, or anything that feels important",className:"w-full px-4 py-3 text-base rounded-lg border focus:outline-none focus:ring-2 focus:border-transparent resize-y min-h-[100px] leading-relaxed",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderColor:"var(--border-color)","--tw-ring-color":"var(--focus-ring)"},rows:4,"aria-label":"Add a note about care, symptoms, or anything that feels important","aria-required":"false"}),T.jsxs("button",{type:"submit",disabled:O,className:"w-full sm:w-auto px-6 py-3 text-base font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2",style:{color:"var(--button-secondary-text)",backgroundColor:"var(--button-secondary-bg)","--tw-ring-color":"var(--focus-ring)"},onMouseEnter:X=>{O||(X.currentTarget.style.backgroundColor="var(--button-secondary-bg-hover)")},onMouseLeave:X=>{X.currentTarget.style.backgroundColor="var(--button-secondary-bg)"},"aria-label":"Add note to care notebook",children:[O&&T.jsx(Xn,{size:"sm"}),"Add note"]})]})]}),T.jsxs("section",{className:"mb-6","aria-labelledby":"care-notes-heading",children:[T.jsxs("button",{type:"button",onClick:()=>It(!st),className:"w-full flex items-center justify-between text-left mb-2 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg px-2 py-1 -ml-2 hover:opacity-80 transition-opacity",style:{"--tw-ring-color":"var(--focus-ring)"},"aria-expanded":st,"aria-controls":"care-notes-content",children:[T.jsxs("h2",{id:"care-notes-heading",className:"text-lg font-normal inline-flex items-center",style:{color:"var(--text-secondary)"},children:[T.jsx(ce,{icon:ee.careNotes,className:"mr-2 opacity-60",style:{fontSize:"0.85em"},"aria-hidden":"true"}),"Care Notes",i.length>0&&T.jsxs("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-muted)"},children:["(",i.length,")"]})]}),T.jsx(ce,{icon:st?ee.chevronUp:ee.chevronDown,className:"opacity-50",style:{fontSize:"0.75em",color:"var(--text-secondary)"},"aria-hidden":"true"})]}),T.jsx("div",{id:"care-notes-content",className:st?"":"hidden",children:i.length===0?T.jsxs("div",{className:"py-6",role:"status","aria-live":"polite",children:[T.jsx("p",{className:"text-base mb-2",style:{color:"var(--text-secondary)"},children:"No notes yet today"}),T.jsxs("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:["When you add a note, it will appear here for everyone caring for ",ta,"."]})]}):T.jsx("div",{className:"space-y-6",role:"list","aria-label":"Care notes",children:Ua().map(X=>{let Z=0;const ut=Ua();for(const dt of ut){if(dt.dateKey===X.dateKey)break;Z+=dt.notes.length}return T.jsxs("div",{children:[T.jsx("h3",{className:"text-base font-medium mb-3",style:{color:"var(--text-secondary)"},children:X.dateLabel}),X.notes.length===0?T.jsx("p",{className:"text-sm py-2",style:{color:"var(--text-muted)"},children:"No notes for this day."}):T.jsx("div",{className:"space-y-4",children:X.notes.map((dt,Tt)=>{const St=Z+Tt,Re=((ve,Ea)=>{try{const[gn,rn]=ve.split(" "),[na,Ta]=gn.split(":");let En=parseInt(na,10);rn==="PM"&&En!==12&&(En+=12),rn==="AM"&&En===12&&(En=0);const Qi=new Date(Ea+"T00:00:00");return Qi.setHours(En,parseInt(Ta,10)),Qi.toISOString()}catch{return""}})(dt.time,X.dateKey),_n=lt===St,Cn=d4(dt,E),an=m4(dt,E);return T.jsx("article",{className:"border-b pb-4 last:border-b-0",style:{borderColor:"var(--border-color)"},role:"listitem",children:T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsxs("time",{className:"text-sm font-medium whitespace-nowrap",style:{color:"var(--text-muted)"},dateTime:Re||void 0,"aria-label":`Note added at ${dt.time} on ${X.dateLabel}`,children:[T.jsx(ce,{icon:ee.time,className:"mr-1 opacity-60",style:{fontSize:"0.85em"},"aria-hidden":"true"}),dt.time]}),T.jsx("div",{className:"flex-1",children:_n?T.jsxs("div",{className:"space-y-2",children:[T.jsx("textarea",{value:rt,onChange:ve=>yt(ve.target.value),className:"w-full px-4 py-3 text-base rounded-lg border focus:outline-none focus:ring-2 focus:border-transparent resize-y min-h-[100px] leading-relaxed",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderColor:"var(--border-color)","--tw-ring-color":"var(--focus-ring)"},rows:4,autoFocus:!0}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{type:"button",onClick:()=>Ms(St),disabled:ye===St,className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2",style:{color:"var(--button-secondary-text)",backgroundColor:"var(--button-secondary-bg)","--tw-ring-color":"var(--focus-ring)"},onMouseEnter:ve=>{ye!==St&&(ve.currentTarget.style.backgroundColor="var(--button-secondary-bg-hover)")},onMouseLeave:ve=>{ve.currentTarget.style.backgroundColor="var(--button-secondary-bg)"},"aria-label":"Save edited note",children:[ye===St&&T.jsx(Xn,{size:"sm"}),"Save"]}),T.jsx("button",{type:"button",onClick:Os,className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Cancel editing",children:"Cancel"})]})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex items-start justify-between gap-2",children:[T.jsx("p",{className:"text-base leading-relaxed flex-1",style:{color:dt.author==="System"?"var(--text-muted)":"var(--text-primary)",fontStyle:dt.author==="System"?"italic":"normal"},children:dt.note}),T.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[Cn&&T.jsx("button",{type:"button",onClick:()=>Qo(St),className:"text-sm px-2 py-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Edit note",children:"Edit"}),an&&T.jsx("button",{type:"button",onClick:()=>Vs(St),disabled:ct===St,className:"text-sm px-2 py-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-1",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Delete note",children:ct===St?T.jsxs(T.Fragment,{children:[T.jsx(Xn,{size:"sm"}),T.jsx("span",{className:"sr-only",children:"Deleting..."})]}):"Delete"})]})]}),T.jsxs("p",{className:"text-xs mt-1.5",style:{color:"var(--text-light)"},"aria-label":`Noted by ${dt.author}`,children:[" ",dt.author,dt.editedAt&&(()=>{try{const ve=new Date(dt.editedAt),Ea=new Date,gn=ve.toLocaleDateString("en-US",{month:"short",day:"numeric",year:ve.getFullYear()!==Ea.getFullYear()?"numeric":void 0}),rn=ve.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),na=`${gn} at ${rn}`,Ta=`Note was edited on ${gn} at ${rn}`;return T.jsxs("span",{className:"ml-2",style:{color:"var(--text-muted)"},"aria-label":Ta,children:["(edited at ",na,")"]})}catch{return T.jsx("span",{className:"ml-2",style:{color:"var(--text-muted)"},"aria-label":"Note was edited",children:"(edited)"})}})()]})]})})]})},St)})})]},X.dateKey)})})})]}),T.jsxs("section",{className:"mb-12","aria-labelledby":"tasks-heading",children:[T.jsxs("h2",{id:"tasks-heading",className:"text-xl font-normal mb-4",style:{color:"var(--text-primary)"},children:[T.jsx(ce,{icon:ee.tasks,className:"mr-2 opacity-70",style:{fontSize:"0.85em"},"aria-hidden":"true"}),"What matters next"]}),T.jsxs("form",{className:"mb-6 space-y-3",onSubmit:X=>{X.preventDefault(),zn()},"aria-label":"Add a task",children:[T.jsx("label",{htmlFor:"task-input",className:"sr-only",children:"Task text"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{id:"task-input",type:"text",value:tt,onChange:X=>gt(X.target.value),placeholder:"Add a task or reminder",className:"flex-1 px-4 py-3 text-base rounded-lg border focus:outline-none focus:ring-2 focus:border-transparent",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderColor:"var(--border-color)","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Add a task or reminder"}),T.jsxs("button",{type:"submit",disabled:R||!tt.trim(),className:"px-6 py-3 text-base font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2",style:{color:"var(--button-secondary-text)",backgroundColor:"var(--button-secondary-bg)","--tw-ring-color":"var(--focus-ring)"},onMouseEnter:X=>{!R&&tt.trim()&&(X.currentTarget.style.backgroundColor="var(--button-secondary-bg-hover)")},onMouseLeave:X=>{X.currentTarget.style.backgroundColor="var(--button-secondary-bg)"},"aria-label":"Add task",children:[R&&T.jsx(Xn,{size:"sm"}),"Add"]})]})]}),(()=>{const X=u.filter(dt=>!dt.completed),Z=u.filter(dt=>dt.completed),ut=dt=>{const Tt=ot===dt.id;return T.jsxs("li",{className:"flex items-start gap-3",role:"listitem",children:[T.jsxs("div",{className:"relative mt-1",children:[T.jsx("input",{type:"checkbox",id:dt.id,checked:dt.completed,onChange:async()=>{if(ya===dt.id)return;const St=dt.id;try{va(St),await r.toggleTask(St);const Jt=await r.loadToday();f(Jt.tasks),setTimeout(()=>{va(null)},100)}catch(Jt){if(Jt instanceof Error&&Jt.name==="AbortError"){va(null);return}const Re=await r.loadToday();f(Re.tasks),setTimeout(()=>{va(null)},100)}},className:"w-5 h-5 rounded focus:ring-2 focus:ring-offset-2 cursor-pointer",style:{accentColor:"var(--text-primary)",borderColor:"var(--border-color)","--tw-ring-color":"var(--text-primary)",opacity:ya===dt.id?.5:1},"aria-label":`${dt.text}, ${dt.completed?"completed":"not completed"}`,"aria-checked":dt.completed,disabled:Tt||ya===dt.id}),ya===dt.id&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:T.jsx(Xn,{size:"sm"})})]}),T.jsx("div",{className:"flex-1",children:Tt?T.jsxs("div",{className:"space-y-2",children:[T.jsx("input",{type:"text",value:xt,onChange:St=>Dt(St.target.value),className:"w-full px-4 py-2 text-base rounded-lg border focus:outline-none focus:ring-2 focus:border-transparent",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderColor:"var(--border-color)","--tw-ring-color":"var(--focus-ring)"},autoFocus:!0}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{type:"button",onClick:()=>xe(dt.id),disabled:Ut===dt.id,className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2",style:{color:"var(--button-secondary-text)",backgroundColor:"var(--button-secondary-bg)","--tw-ring-color":"var(--focus-ring)"},onMouseEnter:St=>{Ut!==dt.id&&(St.currentTarget.style.backgroundColor="var(--button-secondary-bg-hover)")},onMouseLeave:St=>{St.currentTarget.style.backgroundColor="var(--button-secondary-bg)"},"aria-label":"Save edited task",children:[Ut===dt.id&&T.jsx(Xn,{size:"sm"}),"Save"]}),T.jsx("button",{type:"button",onClick:wn,className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Cancel editing",children:"Cancel"})]})]}):T.jsxs("div",{className:"flex items-start justify-between gap-2",children:[T.jsx("label",{htmlFor:dt.id,className:"text-base leading-relaxed flex-1 cursor-pointer",style:{color:dt.completed?"var(--text-light)":"var(--text-primary)",textDecoration:dt.completed?"line-through":"none"},children:dt.text}),T.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[T.jsx("button",{type:"button",onClick:()=>Qe(dt.id),className:"text-sm px-2 py-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Edit task",children:"Edit"}),T.jsx("button",{type:"button",onClick:()=>js(dt.id),disabled:fe===dt.id,className:"text-sm px-2 py-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-1",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Delete task",children:fe===dt.id?T.jsxs(T.Fragment,{children:[T.jsx(Xn,{size:"sm"}),T.jsx("span",{className:"sr-only",children:"Deleting..."})]}):"Delete"})]})]})})]},dt.id)};return T.jsxs(T.Fragment,{children:[X.length>0?T.jsxs("div",{className:"mb-8",children:[T.jsx("h3",{className:"text-lg font-normal mb-3",style:{color:"var(--text-secondary)"},children:"To do"}),T.jsx("ul",{className:"space-y-3",role:"list","aria-label":"Tasks to do",children:X.map(ut)})]}):u.length===0?T.jsxs("div",{className:"py-2",role:"status",children:[T.jsx("p",{className:"text-base",style:{color:"var(--text-secondary)"},children:"No upcoming tasks added yet."}),T.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"Use the form above to add reminders for follow-up care, medications, appointments, or anything that needs to happen next."})]}):null,Z.length>0&&T.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-color)"},children:[T.jsx("h3",{className:"text-lg font-normal mb-3",style:{color:"var(--text-secondary)"},children:"Complete"}),T.jsx("ul",{className:"space-y-3",role:"list","aria-label":"Completed tasks",children:Z.map(ut)})]})]})})()]}),T.jsxs("section",{className:"border-t pt-8 mt-10",style:{borderColor:"var(--border-color)"},"aria-labelledby":"handoff-heading",children:[T.jsxs("h2",{id:"handoff-heading",className:"text-xl font-normal mb-4",style:{color:"var(--text-primary)"},children:[T.jsx(ce,{icon:ee.handoff,className:"mr-2 opacity-70",style:{fontSize:"0.85em"},"aria-hidden":"true"}),"Handoff"]}),D.length===0?T.jsx("div",{className:"space-y-3 text-base",style:{color:"var(--text-secondary)"},children:T.jsxs("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:["No caregivers have been added yet. Go to Care Team to add the people helping care for ",ta,"."]})}):T.jsxs("div",{className:"space-y-3 text-base",style:{color:"var(--text-secondary)"},children:[T.jsxs("p",{children:["Last updated by: ",T.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},"aria-label":`Last updated by ${p||"nobody yet"}`,children:p||"nobody yet"})]}),T.jsxs("p",{children:["Current caregiver: ",T.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},"aria-label":`Current caregiver is ${E||"not set"}`,children:E||"not set"})]}),(()=>{const X=D.filter(Z=>Z.isActive&&Z.name!==E);if(X.length===0)return T.jsx("div",{className:"mt-4",children:T.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"No other active caretakers available for handoff."})});if(X.length===1){const Z=X[0].name;return T.jsxs("button",{type:"button",onClick:_a,disabled:x,className:"mt-4 px-6 py-3 text-base font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2",style:{color:"var(--button-secondary-text)",backgroundColor:"var(--button-secondary-bg)","--tw-ring-color":"var(--focus-ring)"},onMouseEnter:ut=>{x||(ut.currentTarget.style.backgroundColor="var(--button-secondary-bg-hover)")},onMouseLeave:ut=>{ut.currentTarget.style.backgroundColor="var(--button-secondary-bg)"},"aria-label":`Hand off care to ${Z}`,children:[x?T.jsx(Xn,{size:"sm"}):T.jsx(ce,{icon:ee.handoff,className:"opacity-70",style:{fontSize:"0.85em"},"aria-hidden":"true"}),"Hand off care to ",Z]})}return T.jsxs("div",{className:"mt-4 space-y-3",children:[T.jsx("label",{htmlFor:"handoff-select",className:"block text-sm",style:{color:"var(--text-secondary)"},children:"Hand off care to:"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("select",{id:"handoff-select",value:Y,onChange:Z=>q(Z.target.value),className:"flex-1 px-4 py-3 text-base rounded-lg border focus:outline-none focus:ring-2 focus:border-transparent",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderColor:"var(--border-color)","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Select caregiver to hand off care to",children:X.map(Z=>T.jsx("option",{value:Z.name,children:Z.name},Z.id))}),T.jsxs("button",{type:"button",onClick:_a,disabled:x,className:"px-6 py-3 text-base font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2",style:{color:"var(--button-secondary-text)",backgroundColor:"var(--button-secondary-bg)","--tw-ring-color":"var(--focus-ring)"},onMouseEnter:Z=>{x||(Z.currentTarget.style.backgroundColor="var(--button-secondary-bg-hover)")},onMouseLeave:Z=>{Z.currentTarget.style.backgroundColor="var(--button-secondary-bg)"},"aria-label":`Hand off care to ${Y}`,children:[x?T.jsx(Xn,{size:"sm"}):T.jsx(ce,{icon:ee.handoff,className:"opacity-70",style:{fontSize:"0.85em"},"aria-hidden":"true"}),"Hand off"]})]})]})})()]})]}),(()=>{const X=Qr();return X.length===0?null:T.jsxs("section",{className:"border-t pt-6 mt-6",style:{borderColor:"var(--border-color)"},"aria-labelledby":"earlier-heading",children:[T.jsxs("button",{type:"button",onClick:()=>C(!N),className:"w-full flex items-center justify-between text-left mb-2 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg px-2 py-1 -ml-2 hover:opacity-80 transition-opacity",style:{"--tw-ring-color":"var(--focus-ring)"},"aria-expanded":N,"aria-controls":"earlier-content",children:[T.jsxs("h2",{id:"earlier-heading",className:"text-lg font-normal inline-flex items-center",style:{color:"var(--text-secondary)"},children:[T.jsx(ce,{icon:ee.careNotes,className:"mr-2 opacity-60",style:{fontSize:"0.85em"},"aria-hidden":"true"}),"Earlier"]}),T.jsx(ce,{icon:N?ee.chevronUp:ee.chevronDown,className:"opacity-50",style:{fontSize:"0.75em",color:"var(--text-secondary)"},"aria-hidden":"true"})]}),T.jsxs("div",{id:"earlier-content",className:N?"":"hidden",children:[X.length>0&&T.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-muted)"},children:"Click on any day to expand or collapse its notes."}),T.jsx("div",{className:"space-y-6",role:"list","aria-label":"Earlier care notes",children:X.map(Z=>{const ut=Yr.has(Z.dateKey);return T.jsxs("div",{role:"listitem",children:[T.jsxs("button",{type:"button",onClick:()=>nn(Z.dateKey),className:"w-full flex items-center justify-between text-left mb-3 focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg px-2 py-1 -ml-2 hover:opacity-80 transition-opacity",style:{"--tw-ring-color":"var(--focus-ring)"},"aria-expanded":ut,"aria-controls":`earlier-day-${Z.dateKey}`,children:[T.jsx("h3",{className:"text-base font-medium",style:{color:"var(--text-secondary)"},children:Z.dateLabel}),T.jsx(ce,{icon:ut?ee.chevronUp:ee.chevronDown,className:"opacity-50",style:{fontSize:"0.75em",color:"var(--text-secondary)"},"aria-hidden":"true"})]}),Z.notes.length===0?T.jsx("p",{className:"text-sm py-2",style:{color:"var(--text-muted)"},children:"No notes for this day."}):T.jsx("ul",{id:`earlier-day-${Z.dateKey}`,className:ut?"space-y-2":"hidden",role:"list","aria-label":`Care notes for ${Z.dateLabel}`,children:Z.notes.map((dt,Tt)=>{const St={...dt,author:dt.author||"Unknown"},Re=((_n,Cn)=>{try{const[an,ve]=_n.split(" "),[Ea,gn]=an.split(":");let rn=parseInt(Ea,10);ve==="PM"&&rn!==12&&(rn+=12),ve==="AM"&&rn===12&&(rn=0);const na=new Date(Cn+"T00:00:00");return na.setHours(rn,parseInt(gn,10)),na.toISOString()}catch{return""}})(St.time,Z.dateKey);return T.jsxs("li",{className:"flex items-start gap-3",role:"listitem",children:[T.jsxs("time",{className:"text-sm font-medium whitespace-nowrap",style:{color:"var(--text-muted)"},dateTime:Re||void 0,"aria-label":`Note added at ${St.time} on ${Z.dateLabel}`,children:[T.jsx(ce,{icon:ee.time,className:"mr-1 opacity-60",style:{fontSize:"0.85em"},"aria-hidden":"true"}),St.time]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm leading-relaxed flex-1",style:{color:St.author==="System"?"var(--text-light)":"var(--text-secondary)",fontStyle:St.author==="System"?"italic":"normal"},children:St.note}),T.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-light)"},"aria-label":`Noted by ${St.author}`,children:[" ",St.author,St.editedAt&&(()=>{try{const _n=new Date(St.editedAt),Cn=new Date,an=_n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:_n.getFullYear()!==Cn.getFullYear()?"numeric":void 0}),ve=_n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),Ea=`${an} at ${ve}`,gn=`Note was edited on ${an} at ${ve}`;return T.jsxs("span",{className:"ml-2",style:{color:"var(--text-muted)"},"aria-label":gn,children:["(edited at ",Ea,")"]})}catch{return T.jsx("span",{className:"ml-2",style:{color:"var(--text-muted)"},"aria-label":"Note was edited",children:"(edited)"})}})()]})]})]},Tt)})})]},Z.dateKey)})})]})]})})()]})}),T.jsx(IT,{isOpen:Gi,onClose:()=>ba(!1),onSubmit:async X=>{try{const Z=Fo();Z&&(await _u(Z).updateNotebookMetadata(X),Ln(X),ba(!1))}catch(Z){if(Z instanceof Error&&Z.name==="AbortError")return}},initialValue:ta,title:"Update care recipient name",submitLabel:"Update"})]})}function WD(){const r=RT(),[t,a]=mt.useState([]),[i,o]=mt.useState(""),[u,f]=mt.useState(""),[m,g]=mt.useState(!0),[p,_]=mt.useState(!1),[E,w]=mt.useState(null),[D,P]=mt.useState(null),[Y,q]=mt.useState(null),[lt,at]=mt.useState("Care recipient"),[rt,yt]=mt.useState(null),[st,It]=mt.useState(""),[N,C]=mt.useState(null),I=mt.useRef(!1),V=tt=>{yt(tt.id),It(tt.name)},O=()=>{yt(null),It("")},L=async tt=>{const gt=st.trim();if(!gt||gt===tt){O();return}try{C(tt),await r.updateCaretakerName(tt,gt);const R=await r.getCaretakers();a(R);const K=await r.loadToday();o(K.currentCaregiver),O()}catch(R){if(R instanceof Error&&R.name==="AbortError")return;alert(R instanceof Error?R.message:"Failed to update caretaker name")}finally{C(null)}};mt.useEffect(()=>{if(I.current)return;I.current=!0,(async()=>{try{g(!0);const gt=await r.getCaretakers();a(gt);const R=await r.loadToday();o(R.currentCaregiver);const K=Fo();if(K){const ht=await _u(K).getNotebookMetadata();at(ht.careeName)}}catch(gt){console.error("Error loading CareTeam state:",gt),g(!1)}finally{g(!1)}})()},[]);const x=async()=>{if(u.trim()&&!p)try{_(!0);const tt=u.trim(),gt=Ag(t,tt),R=gt.length>t.length;R&&(a(gt),f("")),await r.addCaretaker(tt);const K=await r.getCaretakers();(K.some(xt=>xt.name.toLowerCase()===tt.toLowerCase())||K.length>=gt.length)&&a(K);const ht=await r.loadToday();o(ht.currentCaregiver)}catch(tt){if(tt instanceof Error&&tt.name==="AbortError")return;const gt=await r.getCaretakers();a(gt)}finally{_(!1)}},ie=async tt=>{if(E!==tt)try{w(tt);const{caretakers:gt,canArchive:R}=Cg(t,tt,i);R&&a(gt),await r.archiveCaretaker(tt);const K=await r.getCaretakers();a(K);const ot=await r.loadToday();o(ot.currentCaregiver)}catch(gt){if(gt instanceof Error&&gt.name==="AbortError")return;const R=await r.getCaretakers();a(R),alert(gt instanceof Error?gt.message:"Cannot archive this caregiver")}finally{w(null)}},ye=async tt=>{if(D!==tt)try{P(tt);const{caretakers:gt,canRestore:R}=xg(t,tt);R&&a(gt),await r.restoreCaretaker(tt);const K=await r.getCaretakers();a(K);const ot=await r.loadToday();o(ot.currentCaregiver)}catch(gt){if(gt instanceof Error&&gt.name==="AbortError")return;const R=await r.getCaretakers();a(R),alert(gt instanceof Error?gt.message:"Cannot restore this caregiver")}finally{P(null)}},Q=async tt=>{if(Y!==tt)try{q(tt);const{caretakers:gt,canSetPrimary:R}=wg(t,tt);R&&a(gt),await r.setPrimaryCaretaker(tt);const K=await r.getCaretakers();a(K);const ot=await r.loadToday();o(ot.currentCaregiver)}catch(gt){if(gt instanceof Error&&gt.name==="AbortError")return;const R=await r.getCaretakers();a(R),alert(gt instanceof Error?gt.message:"Cannot set this caregiver as primary")}finally{q(null)}},ct=mt.useMemo(()=>t.filter(tt=>tt.isActive),[t]),Et=mt.useMemo(()=>t.filter(tt=>!tt.isActive),[t]);return T.jsx("main",{className:"min-h-screen",style:{backgroundColor:"var(--bg-primary)"},children:T.jsx("div",{className:"px-6 py-8 max-w-2xl mx-auto",children:m?T.jsx("div",{className:"flex items-center justify-center py-16",children:T.jsx(yp,{size:"lg"})}):T.jsxs(T.Fragment,{children:[T.jsxs("h1",{className:"text-3xl md:text-4xl font-normal mb-8 leading-tight",style:{color:"var(--text-primary)"},children:["Care Team for ",lt]}),T.jsx("header",{className:"mb-8 pb-6 border-b",style:{borderColor:"var(--border-color)"},children:T.jsxs("p",{className:"text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:["Manage the people who help care for ",lt,". Changes here affect everyone on the care team."]})}),T.jsxs("section",{className:"mb-8","aria-labelledby":"active-caretakers-heading",children:[T.jsxs("h2",{id:"active-caretakers-heading",className:"text-xl font-normal mb-4",style:{color:"var(--text-primary)"},children:[T.jsx(ce,{icon:ee.caregiver,className:"mr-2 opacity-70",style:{fontSize:"0.85em"},"aria-hidden":"true"}),"Active Care Team"]}),ct.length>0?T.jsx("ul",{className:"space-y-2 mb-6",role:"list","aria-label":"List of active caretakers",children:ct.map(tt=>{const gt=tt.name===i,R=tt.isPrimary,K=!R&&!gt,ot=!R;return T.jsxs("li",{className:"flex items-center justify-between gap-3 py-3 px-4 border rounded-lg",style:{borderColor:"var(--border-color)"},role:"listitem",children:[T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[R&&T.jsx("span",{className:"text-base","aria-label":"Primary contact",title:"Primary contact",children:""}),rt===tt.id?T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T.jsx("input",{type:"text",value:st,onChange:ht=>It(ht.target.value),onKeyDown:ht=>{ht.key==="Enter"?L(tt.name):ht.key==="Escape"&&O()},className:"flex-1 px-2 py-1 text-base rounded border focus:outline-none focus:ring-2 focus:border-transparent",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderColor:"var(--border-color)","--tw-ring-color":"var(--focus-ring)"},autoFocus:!0,disabled:N===tt.name}),T.jsx("button",{type:"button",onClick:()=>L(tt.name),disabled:N===tt.name,className:"text-sm px-2 py-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed",style:{color:"var(--button-secondary-text)",backgroundColor:"var(--button-secondary-bg)","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Save caretaker name",children:N===tt.name?T.jsx(Xn,{size:"sm"}):"Save"}),T.jsx("button",{type:"button",onClick:O,disabled:N===tt.name,className:"text-sm px-2 py-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Cancel editing",children:"Cancel"})]}):T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"text-base",style:{color:"var(--text-primary)"},children:tt.name}),gt&&T.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{color:"var(--text-secondary)",backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)"},children:"Current"})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[rt!==tt.id&&T.jsx("button",{type:"button",onClick:()=>V(tt),className:"text-sm px-3 py-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 inline-flex items-center gap-2",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":`Edit ${tt.name}'s name`,title:"Edit name",children:T.jsx(ce,{icon:ee.quickNote,style:{fontSize:"0.75em"},"aria-hidden":"true"})}),ot&&rt!==tt.id&&T.jsxs("button",{type:"button",onClick:()=>Q(tt.name),disabled:Y===tt.name,className:"text-sm px-3 py-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":`Set ${tt.name} as primary contact`,children:[Y===tt.name&&T.jsx(Xn,{size:"sm"}),"Set as primary"]}),K&&rt!==tt.id?T.jsxs("button",{type:"button",onClick:()=>ie(tt.name),disabled:E===tt.name,className:"text-sm px-3 py-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":`Archive ${tt.name}`,children:[E===tt.name&&T.jsx(Xn,{size:"sm"}),"Archive"]}):rt!==tt.id?T.jsx("span",{className:"text-sm",style:{color:"var(--text-muted)"},title:R?"Cannot archive primary contact":"Cannot archive current caregiver",children:R?"Primary":"Current"}):null]})]},tt.id)})}):T.jsx("div",{className:"py-4 mb-6",role:"status",children:T.jsx("p",{className:"text-base",style:{color:"var(--text-secondary)"},children:"No active caretakers. Please restore a caretaker below or add a new one."})})]}),Et.length>0&&T.jsxs("section",{className:"mb-8","aria-labelledby":"inactive-caretakers-heading",children:[T.jsx("h2",{id:"inactive-caretakers-heading",className:"text-xl font-normal mb-4",style:{color:"var(--text-primary)"},children:"Inactive"}),T.jsx("ul",{className:"space-y-2",role:"list","aria-label":"List of inactive caretakers",children:Et.map(tt=>T.jsxs("li",{className:"flex items-center justify-between gap-3 py-3 px-4 border rounded-lg",style:{borderColor:"var(--border-color)"},role:"listitem",children:[T.jsx("div",{className:"flex items-center gap-2 flex-1",children:T.jsx("span",{className:"text-base",style:{color:"var(--text-muted)"},children:tt.name})}),T.jsxs("button",{type:"button",onClick:()=>ye(tt.name),disabled:D===tt.name,className:"text-sm px-3 py-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2",style:{color:"var(--text-secondary)",backgroundColor:"transparent","--tw-ring-color":"var(--focus-ring)"},"aria-label":`Restore ${tt.name}`,children:[D===tt.name&&T.jsx(Xn,{size:"sm"}),"Restore"]})]},tt.id))})]}),T.jsxs("section",{className:"border-t pt-8 mt-8",style:{borderColor:"var(--border-color)"},"aria-labelledby":"add-caretaker-heading",children:[T.jsx("h2",{id:"add-caretaker-heading",className:"text-xl font-normal mb-4",style:{color:"var(--text-primary)"},children:"Add Care Team Member"}),T.jsxs("form",{className:"flex gap-2",onSubmit:tt=>{tt.preventDefault(),x()},"aria-label":"Add a new caretaker",children:[T.jsx("input",{type:"text",value:u,onChange:tt=>f(tt.target.value),placeholder:"Enter name",className:"flex-1 px-4 py-3 text-base rounded-lg border focus:outline-none focus:ring-2 focus:border-transparent",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderColor:"var(--border-color)","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Caretaker name"}),T.jsx("button",{type:"submit",className:"px-6 py-3 text-base font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer hover:opacity-80",style:{color:"var(--button-secondary-text)",backgroundColor:"var(--button-secondary-bg)","--tw-ring-color":"var(--focus-ring)"},onMouseEnter:tt=>{tt.currentTarget.style.backgroundColor="var(--button-secondary-bg-hover)"},onMouseLeave:tt=>{tt.currentTarget.style.backgroundColor="var(--button-secondary-bg)"},"aria-label":"Add caretaker",children:"Add"})]})]})]})})})}function t5(){return T.jsx("main",{className:"min-h-screen",style:{backgroundColor:"var(--bg-primary)"},children:T.jsxs("section",{className:"px-6 py-12 max-w-2xl mx-auto","aria-labelledby":"about-heading",children:[T.jsx("h1",{id:"about-heading",className:"text-3xl md:text-4xl font-normal mb-6 leading-tight",style:{color:"var(--text-primary)"},children:"About Care Notebook"}),T.jsxs("div",{className:"space-y-6 text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:[T.jsx("p",{children:"Care Notebook is a simple, shared tool for families coordinating daily care. It helps caregivers stay connected, reduce mental load, and ensure nothing falls through the cracks."}),T.jsx("p",{children:"Whether you're caring for a loved one at home, managing shifts between family members, or coordinating with a care team, Care Notebook provides a calm, focused place to track what matters."}),T.jsx("h2",{className:"text-xl font-normal mt-8 mb-4",style:{color:"var(--text-primary)"},children:"Our approach"}),T.jsx("p",{children:"We believe care coordination should be simple, not stressful. That's why Care Notebook:"}),T.jsxs("ul",{className:"space-y-3 ml-4 list-disc",style:{color:"var(--text-secondary)"},children:[T.jsx("li",{children:"Requires no accounts or setup"}),T.jsx("li",{children:"Securely syncs data across all your devices"}),T.jsx("li",{children:"Focuses on what matters today"}),T.jsx("li",{children:"Reduces complexity, not adds to it"})]}),T.jsx("p",{className:"mt-6",children:"Care Notebook is designed for families who need a shared space to coordinate care, with secure cloud storage that keeps your data accessible and synchronized."})]})]})})}function e5(){return T.jsx("main",{className:"min-h-screen",style:{backgroundColor:"var(--bg-primary)"},children:T.jsxs("section",{className:"px-6 py-12 max-w-2xl mx-auto","aria-labelledby":"how-it-works-heading",children:[T.jsx("h1",{id:"how-it-works-heading",className:"text-3xl md:text-4xl font-normal mb-6 leading-tight",style:{color:"var(--text-primary)"},children:"How it works"}),T.jsxs("div",{className:"space-y-8 text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-normal mb-3 inline-flex items-center",style:{color:"var(--text-primary)"},children:[T.jsx(ce,{icon:ee.quickNote,className:"mr-2 opacity-70",style:{fontSize:"0.85em"},"aria-hidden":"true"}),"Add notes"]}),T.jsx("p",{children:"As things happen throughout the day, add quick notes about care, symptoms, observations, or anything that feels important. Notes are timestamped and show who added them."})]}),T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-normal mb-3 inline-flex items-center",style:{color:"var(--text-primary)"},children:[T.jsx(ce,{icon:ee.tasks,className:"mr-2 opacity-70",style:{fontSize:"0.85em"},"aria-hidden":"true"}),"Track what matters"]}),T.jsx("p",{children:"See what needs attention today at a glance. Add tasks or reminders for follow-up care, medications, appointments, or anything that needs to happen next."})]}),T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-normal mb-3 inline-flex items-center",style:{color:"var(--text-primary)"},children:[T.jsx(ce,{icon:ee.handoff,className:"mr-2 opacity-70",style:{fontSize:"0.85em"},"aria-hidden":"true"}),"Hand off care"]}),T.jsx("p",{children:"When it's time to transition care to another caregiver, use the handoff feature to clearly indicate who is now responsible. This helps everyone know who's on duty and reduces confusion during shift changes."})]}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-normal mb-3",style:{color:"var(--text-primary)"},children:"View history"}),T.jsx("p",{children:"Access notes from previous days to see patterns, track progress, or reference what happened earlier. Recent history is available right in the Today view."})]}),T.jsx("div",{className:"mt-8 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:T.jsxs("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:[T.jsx("strong",{style:{color:"var(--text-secondary)"},children:"Note:"})," Your data is securely stored in Firebase and automatically syncs across all devices where you access your care notebook. No accounts are requiredaccess is controlled through your notebook link."]})})]})]})})}function n5(){return T.jsx("main",{className:"min-h-screen",style:{backgroundColor:"var(--bg-primary)"},children:T.jsxs("section",{className:"px-6 py-12 max-w-2xl mx-auto","aria-labelledby":"privacy-heading",children:[T.jsx("h1",{id:"privacy-heading",className:"text-3xl md:text-4xl font-normal mb-6 leading-tight",style:{color:"var(--text-primary)"},children:"Privacy"}),T.jsxs("div",{className:"space-y-6 text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:[T.jsx("p",{children:"Your privacy is important to us. Care Notebook is designed with privacy as a core principle."}),T.jsx("h2",{className:"text-xl font-normal mt-8 mb-4",style:{color:"var(--text-primary)"},children:"Secure cloud storage"}),T.jsx("p",{children:"All care notes, tasks, and care team information are securely stored in Firebase. Your data is encrypted in transit and at rest, and is accessible only to those who have access to your care notebook."}),T.jsx("h2",{className:"text-xl font-normal mt-8 mb-4",style:{color:"var(--text-primary)"},children:"No accounts or authentication"}),T.jsx("p",{children:"Care Notebook doesn't require you to create an account, provide an email address, or authenticate in any way. There's no user database, no login system, and no way for us to identify you or access your data."}),T.jsx("h2",{className:"text-xl font-normal mt-8 mb-4",style:{color:"var(--text-primary)"},children:"No tracking or analytics"}),T.jsx("p",{children:"We don't track your usage, collect analytics, or use any third-party services that might track you. The app runs entirely in your browser with no external connections for data collection."}),T.jsx("h2",{className:"text-xl font-normal mt-8 mb-4",style:{color:"var(--text-primary)"},children:"Your data, your control"}),T.jsx("p",{children:"Your data is stored securely in the cloud, which means you can:"}),T.jsxs("ul",{className:"space-y-2 ml-4 list-disc",style:{color:"var(--text-secondary)"},children:[T.jsx("li",{children:"Access your care notebook from any device with the notebook link"}),T.jsx("li",{children:"Share access with family members and care team members"}),T.jsx("li",{children:"Keep your data synchronized across all devices"})]}),T.jsx("h2",{className:"text-xl font-normal mt-8 mb-4",style:{color:"var(--text-primary)"},children:"Important considerations"}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("p",{children:[T.jsx("strong",{style:{color:"var(--text-primary)"},children:"Cloud-synced:"})," Your data is stored securely in Firebase and automatically syncs across all devices where you access your care notebook."]}),T.jsxs("p",{children:[T.jsx("strong",{style:{color:"var(--text-primary)"},children:"Notebook access:"})," Access to your care notebook is controlled through the notebook link. Anyone with the link can view and edit the notebook."]}),T.jsxs("p",{children:[T.jsx("strong",{style:{color:"var(--text-primary)"},children:"Data security:"})," Your data is encrypted in transit and at rest using Firebase's security infrastructure."]})]}),T.jsx("div",{className:"mt-8 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:T.jsxs("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:[T.jsx("strong",{style:{color:"var(--text-secondary)"},children:"Questions?"})," If you have questions about privacy or how your data is handled, please review Firebase's privacy and security documentation."]})})]})]})})}function a5({onNavigateAbout:r,onNavigateHowItWorks:t,onNavigatePrivacy:a}){const i=f=>{f.preventDefault(),r?.()},o=f=>{f.preventDefault(),t?.()},u=f=>{f.preventDefault(),a?.()};return T.jsx("footer",{className:"border-t py-6 px-6",style:{borderColor:"var(--border-color)",backgroundColor:"var(--bg-primary)"},role:"contentinfo",children:T.jsx("div",{className:"max-w-2xl mx-auto",children:T.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-6 text-sm",style:{color:"var(--text-muted)"},children:[T.jsxs("div",{className:"flex-shrink-0",children:[T.jsx("p",{className:"font-medium",style:{color:"var(--text-secondary)"},children:"Care Notebook  v0.2.0"}),T.jsx("p",{className:"text-xs mt-0.5",children:"Shared care, simply."})]}),T.jsx("div",{className:"flex-shrink-0 text-center sm:text-left",children:T.jsx("small",{style:{color:"var(--text-muted)"},children:"Stored securely in the cloud"})}),T.jsx("nav",{className:"flex-shrink-0","aria-label":"Footer navigation",children:T.jsxs("ul",{className:"flex flex-wrap gap-4 sm:gap-6",children:[T.jsx("li",{children:T.jsx("a",{href:"#",onClick:i,className:"hover:underline focus:outline-none focus:ring-2 focus:ring-offset-2 rounded px-1 transition-colors hover:opacity-80",style:{color:"var(--text-muted)","--tw-ring-color":"var(--focus-ring)"},"aria-label":"About Care Notebook",children:"About"})}),T.jsx("li",{children:T.jsx("a",{href:"#",onClick:o,className:"hover:underline focus:outline-none focus:ring-2 focus:ring-offset-2 rounded px-1 transition-colors hover:opacity-80",style:{color:"var(--text-muted)","--tw-ring-color":"var(--focus-ring)"},"aria-label":"How it works",children:"How it works"})}),T.jsx("li",{children:T.jsx("a",{href:"#",onClick:u,className:"hover:underline focus:outline-none focus:ring-2 focus:ring-offset-2 rounded px-1 transition-colors hover:opacity-80",style:{color:"var(--text-muted)","--tw-ring-color":"var(--focus-ring)"},"aria-label":"Privacy information",children:"Privacy"})})]})})]})})})}const $b="care-app-view";function r5(){const[r,t]=mt.useState(()=>Fo()),[a,i]=mt.useState(()=>{const yt=localStorage.getItem($b);return["home","today","careTeam","about","howItWorks","privacy"].includes(yt)?yt:"home"}),[o,u]=mt.useState(()=>Xl()),[f,m]=mt.useState(!1),g=mt.useMemo(()=>Qb(r||""),[r]);mt.useEffect(()=>{const yt=()=>{const st=Fo();st&&st!==r&&t(st)};return window.addEventListener("popstate",yt),()=>window.removeEventListener("popstate",yt)},[r]),mt.useEffect(()=>{r&&sh(r)},[r]),mt.useEffect(()=>{localStorage.setItem($b,a)},[a]),mt.useEffect(()=>{u(Xl())},[r]);const p=()=>{m(!0)},_=async yt=>{const st=KD();await _u(st).createNotebook(yt),t(st),u(Xl()),m(!1),i("today")},E=yt=>{QD(yt),t(yt),u(Xl()),i("today")},w=()=>{p()},D=()=>{i("home")},P=()=>{i("careTeam")},Y=()=>{i("today")},q=()=>{i("about")},lt=()=>{i("howItWorks")},at=()=>{i("privacy")},rt=a==="home"||a==="today"||a==="about"||a==="howItWorks"||a==="privacy";return T.jsxs(NT.Provider,{value:g,children:[T.jsxs(f4,{onNavigateHome:D,onNavigateCareTeam:a==="today"?P:void 0,onNavigateBack:a==="careTeam"?Y:void 0,currentView:a,children:[a==="today"?T.jsx(JD,{},r):a==="careTeam"?T.jsx(WD,{},r):a==="about"?T.jsx(t5,{}):a==="howItWorks"?T.jsx(e5,{}):a==="privacy"?T.jsx(n5,{}):T.jsx(XD,{onStartNotebook:p,onSwitchNotebook:E,onCreateAnotherNotebook:w,notebookIndex:o}),rt&&T.jsx(a5,{onNavigateAbout:q,onNavigateHowItWorks:lt,onNavigatePrivacy:at})]}),T.jsx(IT,{isOpen:f,onClose:()=>m(!1),onSubmit:_})]})}window.addEventListener("unhandledrejection",r=>{if(r.reason instanceof Error&&r.reason.name==="AbortError"){r.preventDefault();return}r.preventDefault()});window.addEventListener("error",r=>{if(r.error instanceof Error&&r.error.name==="AbortError"){r.preventDefault();return}r.preventDefault()});yA.createRoot(document.getElementById("root")).render(T.jsx(mt.StrictMode,{children:T.jsx(r5,{})}));
